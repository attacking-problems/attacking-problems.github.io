<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<meta name="author" content="Barry Wittman, Tim Korb, Aditya Mathur">
<title>Start Concurrent: A Gentle Introduction to Concurrent Programming</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments, .listingblock .pygments code { background: #f8f8f8; }
.listingblock .pygments .tok-c { color: #408080; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-o { color: #666666 } /* Operator */
.listingblock .pygments .tok-ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.listingblock .pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
.listingblock .pygments .tok-cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.listingblock .pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #FF0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #B00040 } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #666666 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #BA2121 } /* Literal.String */
.listingblock .pygments .tok-na { color: #7D9029 } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #008000 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
.listingblock .pygments .tok-no { color: #880000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #0000FF } /* Name.Function */
.listingblock .pygments .tok-nl { color: #A0A000 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #19177C } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
.listingblock .pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
.listingblock .pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
.listingblock .pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #008000 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
.listingblock .pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
.listingblock .pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
.listingblock .pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Start Concurrent: A Gentle Introduction to Concurrent Programming</h1>
<div class="details">
<span id="author" class="author">Barry Wittman</span><br>
<span id="email" class="email"><a href="mailto:wittman1@otterbein.edu">wittman1@otterbein.edu</a></span><br>
<span id="author2" class="author">Tim Korb</span><br>
<span id="email2" class="email"><a href="mailto:jtk@purdue.edu">jtk@purdue.edu</a></span><br>
<span id="author3" class="author">Aditya Mathur</span><br>
<span id="email3" class="email"><a href="mailto:apm@purdue.edu">apm@purdue.edu</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html#ch01-computer-basics">1. Computer Basics</a>
<ul class="sectlevel2">
<li><a href="index.html#_problem_buying_a_computer">1.1. Problem: Buying a computer</a></li>
<li><a href="index.html#_concepts_hardware_and_software">1.2. Concepts: Hardware and software</a></li>
<li><a href="index.html#_syntax_data_representation">1.3. Syntax: Data representation</a></li>
<li><a href="index.html#_solution_buying_a_computer">1.4. Solution: Buying a computer</a></li>
<li><a href="index.html#_summary">1.5. Summary</a></li>
<li><a href="index.html#_exercises">1.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap1.html#ch02-intro">2. Problem Solving and Programming</a>
<ul class="sectlevel2">
<li><a href="chap1.html#_problem_how_to_solve_problems">2.1. Problem: How to solve problems</a></li>
<li><a href="chap1.html#_concepts_developing_software">2.2. Concepts: Developing software</a></li>
<li><a href="chap1.html#_syntax_java_basics">2.3. Syntax: Java basics</a></li>
<li><a href="chap1.html#_solution_how_to_solve_problems">2.4. Solution: How to solve problems</a></li>
<li><a href="chap1.html#_concurrency_solving_problems_in_parallel">2.5. Concurrency: Solving problems in parallel</a></li>
<li><a href="chap1.html#_summary_2">2.6. Summary</a></li>
<li><a href="chap1.html#_exercises_2">2.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap2.html#ch03-strings-primitive-types">3. Primitive Types and Strings</a>
<ul class="sectlevel2">
<li><a href="chap2.html#_problem_college_cost_calculator">3.1. Problem: College cost calculator</a></li>
<li><a href="chap2.html#_concepts_types">3.2. Concepts: Types</a></li>
<li><a href="chap2.html#_syntax_types_in_java">3.3. Syntax: Types in Java</a></li>
<li><a href="chap2.html#_syntax_useful_libraries">3.4. Syntax: Useful libraries</a></li>
<li><a href="chap2.html#_solution_college_cost_calculator">3.5. Solution: College cost calculator</a></li>
<li><a href="chap2.html#_concurrency_expressions">3.6. Concurrency: Expressions</a></li>
<li><a href="chap2.html#_summary_3">3.7. Summary</a></li>
<li><a href="chap2.html#_exercises_3">3.8. Exercises</a></li>
</ul>
</li>
<li><a href="chap3.html#ch04-selection">4. Selection</a>
<ul class="sectlevel2">
<li><a href="chap3.html#_problem_monty_hall_simulation">4.1. Problem: Monty Hall simulation</a></li>
<li><a href="chap3.html#_concepts_choosing_between_options">4.2. Concepts: Choosing between options</a></li>
<li><a href="chap3.html#_syntax_selection_in_java">4.3. Syntax: Selection in Java</a></li>
<li><a href="chap3.html#_solution_monty_hall">4.4. Solution: Monty Hall</a></li>
<li><a href="chap3.html#_concurrency_selection">4.5. Concurrency: Selection</a></li>
<li><a href="chap3.html#_exercises_4">4.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap4.html#ch05-repetition">5. Repetition</a>
<ul class="sectlevel2">
<li><a href="chap4.html#_problem_dna_searching">5.1. Problem: DNA searching</a></li>
<li><a href="chap4.html#_concepts_repetition">5.2. Concepts: Repetition</a></li>
<li><a href="chap4.html#_syntax_loops_in_java">5.3. Syntax: Loops in Java</a></li>
<li><a href="chap4.html#_solution_dna_searching">5.4. Solution: DNA searching</a></li>
<li><a href="chap4.html#_concurrency_loops">5.5. Concurrency: Loops</a></li>
<li><a href="chap4.html#_exercises_5">5.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap5.html#ch06-arrays">6. Arrays</a>
<ul class="sectlevel2">
<li><a href="chap5.html#_introduction">6.1. Introduction</a></li>
<li><a href="chap5.html#_problem_game_of_life">6.2. Problem: Game of Life</a></li>
<li><a href="chap5.html#_concepts_lists_of_data">6.3. Concepts: Lists of data</a></li>
<li><a href="chap5.html#_syntax_arrays_in_java">6.4. Syntax: Arrays in Java</a></li>
<li><a href="chap5.html#_examples_array_usage">6.5. Examples: Array usage</a></li>
<li><a href="chap5.html#_concepts_multidimensional_lists">6.6. Concepts: Multidimensional lists</a></li>
<li><a href="chap5.html#_syntax_advanced_arrays_in_java">6.7. Syntax: Advanced arrays in Java</a></li>
<li><a href="chap5.html#_examples_two_dimensional_arrays">6.8. Examples: Two-dimensional arrays</a></li>
<li><a href="chap5.html#_advanced_special_array_tools_in_java">6.9. Advanced: Special array tools in Java</a></li>
<li><a href="chap5.html#_solution_game_of_life">6.10. Solution: Game of Life</a></li>
<li><a href="chap5.html#_concurrency_arrays">6.11. Concurrency: Arrays</a></li>
<li><a href="chap5.html#_exercises_6">6.12. Exercises</a></li>
</ul>
</li>
<li><a href="chap6.html#ch07-gui-basics">7. Simple Graphical User Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap6.html#_problem_codon_extractor">7.1. Problem: Codon extractor</a></li>
<li><a href="chap6.html#GUIBasicsIntroductionSection">7.2. Concepts: User interaction</a></li>
<li><a href="chap6.html#_syntax_dialogs_and_the_joptionpane_class">7.3. Syntax: Dialogs and the <code>JOptionPane</code> class</a></li>
<li><a href="chap6.html#_solution_codon_extractor">7.4. Solution: Codon extractor</a></li>
<li><a href="chap6.html#_concurrency_simple_guis">7.5. Concurrency: Simple GUIs</a></li>
<li><a href="chap6.html#_summary_4">7.6. Summary</a></li>
<li><a href="chap6.html#_exercises_7">7.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap7.html#ch08-methods">8. Methods</a>
<ul class="sectlevel2">
<li><a href="chap7.html#_problem_three_card_poker">8.1. Problem: Three card poker</a></li>
<li><a href="chap7.html#_concepts_dividing_work_into_segments">8.2. Concepts: Dividing work into segments</a></li>
<li><a href="chap7.html#_syntax_methods">8.3. Syntax: Methods</a></li>
<li><a href="chap7.html#_examples_defining_methods">8.4. Examples: Defining methods</a></li>
<li><a href="chap7.html#_solution_three_card_poker">8.5. Solution: Three card poker</a></li>
<li><a href="chap7.html#_concurrency_methods">8.6. Concurrency: Methods</a></li>
<li><a href="chap7.html#_exercises_8">8.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap8.html#ch09-classes">9. Classes</a>
<ul class="sectlevel2">
<li><a href="chap8.html#_problem_nested_expressions">9.1. Problem: Nested expressions</a></li>
<li><a href="chap8.html#_concepts_object_oriented_programming">9.2. Concepts: Object-oriented programming</a></li>
<li><a href="chap8.html#_syntax_classes_in_java">9.3. Syntax: Classes in Java</a></li>
<li><a href="chap8.html#_examples_classes">9.4. Examples: Classes</a></li>
<li><a href="chap8.html#_advanced_nested_classes">9.5. Advanced: Nested classes</a></li>
<li><a href="chap8.html#_solution_nested_expressions">9.6. Solution: Nested expressions</a></li>
<li><a href="chap8.html#_concurrency_objects">9.7. Concurrency: Objects</a></li>
<li><a href="chap8.html#_exercises_9">9.8. Exercises</a></li>
</ul>
</li>
<li><a href="#ch10-interfaces">10. Interfaces</a>
<ul class="sectlevel2">
<li><a href="#_problem_sort_it_out">10.1. Problem: Sort it out</a></li>
<li><a href="#_concepts_making_a_promise">10.2. Concepts: Making a promise</a></li>
<li><a href="#_syntax_interfaces">10.3. Syntax: Interfaces</a></li>
<li><a href="#_advanced_local_and_anonymous_classes">10.4. Advanced: Local and anonymous classes</a></li>
<li><a href="#_solution_sort_it_out">10.5. Solution: Sort it out</a></li>
<li><a href="#_concurrency_interfaces">10.6. Concurrency: Interfaces</a></li>
<li><a href="#_exercises_10">10.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap10.html#ch11-inheritance">11. Inheritance</a>
<ul class="sectlevel2">
<li><a href="chap10.html#_problem_boolean_circuits">11.1. Problem: Boolean circuits</a></li>
<li><a href="chap10.html#_concepts_refining_classes">11.2. Concepts: Refining classes</a></li>
<li><a href="chap10.html#_syntax_inheritance_in_java">11.3. Syntax: Inheritance in Java</a></li>
<li><a href="chap10.html#_examples_problem_solving_with_inheritance">11.4. Examples: Problem solving with inheritance</a></li>
<li><a href="chap10.html#_solution_boolean_circuits">11.5. Solution: Boolean circuits</a></li>
<li><a href="chap10.html#_concurrency_inheritance">11.6. Concurrency: Inheritance</a></li>
<li><a href="chap10.html#_exercises_11">11.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap11.html#ch12-exceptions">12. Exceptions</a>
<ul class="sectlevel2">
<li><a href="chap11.html#_problem_bank_burglary">12.1. Problem: Bank burglary</a></li>
<li><a href="chap11.html#_concepts_error_handling">12.2. Concepts: Error handling</a></li>
<li><a href="chap11.html#_syntax_exceptions_in_java">12.3. Syntax: Exceptions in Java</a></li>
<li><a href="chap11.html#_solution_bank_burglary">12.4. Solution: Bank burglary</a></li>
<li><a href="chap11.html#_concurrency_exceptions">12.5. Concurrency: Exceptions</a></li>
<li><a href="chap11.html#_exercises_12">12.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap12.html#ch13-concurrency">13. Concurrent Programming</a>
<ul class="sectlevel2">
<li><a href="chap12.html#_introduction_2">13.1. Introduction</a></li>
<li><a href="chap12.html#_problem_deadly_virus">13.2. Problem: Deadly virus</a></li>
<li><a href="chap12.html#_concepts_splitting_up_work">13.3. Concepts: Splitting up work</a></li>
<li><a href="chap12.html#_syntax_threads_in_java">13.4. Syntax: Threads in Java</a></li>
<li><a href="chap12.html#_examples_concurrency_and_speedup">13.5. Examples: Concurrency and speedup</a></li>
<li><a href="chap12.html#_concepts_thread_scheduling">13.6. Concepts: Thread scheduling</a></li>
<li><a href="chap12.html#_syntax_thread_states">13.7. Syntax: Thread states</a></li>
<li><a href="chap12.html#_solution_deadly_virus">13.8. Solution: Deadly virus</a></li>
<li><a href="chap12.html#_summary_5">13.9. Summary</a></li>
<li><a href="chap12.html#_exercises_13">13.10. Exercises</a></li>
</ul>
</li>
<li><a href="chap13.html#ch14-synchronization">14. Synchronization</a>
<ul class="sectlevel2">
<li><a href="chap13.html#_introduction_3">14.1. Introduction</a></li>
<li><a href="chap13.html#_problem_dining_philosophers">14.2. Problem: Dining philosophers</a></li>
<li><a href="chap13.html#_concepts_thread_interaction">14.3. Concepts: Thread interaction</a></li>
<li><a href="chap13.html#_syntax_thread_synchronization">14.4. Syntax: Thread synchronization</a></li>
<li><a href="chap13.html#_pitfalls_synchronization_challenges">14.5. Pitfalls: Synchronization challenges</a></li>
<li><a href="chap13.html#_solution_dining_philosophers">14.6. Solution: Dining philosophers</a></li>
<li><a href="chap13.html#_exercises_14">14.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap14.html#ch15-gui">15. Constructing Graphical User Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap14.html#_problem_math_applet">15.1. Problem: Math applet</a></li>
<li><a href="chap14.html#_concepts_graphical_user_interfaces">15.2. Concepts: Graphical user interfaces</a></li>
<li><a href="chap14.html#_syntax_guis_in_java">15.3. Syntax: GUIs in Java</a></li>
<li><a href="chap14.html#_solution_math_applet">15.4. Solution: Math applet</a></li>
<li><a href="chap14.html#_concurrency_guis">15.5. Concurrency: GUIs</a></li>
<li><a href="chap14.html#_summary_6">15.6. Summary</a></li>
<li><a href="chap14.html#_exercises_15">15.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap15.html#ch16-testing-and-debugging">16. Testing and Debugging</a>
<ul class="sectlevel2">
<li><a href="chap15.html#_fixing_bugs">16.1. Fixing bugs</a></li>
<li><a href="chap15.html#_concepts_approaches_to_debugging">16.2. Concepts: Approaches to debugging</a></li>
<li><a href="chap15.html#_syntax_java_debugging_tools">16.3. Syntax: Java debugging tools</a></li>
<li><a href="chap15.html#_concurrency_parallel_bugs">16.4. Concurrency: Parallel bugs</a></li>
<li><a href="chap15.html#_finding_and_avoiding_bugs">16.5. Finding and avoiding bugs</a></li>
<li><a href="chap15.html#_concepts_design_implementation_and_testing">16.6. Concepts: Design, implementation, and testing</a></li>
<li><a href="chap15.html#_syntax_java_testing_tools">16.7. Syntax: Java testing tools</a></li>
<li><a href="chap15.html#_concurrency_testing_tools">16.8. Concurrency: Testing tools</a></li>
<li><a href="chap15.html#_examples_testing_a_class">16.9. Examples: Testing a class</a></li>
<li><a href="chap15.html#_exercises_16">16.10. Exercises</a></li>
</ul>
</li>
<li><a href="chap16.html#ch17-polymorphism">17. Polymorphism</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_problem_banking_account_with_a_vengeance">17.1. Problem: Banking account with a vengeance</a></li>
<li><a href="chap16.html#_concepts_polymorphism">17.2. Concepts: Polymorphism</a></li>
<li><a href="chap16.html#_syntax_inheritance_tools_in_java">17.3. Syntax: Inheritance tools in Java</a></li>
<li><a href="chap16.html#_solution_banking_account_with_a_vengeance">17.4. Solution: Banking account with a vengeance</a></li>
<li><a href="chap16.html#_concurrency_atomic_libraries">17.5. Concurrency: Atomic libraries</a></li>
<li><a href="chap16.html#_exercises_17">17.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap17.html#ch18-dynamic-data-structures">18. Dynamic Data Structures</a>
<ul class="sectlevel2">
<li><a href="chap17.html#_problem_infix_conversion">18.1. Problem: Infix conversion</a></li>
<li><a href="chap17.html#_concepts_dynamic_data_structures">18.2. Concepts: Dynamic data structures</a></li>
<li><a href="chap17.html#_syntax_dynamic_arrays_and_linked_lists">18.3. Syntax: Dynamic arrays and linked lists</a></li>
<li><a href="chap17.html#_syntax_abstract_data_types_adt">18.4. Syntax: Abstract data types (ADT)</a></li>
<li><a href="chap17.html#_advanced_generic_data_structures">18.5. Advanced: Generic data structures</a></li>
<li><a href="chap17.html#_solution_infix_conversion">18.6. Solution: Infix conversion</a></li>
<li><a href="chap17.html#_concurrency_linked_lists_and_thread_safety">18.7. Concurrency: Linked lists and thread safety</a></li>
<li><a href="chap17.html#_concurrency_thread_safe_libraries">18.8. Concurrency: Thread-safe libraries</a></li>
<li><a href="chap17.html#_exercises_18">18.9. Exercises</a></li>
</ul>
</li>
<li><a href="chap18.html#ch19-recursion">19. Recursion</a>
<ul class="sectlevel2">
<li><a href="chap18.html#_problem_maze_of_doom">19.1. Problem: Maze of doom</a></li>
<li><a href="chap18.html#_concepts_recursive_problem_solving">19.2. Concepts: Recursive problem solving</a></li>
<li><a href="chap18.html#_syntax_recursive_methods">19.3. Syntax: Recursive methods</a></li>
<li><a href="chap18.html#_syntax_recursive_data_structures">19.4. Syntax: Recursive data structures</a></li>
<li><a href="chap18.html#_solution_maze_of_doom">19.5. Solution: Maze of doom</a></li>
<li><a href="chap18.html#_concurrency_futures">19.6. Concurrency: Futures</a></li>
<li><a href="chap18.html#_exercises_19">19.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap19.html#ch20-file-io">20. File I/O</a>
<ul class="sectlevel2">
<li><a href="chap19.html#_problem_a_picture_is_worth_1000_bytes">20.1. Problem: A picture is worth 1,000 bytes</a></li>
<li><a href="chap19.html#_concepts_file_io">20.2. Concepts: File I/O</a></li>
<li><a href="chap19.html#_syntax_file_operations_in_java">20.3. Syntax: File operations in Java</a></li>
<li><a href="chap19.html#_examples_file_examples">20.4. Examples: File examples</a></li>
<li><a href="chap19.html#_solution_a_picture_is_worth_1000_bytes">20.5. Solution: A picture is worth 1,000 bytes</a></li>
<li><a href="chap19.html#_concurrency_file_io">20.6. Concurrency: File I/O</a></li>
<li><a href="chap19.html#_exercises_20">20.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap20.html#ch21-network-communication">21. Network Communication</a>
<ul class="sectlevel2">
<li><a href="chap20.html#_problem_web_server">21.1. Problem: Web server</a></li>
<li><a href="chap20.html#_concepts_tcpip_communication">21.2. Concepts: TCP/IP communication</a></li>
<li><a href="chap20.html#_syntax_networking_in_java">21.3. Syntax: Networking in Java</a></li>
<li><a href="chap20.html#_solution_web_server">21.4. Solution: Web server</a></li>
<li><a href="chap20.html#_concurrency_networking">21.5. Concurrency: Networking</a></li>
<li><a href="chap20.html#_exercises_21">21.6. Exercises</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content"><div class="sect1">
<h2 id="ch10-interfaces">10. Interfaces</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Our work is the presentation of our capabilities.</p>
</div>
</blockquote>
<div class="attribution">
— Edward Gibbon
</div>
</div>
<div class="sect2">
<h3 id="_problem_sort_it_out">10.1. Problem: Sort it out</h3>
<div class="paragraph">
<p>Defining classes as we did in <a href="chap8.html#ch09-classes">Chapter 9</a> provides us
with useful tools. First, we can group related data together. Then, we
can encapsulate that data so that it can only be changed in carefully
controlled ways. But these ideas are only a fraction of the true power
of object orientation that becomes apparent when we exploit
relationships between different classes. Eventually, in
<a href="chap10.html#ch11-inheritance">Chapter 11</a>, we will talk about hierarchical
relationships, in which one class can be the parent of many other child
classes. However, there is a simpler relationship that classes can
share, the ability to do some specific action or answer some specific
question. If we know that several different classes can all do the same
things, we want to be able to treat them in a unified way. For example,
imagine that you are writing code to aid laboratory analysis of the free
radical content of a number of creatures and items. For this analysis it
is necessary to sort the test subjects by weight and by age.</p>
</div>
<div class="paragraph">
<p>The subjects you are going to sort will be objects of type <code>Dog</code>, <code>Cat</code>,
<code>Person</code>, and <code>Cheese</code>. All of these subjects will have some calendar
age. Naturally, the age we are interested for a <code>Dog</code> is 7 times its
calendar age. At the same time, because a cat has nine lives, we will
use \(\frac{1}{9}\) of its calendar age. The age we use for
<code>Person</code> and <code>Cheese</code> objects is simply their calendar age.</p>
</div>
<div class="paragraph">
<p>As we discussed in <a href="chap5.html#selectionSortExample">Example 63</a>, sorting is one of
the most fundamental things that computer scientists do. In that
example, we introduced selection sort. Here we are going to use another
sort called bubble sort. We are introducing bubble sort to expose you to
another way to sort data. Although they are easy to understand, neither
bubble sort nor selection sort are the fastest ways known to sort lists.</p>
</div>
<div class="paragraph">
<p>Bubble sort works by scanning through a list of items, a pair at a time,
and swapping the elements of the pair if they are out of order. One scan
through the list is called a <em>pass</em>. The algorithm keeps making passes
until no consecutive pair of elements is out of order. Here is an
implementation of bubble sort that sorts an array of <code>int</code> values in
ascending order.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kt">boolean</span> <span class="tok-n">swapped</span> <span class="tok-o">=</span> <span class="tok-kc">true</span><span class="tok-o">;</span>
<span class="tok-kt">int</span> <span class="tok-n">temp</span><span class="tok-o">;</span>
<span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-n">swapped</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">swapped</span> <span class="tok-o">=</span> <span class="tok-kc">false</span><span class="tok-o">;</span>
    <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">array</span><span class="tok-o">.</span><span class="tok-na">length</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">]</span> <span class="tok-o">&gt;</span> <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">]</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-n">temp</span> <span class="tok-o">=</span> <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">];</span>
            <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">];</span>
            <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-n">temp</span><span class="tok-o">;</span>
            <span class="tok-n">swapped</span> <span class="tok-o">=</span> <span class="tok-kc">true</span><span class="tok-o">;</span>
        <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Pitfall: Array out of bounds</div>
<div class="paragraph">
<p>Note that index variable <code>i</code> stops before <code>array.length - 1</code> since we
don’t want to get an<br>
<code>ArrayIndexOutOfBoundsException</code> when looking at <code>array[i + 1]</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The only change needed to make a bubble sort work with lists of
arbitrary objects (instead of just <code>int</code> values) is the <code>if</code> statement.
Likewise, changing the greater than (<code>&gt;</code>) to a less than (<code>&lt;</code>) will
change the sort from ascending to descending.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concepts_making_a_promise">10.2. Concepts: Making a promise</h3>
<div class="paragraph">
<p>Knowing how to sort a list of items is half of the problem we want to
solve. The other half is designing the classes so that sorting by either
age or weight is easy. And easy sorting is not enough: We want to follow
good object oriented design so that sorting future classes will be easy
as well.</p>
</div>
<div class="paragraph">
<p>For these kinds of situations, Java has a feature called <em>interfaces</em>.
An interface is a set of methods that a class must have in order to
<em>implement</em> that interface. If a class implements an interface, it is
making a promise to have a version of each of the methods listed in the
interface. It can choose to do anything it wants inside the body of each
method, but it must have them to compile. Interfaces are also described
as contracts, since a contract is a promise to do certain things. One
reason that interfaces are so useful is because Java allows a class to
implement any number of them.</p>
</div>
<div class="paragraph">
<p>The purpose of an interface is to guarantee that a class has the
capability to do something. In the case of this sorting problem, we will
need to sort by age and weight. Consequently, the ability to report age
and weight are the two important capabilities that the objects we are
sorting must have.</p>
</div>
</div>
<div class="sect2">
<h3 id="_syntax_interfaces">10.3. Syntax: Interfaces</h3>
<div class="paragraph">
<p>Declaring an interface is similar to declaring a class except that
interfaces can only hold public abstract methods and constants. An
<em>abstract method</em> is one that does not have a body. Its return type,
name, and parameters are given, but this information is concluded with a
semicolon (<code>;</code>) instead of a method body. Because the purpose of an
interface is to ensure a class has certain publicly available
capabilities, all abstract methods and constants listed in an interface
are assumed to be <code>public</code>. It is legal but needlessly cluttered to mark
each method with <code>public</code>, and it is illegal to mark them with <code>private</code>
or <code>protected</code>.</p>
</div>
<div class="paragraph">
<p>Here is an interface for a guitar player that defines two abstract
methods.</p>
</div>
<div id="GuitaristProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno">1 </span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Guitarist</span> <span class="tok-o">{</span>
<span class="lineno">2 </span>    <span class="tok-kt">void</span> <span class="tok-nf">strumChord</span><span class="tok-o">(</span> <span class="tok-n">Chord</span> <span class="tok-n">chord</span> <span class="tok-o">);</span>
<span class="lineno">3 </span>    <span class="tok-kt">void</span> <span class="tok-nf">playMelody</span><span class="tok-o">(</span> <span class="tok-n">Melody</span> <span class="tok-n">notes</span> <span class="tok-o">);</span>
<span class="lineno">4 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Any class that implements this interface must have both of these
methods, declared with the access modifier <code>public</code>, the same return
types, and the same parameters. We could create a <code>RockGuitarist</code> class
that implements <code>Guitarist</code> as follows.</p>
</div>
<div id="RockGuitaristProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">RockGuitarist</span> <span class="tok-kd">implements</span> <span class="tok-n">Guitarist</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">strumChord</span><span class="tok-o">(</span> <span class="tok-n">Chord</span> <span class="tok-n">chord</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 3 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;Totally wails on that &quot;</span> <span class="tok-o">+</span> <span class="tok-n">chord</span><span class="tok-o">.</span><span class="tok-na">getName</span><span class="tok-o">()</span>
<span class="lineno"> 4 </span>                <span class="tok-o">+</span> <span class="tok-s">&quot; chord!&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 5 </span>    <span class="tok-o">}</span>
<span class="lineno"> 6 </span>
<span class="lineno"> 7 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">playMelody</span><span class="tok-o">(</span> <span class="tok-n">Melody</span> <span class="tok-n">notes</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 8 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span> <span class="tok-s">&quot;Burns through the notes &quot;</span> <span class="tok-o">+</span>
<span class="lineno"> 9 </span>                <span class="tok-n">notes</span><span class="tok-o">.</span><span class="tok-na">toString</span><span class="tok-o">()</span> <span class="tok-o">+</span> <span class="tok-s">&quot; like Jimmy Page!&quot;</span> <span class="tok-o">);</span>
<span class="lineno">10 </span>    <span class="tok-o">}</span>
<span class="lineno">11 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Or we can create a <code>ClassicalGuitarist</code> class. A classical guitarist is
going to approach playing a chord or a melody differently from a rock
guitarist. Java only requires that all the methods in the interface are
implemented.</p>
</div>
<div id="ClassicalGuitaristProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">ClassicalGuitarist</span> <span class="tok-kd">implements</span> <span class="tok-n">Guitarist</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">strumChord</span><span class="tok-o">(</span> <span class="tok-n">Chord</span> <span class="tok-n">chord</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 3 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span> <span class="tok-s">&quot;Delicately voices a &quot;</span> <span class="tok-o">+</span> <span class="tok-n">chord</span><span class="tok-o">.</span><span class="tok-na">getName</span><span class="tok-o">()</span>
<span class="lineno"> 4 </span>                <span class="tok-o">+</span> <span class="tok-s">&quot; chord.&quot;</span> <span class="tok-o">);</span>
<span class="lineno"> 5 </span>    <span class="tok-o">}</span>
<span class="lineno"> 6 </span>
<span class="lineno"> 7 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">playMelody</span><span class="tok-o">(</span> <span class="tok-n">Melody</span> <span class="tok-n">notes</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 8 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;Plucks the melodic line &quot;</span>
<span class="lineno"> 9 </span>                <span class="tok-o">+</span> <span class="tok-n">notes</span><span class="tok-o">.</span><span class="tok-na">toString</span><span class="tok-o">()</span>
<span class="lineno">10 </span>                <span class="tok-o">+</span> <span class="tok-s">&quot; with the skill of John Williams.&quot;</span><span class="tok-o">);</span>
<span class="lineno">11 </span>    <span class="tok-o">}</span>
<span class="lineno">12 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Interfaces make our code more flexible because we can use a reference
with an interface type to refer to any objects which implement that
interface. In the following snippet of code we do this by creating 100
<code>Guitarist</code> references, each of which randomly points to either a
<code>RockGuitarist</code> or a <code>ClassicalGuitarist</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">Guitarist</span><span class="tok-o">[]</span> <span class="tok-n">guitarists</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Guitarist</span><span class="tok-o">[</span><span class="tok-mi">100</span><span class="tok-o">];</span>
<span class="tok-n">Random</span> <span class="tok-n">random</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Random</span><span class="tok-o">();</span>
<span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">guitarists</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
    <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-na">nextBoolean</span><span class="tok-o">()</span> <span class="tok-o">)</span>
        <span class="tok-n">guitarists</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">RockGuitarist</span><span class="tok-o">();</span>
    <span class="tok-k">else</span>
        <span class="tok-n">guitarists</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ClassicalGuitarist</span><span class="tok-o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Mistakes in the use of interfaces should generally be caught at compile
time. If you implement an interface with a class you are writing but
forget (or misspell) a required method, the compiler will fail to
compile that class. If you remember all of the required methods but
forget to specify that your class implements a particular interface, the
compiler will fail when you try to use that class in a place where that
interface is required.</p>
</div>
<div class="paragraph">
<p>If you have code that takes some arbitrary object as a parameter, you
can determine if that object implements a particular interface by using
the <code>instanceof</code> keyword. For example, the following method takes a
<code>Chord</code> object and an object of type <code>Object</code>. The <code>Object</code> type is the
most basic reference type there is. All reference types in Java can be
treated as an <code>Object</code> type. Thus, a reference of type <code>Object</code> could
point at any object of any type. In this case, if the <code>Object</code> turns out
to implement the <code>Guitarist</code> interface, we can cast it to a <code>Guitarist</code>
and use it to strum a chord.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kt">void</span> <span class="tok-nf">checkBeforeStrum</span><span class="tok-o">(</span> <span class="tok-n">Object</span> <span class="tok-n">unknown</span><span class="tok-o">,</span> <span class="tok-n">Chord</span> <span class="tok-n">chord</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">unknown</span> <span class="tok-k">instanceof</span> <span class="tok-n">Guitarist</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-n">Guitarist</span> <span class="tok-n">player</span> <span class="tok-o">=</span> <span class="tok-o">(</span><span class="tok-n">Guitarist</span><span class="tok-o">)</span><span class="tok-n">unknown</span><span class="tok-o">;</span>
        <span class="tok-n">player</span><span class="tok-o">.</span><span class="tok-na">strumChord</span><span class="tok-o">(</span> <span class="tok-n">chord</span> <span class="tok-o">);</span>
    <span class="tok-o">}</span>
    <span class="tok-k">else</span>
        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;That's not a guitarist!&quot;</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Pitfall: Interfaces cannot be instantiated</div>
<div class="paragraph">
<p>It is tempting to try to create an object of an interface type. If you
think about this carefully, it should be clear why this is impossible.
An interface is a promise to do things, but it is not a class. It has no
data nor methods to manipulate data. Thus, the following code will fail
to compile.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">Guitarist</span> <span class="tok-n">guitarist</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Guitarist</span><span class="tok-o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We are permitted to make a reference to objects that implement
<code>Guitarist</code>. We can make an array that holds such references. The
interface itself, however, can never be instantiated.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_interfaces_and_static">10.3.1. Interfaces and <code>static</code></h4>
<div class="paragraph">
<p>When designing an interface, you cannot mark a method as <code>static</code>.
Whether or not a method is <code>static</code> is considered by Java to be an
implementation detail that is not suitable to specify in an interface.
For example, even with <code>Chord</code> and <code>Melody</code> defined, the following
interface fails to compile.</p>
</div>
<div id="StaticGuitaristProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno">1 </span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">StaticGuitarist</span> <span class="tok-o">{</span>
<span class="lineno">2 </span>    <span class="tok-kt">void</span> <span class="tok-nf">strumChord</span><span class="tok-o">(</span> <span class="tok-n">Chord</span> <span class="tok-n">chord</span> <span class="tok-o">);</span>
<span class="lineno">3 </span>    <span class="tok-kt">void</span> <span class="tok-nf">playMelody</span><span class="tok-o">(</span> <span class="tok-n">Melody</span> <span class="tok-n">notes</span> <span class="tok-o">);</span>
<span class="lineno">4 </span>    <span class="tok-kd">static</span> <span class="tok-kt">int</span> <span class="tok-nf">getStrings</span><span class="tok-o">();</span>
<span class="lineno">5 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The designers of Java decided that they did not want their language to
function this way. Some languages like PHP allow the equivalent of
static methods in interfaces.</p>
</div>
<div class="paragraph">
<p>Neither fields nor class variables are allowed in interfaces either, but
class constants are allowed. Thus, we could define <code>static</code> <code>final</code>
values that might be useful to any class implementing an interface. With
<code>Chord</code> and <code>Melody</code> defined, the following interface <strong>will</strong> compile.</p>
</div>
<div id="ConstantGuitaristProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">ConstantGuitarist</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>    <span class="tok-kd">static</span> <span class="tok-kd">final</span> <span class="tok-kt">int</span> <span class="tok-n">MAJOR</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>    <span class="tok-kd">static</span> <span class="tok-kd">final</span> <span class="tok-kt">int</span> <span class="tok-n">NATURAL_MINOR</span> <span class="tok-o">=</span> <span class="tok-mi">2</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">static</span> <span class="tok-kd">final</span> <span class="tok-kt">int</span> <span class="tok-n">HARMONIC_MINOR</span> <span class="tok-o">=</span> <span class="tok-mi">3</span><span class="tok-o">;</span>
<span class="lineno"> 5 </span>    <span class="tok-kd">static</span> <span class="tok-kd">final</span> <span class="tok-kt">int</span> <span class="tok-n">MELODIC_MINOR</span> <span class="tok-o">=</span> <span class="tok-mi">4</span><span class="tok-o">;</span>
<span class="lineno"> 6 </span>    <span class="tok-kd">static</span> <span class="tok-kd">final</span> <span class="tok-kt">int</span> <span class="tok-n">CHROMATIC</span> <span class="tok-o">=</span> <span class="tok-mi">5</span><span class="tok-o">;</span>
<span class="lineno"> 7 </span>    <span class="tok-kd">static</span> <span class="tok-kd">final</span> <span class="tok-kt">int</span> <span class="tok-n">PENTATONIC</span> <span class="tok-o">=</span> <span class="tok-mi">6</span><span class="tok-o">;</span>
<span class="lineno"> 8 </span>
<span class="lineno"> 9 </span>    <span class="tok-kt">void</span> <span class="tok-nf">strumChord</span><span class="tok-o">(</span> <span class="tok-n">Chord</span> <span class="tok-n">chord</span> <span class="tok-o">);</span>
<span class="lineno">10 </span>    <span class="tok-kt">void</span> <span class="tok-nf">playMelody</span><span class="tok-o">(</span> <span class="tok-n">Melody</span> <span class="tok-n">notes</span> <span class="tok-o">);</span>
<span class="lineno">11 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Many modern Java users object to the use of constants in interfaces,
since the purpose of an interface is to define a list of a requirements
for what a class does rather than dealing with data values.
Nevertheless, constants are allowed in interfaces, and the Java API does
so in many cases.</p>
</div>
<div id="supermarketPricingExample" class="exampleblock">
<div class="title">Example 87. Supermarket pricing</div>
<div class="content">
<div class="paragraph">
<p>Interface names often include the suffix <em>-able</em>, for example,
<code>Runnable</code>, <code>Callable</code>, and <code>Comparable</code>. This suffix is typical because
it reminds us that a class implementing an interface has some specific
ability. Let’s consider an example in a supermarket in which the items
could have very little in common with each other but they all have a
price. We could define the interface <code>Priceable</code> as follows.</p>
</div>
<div id="PriceableProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno">1 </span><span class="tok-kd">interface</span> <span class="tok-nc">Priceable</span> <span class="tok-o">{</span>
<span class="lineno">2 </span>    <span class="tok-kt">double</span> <span class="tok-nf">getPrice</span><span class="tok-o">();</span>
<span class="lineno">3 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If bananas cost $0.49 a pound, we can define the <code>Bananas</code> class as
follows.</p>
</div>
<div id="BananasProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Bananas</span> <span class="tok-kd">implements</span> <span class="tok-n">Priceable</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kd">final</span> <span class="tok-kt">double</span> <span class="tok-n">PRICE_PER_POUND</span> <span class="tok-o">=</span> <span class="tok-mf">0.49</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>    <span class="tok-kd">private</span> <span class="tok-kt">double</span> <span class="tok-n">weight</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>
<span class="lineno"> 5 </span>    <span class="tok-kd">public</span> <span class="tok-nf">Bananas</span><span class="tok-o">(</span> <span class="tok-kt">double</span> <span class="tok-n">weight</span> <span class="tok-o">)</span> <span class="tok-o">{</span> <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">weight</span> <span class="tok-o">=</span> <span class="tok-n">weight</span><span class="tok-o">;</span> <span class="tok-o">}</span>
<span class="lineno"> 6 </span>
<span class="lineno"> 7 </span>    <span class="tok-kd">public</span> <span class="tok-kt">double</span> <span class="tok-nf">getPrice</span><span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno"> 8 </span>        <span class="tok-k">return</span> <span class="tok-n">weight</span><span class="tok-o">*</span><span class="tok-n">PRICE_PER_POUND</span><span class="tok-o">;</span>
<span class="lineno"> 9 </span>    <span class="tok-o">}</span>
<span class="lineno">10 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If eggs are $1.50 for a dozen large eggs and $1.75 for a dozen extra
large eggs, we can define the <code>Eggs</code> class as follows.</p>
</div>
<div id="EggsProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Eggs</span> <span class="tok-kd">implements</span> <span class="tok-n">Priceable</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kd">final</span> <span class="tok-kt">double</span> <span class="tok-n">PRICE_PER_DOZEN_LARGE</span> <span class="tok-o">=</span> <span class="tok-mf">1.5</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kd">final</span> <span class="tok-kt">double</span> <span class="tok-n">PRICE_PER_DOZEN_EXTRA_LARGE</span> <span class="tok-o">=</span> <span class="tok-mf">1.75</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">private</span> <span class="tok-kt">int</span> <span class="tok-n">dozens</span><span class="tok-o">;</span>
<span class="lineno"> 5 </span>    <span class="tok-kd">private</span> <span class="tok-kt">boolean</span> <span class="tok-n">extraLarge</span><span class="tok-o">;</span>
<span class="lineno"> 6 </span>
<span class="lineno"> 7 </span>    <span class="tok-kd">public</span> <span class="tok-nf">Eggs</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">dozens</span><span class="tok-o">,</span> <span class="tok-kt">boolean</span> <span class="tok-n">extraLarge</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 8 </span>        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">dozens</span> <span class="tok-o">=</span> <span class="tok-n">dozens</span><span class="tok-o">;</span>
<span class="lineno"> 9 </span>        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">extraLarge</span> <span class="tok-o">=</span> <span class="tok-n">extraLarge</span><span class="tok-o">;</span>
<span class="lineno">10 </span>    <span class="tok-o">}</span>
<span class="lineno">11 </span>
<span class="lineno">12 </span>    <span class="tok-kd">public</span> <span class="tok-kt">double</span> <span class="tok-nf">getPrice</span><span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno">13 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">extraLarge</span> <span class="tok-o">)</span>
<span class="lineno">14 </span>            <span class="tok-k">return</span> <span class="tok-n">dozens</span><span class="tok-o">*</span><span class="tok-n">PRICE_PER_DOZEN_EXTRA_LARGE</span><span class="tok-o">;</span>
<span class="lineno">15 </span>        <span class="tok-k">else</span>
<span class="lineno">16 </span>            <span class="tok-k">return</span> <span class="tok-n">dozens</span><span class="tok-o">*</span><span class="tok-n">PRICE_PER_DOZEN_LARGE</span><span class="tok-o">;</span>
<span class="lineno">17 </span>    <span class="tok-o">}</span>
<span class="lineno">18 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, if water is $0.99 a gallon, we can define the <code>Water</code> class as
follows.</p>
</div>
<div id="WaterProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno">1 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Water</span> <span class="tok-kd">implements</span> <span class="tok-n">Priceable</span> <span class="tok-o">{</span>
<span class="lineno">2 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kd">final</span> <span class="tok-kt">double</span> <span class="tok-n">PRICE_PER_GALLON</span> <span class="tok-o">=</span> <span class="tok-mf">0.99</span><span class="tok-o">;</span>
<span class="lineno">3 </span>    <span class="tok-kd">private</span> <span class="tok-kt">int</span> <span class="tok-n">gallons</span><span class="tok-o">;</span>
<span class="lineno">4 </span>
<span class="lineno">5 </span>    <span class="tok-kd">public</span> <span class="tok-nf">Water</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">gallons</span> <span class="tok-o">)</span> <span class="tok-o">{</span> <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">gallons</span> <span class="tok-o">=</span> <span class="tok-n">gallons</span><span class="tok-o">;</span> <span class="tok-o">}</span>
<span class="lineno">6 </span>
<span class="lineno">7 </span>    <span class="tok-kd">public</span> <span class="tok-kt">double</span> <span class="tok-nf">getPrice</span><span class="tok-o">()</span> <span class="tok-o">{</span> <span class="tok-k">return</span> <span class="tok-n">gallons</span><span class="tok-o">*</span><span class="tok-n">PRICE_PER_GALLON</span><span class="tok-o">;</span> <span class="tok-o">}</span>
<span class="lineno">8 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Each class could be much more complicated, but the code shown is all
that is needed to implement the <code>Priceable</code> interface. Even though there
is no clear relationship between bananas, eggs, and water, a shopping
cart filled with these items (and any others implementing the
<code>Priceable</code> interface) could easily be totaled at the register. If we
represent the shopping cart as an array of <code>Priceable</code> items, we could
write a simple method to total the values like so.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">double</span> <span class="tok-nf">getTotal</span><span class="tok-o">(</span> <span class="tok-n">Priceable</span><span class="tok-o">[]</span> <span class="tok-n">cart</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-kt">double</span> <span class="tok-n">total</span> <span class="tok-o">=</span> <span class="tok-mf">0.0</span><span class="tok-o">;</span>
    <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">cart</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
        <span class="tok-n">total</span> <span class="tok-o">+=</span> <span class="tok-n">cart</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">].</span><span class="tok-na">getPrice</span><span class="tok-o">();</span>

    <span class="tok-k">return</span> <span class="tok-n">total</span><span class="tok-o">;</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that we can pass in <code>Bananas</code>, <code>Eggs</code>, <code>Water</code>, and many other
kinds of objects in a <code>Priceable</code> array as long as they all implement
this interface. Even though it is impossible to create an object with an
interface type, we can make as many references to it as we want.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_advanced_local_and_anonymous_classes">10.4. Advanced: Local and anonymous classes</h3>
<div class="paragraph">
<p>If you have not read <a href="chap8.html#_advanced_nested_classes">Section 9.5</a>, you may want
to look over that material to be sure that you understand what nested
classes and inner classes are. Recall that a normal inner class is
declared inside of another class, but it is also legal to declare a
class inside of a method. Such a class is called a <em>local class</em>. Under
some circumstances, it is useful to create another kind of inner class
that has no name. That kind of class is called an <em>anonymous class</em>.</p>
</div>
<div class="paragraph">
<p>Both kinds of classes are inner classes. They can access fields and
methods, even if they are marked <code>private</code>. Like other inner classes,
they are not allowed to declare <code>static</code> variables other than constants.
We bring up these kinds of classes in this chapter because they are
commonly used to create a class with a narrow purpose that implements a
required interface.</p>
</div>
<div class="sect3">
<h4 id="_local_classes">10.4.1. Local classes</h4>
<div class="paragraph">
<p>A local class declaration looks like any other class declaration except
that it occurs within a method. The name of a local class only has
meaning inside the method where it is defined. Because the scope of the
name is only the method, a local class cannot have access modifiers such
as <code>public</code>, <code>private</code>, or <code>protected</code> applied to it.</p>
</div>
<div class="paragraph">
<p>Consider the following method in which an <code>Ellipse</code> class is defined
locally. Recall that an ellipse (or oval) has a major (long) axis and a
minor (short) axis. The area of an ellipse is half its major axis times
half its minor axis times \(\pi\). (Because the major and
minor axes of a circle are its diameter, this formula becomes
\(\pi
r^2\) in that case.)</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="chapters/10-interfaces/images/ellipse.svg" alt="ellipse" width="50%">
</div>
<div class="title">Figure 41. Area of an ellipse.</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">createEllipse</span><span class="tok-o">(</span><span class="tok-kt">double</span> <span class="tok-n">a1</span><span class="tok-o">,</span> <span class="tok-kt">double</span> <span class="tok-n">a2</span><span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-kd">class</span> <span class="tok-nc">Ellipse</span> <span class="tok-o">{</span>
        <span class="tok-kd">private</span> <span class="tok-kt">double</span> <span class="tok-n">axis1</span><span class="tok-o">;</span>
        <span class="tok-kd">private</span> <span class="tok-kt">double</span> <span class="tok-n">axis2</span><span class="tok-o">;</span>

        <span class="tok-kd">public</span> <span class="tok-nf">Ellipse</span><span class="tok-o">(</span> <span class="tok-kt">double</span> <span class="tok-n">axis1</span><span class="tok-o">,</span> <span class="tok-kt">double</span> <span class="tok-n">axis2</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">axis2</span> <span class="tok-o">=</span> <span class="tok-n">axis2</span><span class="tok-o">;</span>
            <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">axis1</span> <span class="tok-o">=</span> <span class="tok-n">axis1</span><span class="tok-o">;</span>
        <span class="tok-o">}</span>

        <span class="tok-kd">public</span> <span class="tok-kt">double</span> <span class="tok-nf">getArea</span><span class="tok-o">()</span> <span class="tok-o">{</span>
            <span class="tok-k">return</span> <span class="tok-n">Math</span><span class="tok-o">.</span><span class="tok-na">PI</span><span class="tok-o">*</span><span class="tok-mf">0.5</span><span class="tok-o">*</span><span class="tok-n">axis1</span><span class="tok-o">*</span><span class="tok-mf">0.5</span><span class="tok-o">*</span><span class="tok-n">axis2</span><span class="tok-o">;</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span>

    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;The ellipse has area &quot;</span> <span class="tok-o">+</span> <span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">getArea</span><span class="tok-o">());</span>
    <span class="tok-n">Ellipse</span> <span class="tok-n">e</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Ellipse</span><span class="tok-o">(</span><span class="tok-n">a1</span><span class="tok-o">,</span> <span class="tok-n">a2</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This <code>Ellipse</code> class cannot be referred to by any other methods. Since
an <code>Ellipse</code> class might be useful in other code, a top-level class
would make more sense than this local class. For this reason, local
classes are not commonly used.</p>
</div>
<div class="paragraph">
<p>However, we can make local classes more useful if they implement
interfaces. Consider the following interface which can be implemented by
any shape that returns its area.</p>
</div>
<div id="AreaGettableProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno">1 </span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">AreaGettable</span> <span class="tok-o">{</span>
<span class="lineno">2 </span>    <span class="tok-kt">double</span> <span class="tok-nf">getArea</span><span class="tok-o">();</span>
<span class="lineno">3 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The method below takes an array of <code>AreaGettable</code> objects and sums their
areas.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">double</span> <span class="tok-nf">sumAreas</span><span class="tok-o">(</span> <span class="tok-n">AreaGettable</span><span class="tok-o">[]</span> <span class="tok-n">shapes</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-kt">double</span> <span class="tok-n">sum</span>  <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
    <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">shapes</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
        <span class="tok-n">sum</span> <span class="tok-o">+=</span> <span class="tok-n">shapes</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">].</span><span class="tok-na">getArea</span><span class="tok-o">();</span>

    <span class="tok-k">return</span> <span class="tok-n">sum</span><span class="tok-o">;</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If we create a local class that implements <code>AreaGettable</code>, we can use it
in conjunction with the <code>sumAreas()</code> method. In the following method, we expand
the local <code>Ellipse</code> class in this way and fill an array with
100 <code>Ellipse</code> instances, which can then be passed to <code>sumAreas()</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">createEllipses</span><span class="tok-o">()</span> <span class="tok-o">{</span>
    <span class="tok-kd">class</span> <span class="tok-nc">Ellipse</span> <span class="tok-kd">implements</span> <span class="tok-n">AreaGettable</span> <span class="tok-o">{</span>
        <span class="tok-kd">private</span> <span class="tok-kt">double</span> <span class="tok-n">axis1</span><span class="tok-o">;</span>

        <span class="tok-kd">private</span> <span class="tok-kt">double</span> <span class="tok-n">axis2</span><span class="tok-o">;</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">axis1</span> <span class="tok-o">=</span> <span class="tok-n">axis1</span><span class="tok-o">;</span>

        <span class="tok-kd">public</span> <span class="tok-nf">Ellipse</span><span class="tok-o">(</span> <span class="tok-kt">double</span> <span class="tok-n">axis1</span><span class="tok-o">,</span> <span class="tok-kt">double</span> <span class="tok-n">axis2</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">axis2</span> <span class="tok-o">=</span> <span class="tok-n">axis2</span><span class="tok-o">;</span>
        <span class="tok-o">}</span>

        <span class="tok-kd">public</span> <span class="tok-kt">double</span> <span class="tok-nf">getArea</span><span class="tok-o">()</span> <span class="tok-o">{</span>
            <span class="tok-k">return</span> <span class="tok-n">Math</span><span class="tok-o">.</span><span class="tok-na">PI</span><span class="tok-o">*</span><span class="tok-mf">0.5</span><span class="tok-o">*</span><span class="tok-n">axis1</span><span class="tok-o">*</span><span class="tok-mf">0.5</span><span class="tok-o">*</span><span class="tok-n">axis2</span><span class="tok-o">;</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span>


    <span class="tok-n">AreaGettable</span><span class="tok-o">[]</span> <span class="tok-n">ellipses</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">AreaGettable</span><span class="tok-o">[</span><span class="tok-mi">100</span><span class="tok-o">];</span>
    <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-mi">100</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
        <span class="tok-n">ellipses</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Ellipse</span><span class="tok-o">(</span><span class="tok-n">Math</span><span class="tok-o">.</span><span class="tok-na">random</span><span class="tok-o">()</span> <span class="tok-o">*</span> <span class="tok-mf">25.0</span><span class="tok-o">,</span>
            <span class="tok-n">Math</span><span class="tok-o">.</span><span class="tok-na">random</span><span class="tok-o">()</span> <span class="tok-o">*</span> <span class="tok-mf">25.0</span><span class="tok-o">);</span>
    <span class="tok-kt">double</span> <span class="tok-n">sum</span> <span class="tok-o">=</span> <span class="tok-n">sumAreas</span><span class="tok-o">(</span> <span class="tok-n">ellipses</span> <span class="tok-o">);</span>

    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;The total area is &quot;</span> <span class="tok-o">+</span> <span class="tok-n">sum</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Even though the <code>Ellipse</code> class had the <code>getArea()</code> method before, the
compiler would not have allowed us to store <code>Ellipse</code> references in an
<code>AreaGettable</code> array until we marked the <code>Ellipse</code> class as implementing
<code>AreaGettable</code>. As in <a href="#supermarketPricingExample">Example 87</a>, we used
an array of the interface type.</p>
</div>
</div>
<div class="sect3">
<h4 id="subsection:_Anonymous_classes">10.4.2. Anonymous classes</h4>
<div class="paragraph">
<p>This second <code>Ellipse</code> class is more useful since objects with its type
can be passed to other methods as an <code>AreaGettable</code> reference, but
declaring the class locally provides few benefits over a top-level
class. Indeed, local classes are seldom preferable to top-level classes.
Although anonymous classes behave like local classes, they conveniently
can be created at any point.</p>
</div>
<div class="paragraph">
<p>An anonymous class has no name. It is created on the fly from some
interface or parent class and can be stored into a reference with that
type. In the following example, we modify the <code>createEllipses()</code> method
so that it creates an anonymous class which behaves exactly like the
<code>Ellipse</code> class and implements the <code>AreaGettable</code> interface.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">createEllipses</span><span class="tok-o">()</span> <span class="tok-o">{</span>
    <span class="tok-n">AreaGettable</span><span class="tok-o">[]</span> <span class="tok-n">ellipses</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">AreaGettable</span><span class="tok-o">[</span><span class="tok-mi">100</span><span class="tok-o">];</span>

    <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-mi">100</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-kd">final</span> <span class="tok-kt">double</span> <span class="tok-n">value1</span> <span class="tok-o">=</span> <span class="tok-n">Math</span><span class="tok-o">.</span><span class="tok-na">random</span><span class="tok-o">();</span>
        <span class="tok-kd">final</span> <span class="tok-kt">double</span> <span class="tok-n">value2</span> <span class="tok-o">=</span> <span class="tok-n">Math</span><span class="tok-o">.</span><span class="tok-na">random</span><span class="tok-o">();</span>

        <span class="tok-n">ellipses</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">AreaGettable</span><span class="tok-o">()</span> <span class="tok-o">{</span>
            <span class="tok-kd">private</span> <span class="tok-kt">double</span> <span class="tok-n">axis1</span> <span class="tok-o">=</span> <span class="tok-n">value1</span><span class="tok-o">;</span>
            <span class="tok-kd">private</span> <span class="tok-kt">double</span> <span class="tok-n">axis2</span> <span class="tok-o">=</span> <span class="tok-n">value2</span><span class="tok-o">;</span>

            <span class="tok-kd">public</span> <span class="tok-kt">double</span> <span class="tok-nf">getArea</span><span class="tok-o">()</span> <span class="tok-o">{</span>
                <span class="tok-k">return</span> <span class="tok-n">Math</span><span class="tok-o">.</span><span class="tok-na">PI</span><span class="tok-o">*</span><span class="tok-mf">0.5</span><span class="tok-o">*</span><span class="tok-n">axis1</span><span class="tok-o">*</span><span class="tok-mf">0.5</span><span class="tok-o">*</span><span class="tok-n">axis2</span><span class="tok-o">;</span>
            <span class="tok-o">}</span>
        <span class="tok-o">};</span>
    <span class="tok-o">}</span>

    <span class="tok-kt">double</span> <span class="tok-n">sum</span> <span class="tok-o">=</span> <span class="tok-n">sumAreas</span><span class="tok-o">(</span> <span class="tok-n">ellipses</span> <span class="tok-o">);</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;The total area is &quot;</span> <span class="tok-o">+</span> <span class="tok-n">sum</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The syntax for creating an anonymous class is ugly. First, you use the
<code>new</code> keyword followed by the name of the interface or parent class you
want to create the anonymous class from. Next, you put the arguments to
the parent class constructor inside of parentheses or leave empty
parentheses for an interface. Finally, you open a set of braces and fill
in the body for your anonymous class. When defining an anonymous class,
the entire body is crammed into a single statement, and you will often
need to complete that statement with a semicolon (<code>;</code>).</p>
</div>
<div class="paragraph">
<p>Anonymous classes do not have constructors. If you need a constructor,
you will have to create a local class. Constructors are usually not
necessary since both local and anonymous classes can see local variables
and fields and use those to initialize values. Although any fields can
be used, local variables must be marked <code>final</code> (as shown above) if
their values will be used by local or anonymous classes. This
restriction prevents local variables from being changed unpredictably by
methods in the local class.</p>
</div>
<div class="paragraph">
<p>It may not be easy to see why anonymous classes are useful. Both the
Java API and libraries written by other programmers have many methods
that require parameters whose type implements a particular interface.
Without anonymous classes, you would have to define a named class and
instantiate it to supply such a method with an object with the required
capabilities.</p>
</div>
<div class="paragraph">
<p>Using anonymous classes, you can create such an object in one step,
right where you need it. This practice is commonly used for creating
<em>listeners</em> for GUIs. A listener is an object that does the right action
when a particular event happens. If you need many different listeners in
one program, it can be convenient to create anonymous classes that can
handle each event rather than defining many named classes which each
have a single, narrow purpose. We will use this technique in
<a href="chap14.html#ch15-gui">Chapter 15</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_solution_sort_it_out">10.5. Solution: Sort it out</h3>
<div class="paragraph">
<p>It is not difficult to move from totaling the value of items as we did
in <a href="#supermarketPricingExample">Example 87</a> to sorting them. Refer to the
following class diagram as we explain our solution to the sorting
problem posed at the beginning of the chapter. Dotted lines are used to
show the implements relationship.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="chapters/10-interfaces/images/ageandweight.svg" alt="ageandweight" width="100%">
</div>
<div class="title">Figure 42. Sorting relationships.</div>
</div>
<div class="paragraph">
<p>We will start with the definitions of the two interfaces we will use to
compare objects.</p>
</div>
<div id="AgeableProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno">1 </span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Ageable</span> <span class="tok-o">{</span>
<span class="lineno">2 </span>    <span class="tok-kt">int</span> <span class="tok-nf">getAge</span><span class="tok-o">();</span>
<span class="lineno">3 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div id="WeighableProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno">1 </span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Weighable</span> <span class="tok-o">{</span>
<span class="lineno">2 </span>    <span class="tok-kt">double</span> <span class="tok-nf">getWeight</span><span class="tok-o">();</span>
<span class="lineno">3 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Classes implementing these two interfaces will be able to give their age
and weight independently. The next step is to create the <code>Dog</code>, <code>Cat</code>,
<code>Person</code>, and <code>Cheese</code> classes which can do so.</p>
</div>
<div class="paragraph">
<p>We’ll see in <a href="chap10.html#ch11-inheritance">Chapter 11</a> that the <code>Dog</code>, <code>Cat</code>, and
<code>Person</code> classes could inherit from a common ancestor (such as
<code>Creature</code> or <code>Mammal</code>) which implements the <code>Ageable</code> and <code>Weighable</code>
interfaces. That design could reduce the total amount of code needed.
For now, each class will have to implement both interfaces directly.</p>
</div>
<div id="DogProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Dog</span> <span class="tok-kd">implements</span> <span class="tok-n">Ageable</span><span class="tok-o">,</span> <span class="tok-n">Weighable</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>    <span class="tok-kd">private</span> <span class="tok-kt">int</span> <span class="tok-n">age</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>    <span class="tok-kd">private</span> <span class="tok-kt">double</span> <span class="tok-n">weight</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>
<span class="lineno"> 5 </span>    <span class="tok-kd">public</span> <span class="tok-nf">Dog</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">age</span><span class="tok-o">,</span> <span class="tok-kt">double</span> <span class="tok-n">weight</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 6 </span>        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">age</span> <span class="tok-o">=</span> <span class="tok-n">age</span><span class="tok-o">;</span>
<span class="lineno"> 7 </span>        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">weight</span> <span class="tok-o">=</span> <span class="tok-n">weight</span><span class="tok-o">;</span>
<span class="lineno"> 8 </span>    <span class="tok-o">}</span>
<span class="lineno"> 9 </span>
<span class="lineno">10 </span>    <span class="tok-kd">public</span> <span class="tok-kt">int</span> <span class="tok-nf">getAge</span><span class="tok-o">()</span> <span class="tok-o">{</span> <span class="tok-k">return</span> <span class="tok-n">age</span><span class="tok-o">*</span><span class="tok-mi">7</span><span class="tok-o">;</span> <span class="tok-o">}</span>
<span class="lineno">11 </span>
<span class="lineno">12 </span>    <span class="tok-kd">public</span> <span class="tok-kt">int</span> <span class="tok-nf">getWeight</span><span class="tok-o">()</span> <span class="tok-o">{</span> <span class="tok-k">return</span> <span class="tok-n">weight</span><span class="tok-o">;</span> <span class="tok-o">}</span>
<span class="lineno">13 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Cat</span> <span class="tok-kd">implements</span> <span class="tok-n">Ageable</span><span class="tok-o">,</span> <span class="tok-n">Weighable</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>    <span class="tok-kd">private</span> <span class="tok-kt">int</span> <span class="tok-n">age</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>    <span class="tok-kd">private</span> <span class="tok-kt">double</span> <span class="tok-n">weight</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>
<span class="lineno"> 5 </span>    <span class="tok-kd">public</span> <span class="tok-nf">Cat</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">age</span><span class="tok-o">,</span> <span class="tok-kt">double</span> <span class="tok-n">weight</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 6 </span>        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">age</span> <span class="tok-o">=</span> <span class="tok-n">age</span><span class="tok-o">;</span>
<span class="lineno"> 7 </span>        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">weight</span> <span class="tok-o">=</span> <span class="tok-n">weight</span><span class="tok-o">;</span>
<span class="lineno"> 8 </span>    <span class="tok-o">}</span>
<span class="lineno"> 9 </span>
<span class="lineno">10 </span>    <span class="tok-kd">public</span> <span class="tok-kt">int</span> <span class="tok-nf">getAge</span><span class="tok-o">()</span> <span class="tok-o">{</span> <span class="tok-k">return</span> <span class="tok-n">age</span><span class="tok-o">/</span><span class="tok-mi">9</span><span class="tok-o">;</span> <span class="tok-o">}</span>
<span class="lineno">11 </span>
<span class="lineno">12 </span>    <span class="tok-kd">public</span> <span class="tok-kt">int</span> <span class="tok-nf">getWeight</span><span class="tok-o">()</span> <span class="tok-o">{</span> <span class="tok-k">return</span> <span class="tok-n">weight</span><span class="tok-o">;</span> <span class="tok-o">}</span>
<span class="lineno">13 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div id="PersonProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Person</span> <span class="tok-kd">implements</span> <span class="tok-n">Ageable</span><span class="tok-o">,</span> <span class="tok-n">Weighable</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>    <span class="tok-kd">private</span> <span class="tok-kt">int</span> <span class="tok-n">age</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>    <span class="tok-kd">private</span> <span class="tok-kt">double</span> <span class="tok-n">weight</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>
<span class="lineno"> 5 </span>    <span class="tok-kd">public</span> <span class="tok-nf">Person</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">age</span><span class="tok-o">,</span> <span class="tok-kt">double</span> <span class="tok-n">weight</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 6 </span>        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">age</span> <span class="tok-o">=</span> <span class="tok-n">age</span><span class="tok-o">;</span>
<span class="lineno"> 7 </span>        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">weight</span> <span class="tok-o">=</span> <span class="tok-n">weight</span><span class="tok-o">;</span>
<span class="lineno"> 8 </span>    <span class="tok-o">}</span>
<span class="lineno"> 9 </span>
<span class="lineno">10 </span>    <span class="tok-kd">public</span> <span class="tok-kt">int</span> <span class="tok-nf">getAge</span><span class="tok-o">()</span> <span class="tok-o">{</span> <span class="tok-k">return</span> <span class="tok-n">age</span><span class="tok-o">;</span> <span class="tok-o">}</span>
<span class="lineno">11 </span>
<span class="lineno">12 </span>    <span class="tok-kd">public</span> <span class="tok-kt">int</span> <span class="tok-nf">getWeight</span><span class="tok-o">()</span> <span class="tok-o">{</span> <span class="tok-k">return</span> <span class="tok-n">weight</span><span class="tok-o">;</span> <span class="tok-o">}</span>
<span class="lineno">13 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div id="CheeseProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Cheese</span> <span class="tok-kd">implements</span> <span class="tok-n">Ageable</span><span class="tok-o">,</span> <span class="tok-n">Weighable</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>    <span class="tok-kd">private</span> <span class="tok-kt">int</span> <span class="tok-n">age</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>    <span class="tok-kd">private</span> <span class="tok-kt">double</span> <span class="tok-n">weight</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">private</span> <span class="tok-n">String</span> <span class="tok-n">type</span><span class="tok-o">;</span>
<span class="lineno"> 5 </span>
<span class="lineno"> 6 </span>    <span class="tok-kd">public</span> <span class="tok-nf">Cheese</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">age</span><span class="tok-o">,</span> <span class="tok-kt">double</span> <span class="tok-n">weight</span><span class="tok-o">,</span> <span class="tok-n">String</span> <span class="tok-n">type</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 7 </span>        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">age</span> <span class="tok-o">=</span> <span class="tok-n">age</span><span class="tok-o">;</span>
<span class="lineno"> 8 </span>        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">weight</span> <span class="tok-o">=</span> <span class="tok-n">weight</span><span class="tok-o">;</span>
<span class="lineno"> 9 </span>        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">type</span> <span class="tok-o">=</span> <span class="tok-n">type</span><span class="tok-o">;</span>
<span class="lineno">10 </span>    <span class="tok-o">}</span>
<span class="lineno">11 </span>
<span class="lineno">12 </span>    <span class="tok-kd">public</span> <span class="tok-kt">int</span> <span class="tok-nf">getAge</span><span class="tok-o">()</span> <span class="tok-o">{</span> <span class="tok-k">return</span> <span class="tok-n">age</span><span class="tok-o">;</span> <span class="tok-o">}</span>
<span class="lineno">13 </span>
<span class="lineno">14 </span>    <span class="tok-kd">public</span> <span class="tok-kt">int</span> <span class="tok-nf">getWeight</span><span class="tok-o">()</span> <span class="tok-o">{</span> <span class="tok-k">return</span> <span class="tok-n">weight</span><span class="tok-o">;</span> <span class="tok-o">}</span>
<span class="lineno">15 </span>
<span class="lineno">16 </span>    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">getType</span><span class="tok-o">()</span> <span class="tok-o">{</span> <span class="tok-k">return</span> <span class="tok-n">type</span><span class="tok-o">;</span> <span class="tok-o">}</span>
<span class="lineno">17 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>With the classes in place, we can assume that client code will
instantiate some objects and perform operations on them. All that is
necessary is to write the method that will do the sorting. We can wrap
the bubble code given earlier in a method body with only a few changes
to generalize the sort beyond <code>int</code> values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">sort</span><span class="tok-o">(</span> <span class="tok-n">Object</span><span class="tok-o">[]</span> <span class="tok-n">array</span><span class="tok-o">,</span> <span class="tok-kt">boolean</span> <span class="tok-n">age</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-kt">boolean</span> <span class="tok-n">swapped</span> <span class="tok-o">=</span> <span class="tok-kc">true</span><span class="tok-o">;</span>
    <span class="tok-n">Object</span> <span class="tok-n">temp</span><span class="tok-o">;</span>
    <span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-n">swapped</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-n">swapped</span> <span class="tok-o">=</span> <span class="tok-kc">false</span><span class="tok-o">;</span>
        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">array</span><span class="tok-o">.</span><span class="tok-na">length</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
            <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">outOfOrder</span><span class="tok-o">(</span> <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">],</span> <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">],</span> <span class="tok-n">age</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
                <span class="tok-n">temp</span> <span class="tok-o">=</span> <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">];</span>
                <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">];</span>
                <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-n">temp</span><span class="tok-o">;</span>
                <span class="tok-n">swapped</span> <span class="tok-o">=</span> <span class="tok-kc">true</span><span class="tok-o">;</span>
            <span class="tok-o">}</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this method, the <code>boolean</code> <code>age</code> is <code>true</code> if we are sorting by age
and <code>false</code> if we are sorting by weight. Note that the array and <code>temp</code>
have the <code>Object</code> type. Recall that any object can be stored in a
reference of type <code>Object</code>.</p>
</div>
<div class="paragraph">
<p>The only other change we needed was to replace the greater-than
comparison (<code>&gt;</code>) with the <code>outOfOrder()</code> method, which we define below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kt">boolean</span> <span class="tok-nf">outOfOrder</span><span class="tok-o">(</span> <span class="tok-n">Object</span> <span class="tok-n">o1</span><span class="tok-o">,</span> <span class="tok-n">Object</span> <span class="tok-n">o2</span><span class="tok-o">,</span> <span class="tok-kt">boolean</span> <span class="tok-n">age</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">age</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-n">Ageable</span> <span class="tok-n">age1</span> <span class="tok-o">=</span> <span class="tok-o">(</span><span class="tok-n">Ageable</span><span class="tok-o">)</span><span class="tok-n">o1</span><span class="tok-o">;</span>
        <span class="tok-n">Ageable</span> <span class="tok-n">age2</span> <span class="tok-o">=</span> <span class="tok-o">(</span><span class="tok-n">Ageable</span><span class="tok-o">)</span><span class="tok-n">o2</span><span class="tok-o">;</span>
        <span class="tok-k">return</span> <span class="tok-n">age1</span><span class="tok-o">.</span><span class="tok-na">getAge</span><span class="tok-o">()</span> <span class="tok-o">&gt;</span> <span class="tok-n">age2</span><span class="tok-o">.</span><span class="tok-na">getAge</span><span class="tok-o">();</span>
    <span class="tok-o">}</span>
    <span class="tok-k">else</span> <span class="tok-o">{</span>
        <span class="tok-n">Weighable</span> <span class="tok-n">weight1</span> <span class="tok-o">=</span> <span class="tok-o">(</span><span class="tok-n">Weighable</span><span class="tok-o">)</span><span class="tok-n">o1</span><span class="tok-o">;</span>
        <span class="tok-n">Weighable</span> <span class="tok-n">weight2</span> <span class="tok-o">=</span> <span class="tok-o">(</span><span class="tok-n">Weighable</span><span class="tok-o">)</span><span class="tok-n">o2</span><span class="tok-o">;</span>
        <span class="tok-k">return</span> <span class="tok-n">weight1</span><span class="tok-o">.</span><span class="tok-na">getWeight</span><span class="tok-o">()</span> <span class="tok-o">&gt;</span> <span class="tok-n">weight2</span><span class="tok-o">.</span><span class="tok-na">getWeight</span><span class="tok-o">();</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Even though we have designed our program for objects that implement both
the <code>Ageable</code> and <code>Weighable</code> interfaces, the compiler only sees
<code>Object</code> references in the array. Thus, we must cast each object to the
appropriate interface type to do the comparison. There is a danger that
a user will pass in an array with objects which do not implement both
<code>Ageable</code> and <code>Weighable</code>, causing a <code>ClassCastException</code>. To allow for
universal sorting methods, the Java API defines a <code>Comparable</code> interface
which can be implemented by any class which requires sorting. With Java
5 and higher, the <code>Comparable</code> interface uses generics to be more
type-safe, so we will not discuss how to use this interface until we
cover generics in <a href="chap17.html#ch18-dynamic-data-structures">Chapter 18</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concurrency_interfaces">10.6. Concurrency: Interfaces</h3>
<div class="paragraph">
<p>As we discussed in <a href="#_concepts_making_a_promise">Section 10.2</a>, implementing
an interface means making a promise to have public methods with the
signatures specified in the interface definition. Making a promise seems
only tangentially related to having multiple threads of execution.
Indeed, interfaces and concurrency do not overlap a great deal, but
there are two important areas where they affect one another.</p>
</div>
<div class="paragraph">
<p>The first is that a special interface called the <code>Runnable</code> interface
can be used to create new threads of execution. <code>Runnable</code> is a very
simple interface, containing the single signature <code>void run()</code>. This
means that any object with a <code>run()</code> method that takes no arguments and
returns no values can be used to create a thread of execution. This
makes intuitive sense. A regular program has a single starting place,
the <code>main()</code> method. If we want to run additional threads, some method
needs to be marked as a starting place for each one. For more
information about using the <code>Runnable</code> interface, refer to
<a href="chap12.html#_the_runnable_interface">Section 13.4.5</a>.</p>
</div>
<div class="paragraph">
<p>The second connection between interfaces and concurrency is more
philosophical. What can you specify in an interface? The rules for
interfaces in Java are relatively limited: You can require a class to
have a public instance method with specific parameters and a specific
return type. Java interfaces do not allow you to require a static
method.</p>
</div>
<div class="paragraph">
<p>In <a href="chap13.html#ch14-synchronization">Chapter 14</a>, we will discuss a key way to
make classes thread-safe by using the<br>
<code>synchronized</code> keyword. Like static, Java does not allow an interface to
specify whether a method is synchronized. Thus, it is impossible to use
an interface to guarantee that a method will be thread-safe.</p>
</div>
<div class="paragraph">
<p>As with all interface usage, this restriction cuts both ways: If you are
designing an interface, there is no way that you can guarantee that
implementing classes use synchronized methods. On the other hand, if you
are implementing an interface, the designer may hope that your class
uses synchronized (or otherwise thread-safe) methods, but the interface
cannot force you to do so. Whenever thread-safety is an issue, make sure
you read (or write) the documentation carefully. Since there is no way
to force programmers to use the <code>synchronized</code> keyword, the
documentation may be the only guide.</p>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_10">10.7. Exercises</h3>
<div class="paragraph">
<p><strong>Conceptual Problems</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a id="ex10-1"></a> What is the purpose of an interface?</p>
</li>
<li>
<p><a id="ex10-2"></a> Why implement an interface when it puts additional requirements on a
class yet adds no functionality?</p>
</li>
<li>
<p><a id="ex10-3"></a> Is it legal to have methods marked <code>private</code> or <code>protected</code> in an
interface? Why did the designers of Java make this choice?</p>
</li>
<li>
<p><a id="ex10-4"></a> What is the <code>instanceof</code> keyword used for? Why is it useful in the
context of interfaces?</p>
</li>
<li>
<p><a id="ex10-5"></a> What kind of programming error causes a <code>ClassCastException</code>?</p>
</li>
<li>
<p><a id="ex10-6"></a> Create an interface called <code>ColorWavelengths</code> that only contains
constants storing the wavelengths in nanometers for each of the seven
colors of light, as given below.</p>
<table class="tableblock frame-all grid-all fit-content center">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Color</th>
<th class="tableblock halign-center valign-top">Wavelength (nm)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Red</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">680</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Orange</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">605</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Yellow</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">580</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Green</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">545</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Blue</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">473</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Indigo</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">430</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Violet</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">415</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><a id="ex10-7"></a> Write an interface called <code>Clock</code> that specifies the functionality a
clock should have. Remember that the classes that implement the clock
may tell time in different ways (hourglass, water clock, mechanical
movement, atomic clock), but they must share the basic functionality
that you specify.</p>
</li>
<li>
<p><a id="ex10-8"></a> There are four compiler errors in the following interface. Name each
one and explain why it is an error.</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Singable</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-kt">int</span> <span class="tok-n">SOPRANO</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">int</span> <span class="tok-n">ALTO</span> <span class="tok-o">=</span> <span class="tok-mi">2</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">sing</span><span class="tok-o">();</span>
    <span class="tok-kd">private</span> <span class="tok-n">String</span> <span class="tok-nf">chant</span><span class="tok-o">();</span>
    <span class="tok-kd">public</span> <span class="tok-kt">boolean</span> <span class="tok-nf">hasDeepVoice</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-kc">false</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">boolean</span> <span class="tok-nf">hasPerfectPitch</span><span class="tok-o">();</span>
    <span class="tok-kd">public</span> <span class="tok-kd">synchronized</span> <span class="tok-kt">void</span> <span class="tok-nf">tune</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">frequency</span> <span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</li>
<li>
<p><a id="ex10-9"></a> Consider the interface defined below.</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Explodable</span> <span class="tok-o">{</span>
    <span class="tok-kt">boolean</span> <span class="tok-nf">explode</span><span class="tok-o">(</span> <span class="tok-kt">double</span> <span class="tok-n">megatons</span> <span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Which of the following classes properly implement <code>Explodable</code>?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Dynamite</span> <span class="tok-kd">implements</span> <span class="tok-n">Explodable</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-kt">boolean</span> <span class="tok-nf">explode</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;BOOM!&quot;</span><span class="tok-o">);</span>
        <span class="tok-k">return</span> <span class="tok-kc">true</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span>

<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">AtomicBomb</span> <span class="tok-kd">implements</span> <span class="tok-n">Explodable</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-kt">boolean</span> <span class="tok-nf">explode</span><span class="tok-o">(</span> <span class="tok-kt">double</span> <span class="tok-n">size</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;A huge &quot;</span> <span class="tok-o">+</span> <span class="tok-n">size</span> <span class="tok-o">+</span>
            <span class="tok-s">&quot; megaton blast shakes the earth!&quot;</span><span class="tok-o">);</span>
        <span class="tok-k">return</span> <span class="tok-kc">true</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span>

<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Grenade</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-kt">boolean</span> <span class="tok-nf">explode</span><span class="tok-o">(</span> <span class="tok-kt">double</span> <span class="tok-n">megatons</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-kc">true</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span>

<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Firecracker</span> <span class="tok-kd">implements</span> <span class="tok-n">Explodable</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-kt">boolean</span> <span class="tok-nf">explode</span><span class="tok-o">(</span> <span class="tok-kt">double</span> <span class="tok-n">megatons</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-o">(</span><span class="tok-n">megatons</span> <span class="tok-o">&lt;</span> <span class="tok-mf">0.0000001</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</li>
<li>
<p><a id="ex10-10"></a> Write a single class that correctly implements the following three
interfaces.</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Laughable</span> <span class="tok-o">{</span>
    <span class="tok-kt">boolean</span> <span class="tok-nf">laugh</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">times</span> <span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Cryable</span> <span class="tok-o">{</span>
    <span class="tok-kt">void</span> <span class="tok-nf">cry</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">tears</span><span class="tok-o">,</span> <span class="tok-kt">boolean</span> <span class="tok-n">moaning</span> <span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Shoutable</span> <span class="tok-o">{</span>
    <span class="tok-kt">void</span> <span class="tok-nf">shout</span><span class="tok-o">(</span> <span class="tok-kt">double</span> <span class="tok-n">volume</span><span class="tok-o">,</span> <span class="tok-n">String</span> <span class="tok-n">words</span> <span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</li>
<li>
<p><a id="ex10-11"></a> If you are sorting a list of items \(n\) elements long
using bubble sort, what is the minimum number of passes you would need
to be sure the list is sorted, assuming the worst possible ordering of
items to start with? (Hint: Imagine the list is in backwards order.)
What is the minimum number of passes if the list is already sorted?</p>
<div class="paragraph">
<p><strong>Programming Practice</strong></p>
</div>
</li>
<li>
<p><a id="ex10-12"></a> Add client code that randomly creates the objects needing sorting in
the solution from <a href="#_solution_sort_it_out">Section 10.5</a>. Design and include
additional classes <code>Wine</code> and <code>Tortoise</code> that both implement <code>Ageable</code>
and <code>Weighable</code>. Add <code>toString()</code> methods to each class so that their
contents can be easily output. Make sure that you print out the list of
objects after sorting to test your implementation.</p>
</li>
<li>
<p><a id="ex10-13"></a> Refer to the sort given as a solution in <a href="#_solution_sort_it_out">Section 10.5</a>. Add another <code>boolean</code> to the parameters of the sort which
specifies whether the sort is ascending or descending. Make the needed
changes throughout the code to add this functionality.</p>
</li>
<li>
<p><a id="ex10-14"></a> After learning about threads in
<a href="chap12.html#ch13-concurrency">Chapter 13</a>, refer to the simple bubble
sort from <a href="#_problem_sort_it_out">Section 10.1</a>. The goal is now to
parallelize the sort. Write some code which will generate an array of
random <code>int</code> values. Design your code so that you can spawn
\(n\) threads. Partition the single array into \(n\)
arrays and map one partition to each thread. Use your bubble sort
implementation to sort each partition. Finally, merge the arrays back
together, in sorted order, into one final array. For now, just use one
thread (ideally the main thread) to do the merge.</p>
<div class="paragraph">
<p>The merge operation is a simple idea, but it is easy to make mistakes in
its implementation. The idea is to have three indexes, one for each of
the two arrays you are merging and one for the result array. Always take
the smaller (or larger, if sorting in descending order) index value from
the two arrays and put it in the result. Then increment the index from
the array you took the data from as well as the index of the result
array. Make sure that you are careful not to go beyond the end of the
arrays which are being merged.</p>
</div>
<div class="paragraph">
<p><strong>Experiments</strong></p>
</div>
</li>
<li>
<p><a id="ex10-15"></a> Once you have implemented the sort in parallel from
<a href="#ex10-14">Exercise 10.14</a>, time it against the sequential
version. Try two, four, and eight different threads. Be sure to create
one random array and use copies of the same array for both the parallel
and sequential versions. Be careful not to sort an array that is already
sorted! Try array sizes of 1,000, 100,000, and 1,000,000. Did the
performance increase? Was it as much as you expected?</p>
</li>
</ol>
</div>
</div>
</div>
</div></div>
<div id="footer">
<div id="footer-text">
Last updated 2018-12-03 12:18:02 EST
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>