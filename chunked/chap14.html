<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<meta name="author" content="Barry Wittman, Tim Korb, Aditya Mathur">
<title>Start Concurrent: A Gentle Introduction to Concurrent Programming</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments, .listingblock .pygments code { background: #f8f8f8; }
.listingblock .pygments .tok-c { color: #408080; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-o { color: #666666 } /* Operator */
.listingblock .pygments .tok-ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.listingblock .pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
.listingblock .pygments .tok-cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.listingblock .pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #FF0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #B00040 } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #666666 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #BA2121 } /* Literal.String */
.listingblock .pygments .tok-na { color: #7D9029 } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #008000 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
.listingblock .pygments .tok-no { color: #880000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #0000FF } /* Name.Function */
.listingblock .pygments .tok-nl { color: #A0A000 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #19177C } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
.listingblock .pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
.listingblock .pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
.listingblock .pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #008000 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
.listingblock .pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
.listingblock .pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
.listingblock .pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Start Concurrent: A Gentle Introduction to Concurrent Programming</h1>
<div class="details">
<span id="author" class="author">Barry Wittman</span><br>
<span id="email" class="email"><a href="mailto:wittman1@otterbein.edu">wittman1@otterbein.edu</a></span><br>
<span id="author2" class="author">Tim Korb</span><br>
<span id="email2" class="email"><a href="mailto:jtk@purdue.edu">jtk@purdue.edu</a></span><br>
<span id="author3" class="author">Aditya Mathur</span><br>
<span id="email3" class="email"><a href="mailto:apm@purdue.edu">apm@purdue.edu</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html#_computer_basics">1. Computer Basics</a>
<ul class="sectlevel2">
<li><a href="index.html#_problem_buying_a_computer">1.1. Problem: Buying a computer</a></li>
<li><a href="index.html#_concepts_hardware_and_software">1.2. Concepts: Hardware and software</a></li>
<li><a href="index.html#_syntax_data_representation">1.3. Syntax: Data representation</a></li>
<li><a href="index.html#_solution_buying_a_computer">1.4. Solution: Buying a computer</a></li>
<li><a href="index.html#_summary">1.5. Summary</a></li>
<li><a href="index.html#_exercises">1.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap1.html#_problem_solving_and_programming">2. Problem Solving and Programming</a>
<ul class="sectlevel2">
<li><a href="chap1.html#_problem_how_to_solve_problems">2.1. Problem: How to solve problems</a></li>
<li><a href="chap1.html#_concepts_developing_software">2.2. Concepts: Developing software</a></li>
<li><a href="chap1.html#_syntax_java_basics">2.3. Syntax: Java basics</a></li>
<li><a href="chap1.html#_solution_how_to_solve_problems">2.4. Solution: How to solve problems</a></li>
<li><a href="chap1.html#_concurrency_solving_problems_in_parallel">2.5. Concurrency: Solving problems in parallel</a></li>
<li><a href="chap1.html#_summary_2">2.6. Summary</a></li>
<li><a href="chap1.html#_exercises_2">2.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap2.html#_primitive_types_and_strings">3. Primitive Types and Strings</a>
<ul class="sectlevel2">
<li><a href="chap2.html#_problem_college_cost_calculator">3.1. Problem: College cost calculator</a></li>
<li><a href="chap2.html#_concepts_types">3.2. Concepts: Types</a></li>
<li><a href="chap2.html#_syntax_types_in_java">3.3. Syntax: Types in Java</a></li>
<li><a href="chap2.html#_syntax_useful_libraries">3.4. Syntax: Useful libraries</a></li>
<li><a href="chap2.html#_solution_college_cost_calculator">3.5. Solution: College cost calculator</a></li>
<li><a href="chap2.html#_concurrency_expressions">3.6. Concurrency: Expressions</a></li>
<li><a href="chap2.html#_summary_3">3.7. Summary</a></li>
<li><a href="chap2.html#_exercises_3">3.8. Exercises</a></li>
</ul>
</li>
<li><a href="chap3.html#_selection">4. Selection</a>
<ul class="sectlevel2">
<li><a href="chap3.html#_problem_monty_hall_simulation">4.1. Problem: Monty Hall simulation</a></li>
<li><a href="chap3.html#_concepts_choosing_between_options">4.2. Concepts: Choosing between options</a></li>
<li><a href="chap3.html#_syntax_selection_in_java">4.3. Syntax: Selection in Java</a></li>
<li><a href="chap3.html#_solution_monty_hall">4.4. Solution: Monty Hall</a></li>
<li><a href="chap3.html#_concurrency_selection">4.5. Concurrency: Selection</a></li>
<li><a href="chap3.html#_exercises_4">4.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap4.html#_repetition">5. Repetition</a>
<ul class="sectlevel2">
<li><a href="chap4.html#_problem_dna_searching">5.1. Problem: DNA searching</a></li>
<li><a href="chap4.html#_concepts_repetition">5.2. Concepts: Repetition</a></li>
<li><a href="chap4.html#_syntax_loops_in_java">5.3. Syntax: Loops in Java</a></li>
<li><a href="chap4.html#_solution_dna_searching">5.4. Solution: DNA searching</a></li>
<li><a href="chap4.html#_concurrency_loops">5.5. Concurrency: Loops</a></li>
<li><a href="chap4.html#_exercises_5">5.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap5.html#_arrays">6. Arrays</a>
<ul class="sectlevel2">
<li><a href="chap5.html#_introduction">6.1. Introduction</a></li>
<li><a href="chap5.html#_problem_game_of_life">6.2. Problem: Game of Life</a></li>
<li><a href="chap5.html#_concepts_lists_of_data">6.3. Concepts: Lists of data</a></li>
<li><a href="chap5.html#_syntax_arrays_in_java">6.4. Syntax: Arrays in Java</a></li>
<li><a href="chap5.html#_examples_array_usage">6.5. Examples: Array usage</a></li>
<li><a href="chap5.html#_concepts_multidimensional_lists">6.6. Concepts: Multidimensional lists</a></li>
<li><a href="chap5.html#_syntax_advanced_arrays_in_java">6.7. Syntax: Advanced arrays in Java</a></li>
<li><a href="chap5.html#_examples_two_dimensional_arrays">6.8. Examples: Two-dimensional arrays</a></li>
<li><a href="chap5.html#_advanced_special_array_tools_in_java">6.9. Advanced: Special array tools in Java</a></li>
<li><a href="chap5.html#_solution_game_of_life">6.10. Solution: Game of Life</a></li>
<li><a href="chap5.html#_concurrency_arrays">6.11. Concurrency: Arrays</a></li>
<li><a href="chap5.html#_exercises_6">6.12. Exercises</a></li>
</ul>
</li>
<li><a href="chap6.html#_simple_graphical_user_interfaces">7. Simple Graphical User Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap6.html#_problem_codon_extractor">7.1. Problem: Codon extractor</a></li>
<li><a href="chap6.html#GUIBasicsIntroductionSection">7.2. Concepts: User interaction</a></li>
<li><a href="chap6.html#_syntax_dialogs_and_the_joptionpane_class">7.3. Syntax: Dialogs and the <code>JOptionPane</code> class</a></li>
<li><a href="chap6.html#_solution_codon_extractor">7.4. Solution: Codon extractor</a></li>
<li><a href="chap6.html#_concurrency_simple_guis">7.5. Concurrency: Simple GUIs</a></li>
<li><a href="chap6.html#_summary_4">7.6. Summary</a></li>
<li><a href="chap6.html#_exercises_7">7.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap7.html#_methods">8. Methods</a>
<ul class="sectlevel2">
<li><a href="chap7.html#_problem_three_card_poker">8.1. Problem: Three card poker</a></li>
<li><a href="chap7.html#_concepts_dividing_work_into_segments">8.2. Concepts: Dividing work into segments</a></li>
<li><a href="chap7.html#_syntax_methods">8.3. Syntax: Methods</a></li>
<li><a href="chap7.html#_examples_defining_methods">8.4. Examples: Defining methods</a></li>
<li><a href="chap7.html#_solution_three_card_poker">8.5. Solution: Three card poker</a></li>
<li><a href="chap7.html#_concurrency_methods">8.6. Concurrency: Methods</a></li>
<li><a href="chap7.html#_exercises_8">8.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap8.html#_classes">9. Classes</a>
<ul class="sectlevel2">
<li><a href="chap8.html#_problem_nested_expressions">9.1. Problem: Nested expressions</a></li>
<li><a href="chap8.html#_concepts_object_oriented_programming">9.2. Concepts: Object-oriented programming</a></li>
<li><a href="chap8.html#_syntax_classes_in_java">9.3. Syntax: Classes in Java</a></li>
<li><a href="chap8.html#_examples_classes">9.4. Examples: Classes</a></li>
<li><a href="chap8.html#_advanced_nested_classes">9.5. Advanced: Nested classes</a></li>
<li><a href="chap8.html#_solution_nested_expressions">9.6. Solution: Nested expressions</a></li>
<li><a href="chap8.html#_concurrency_objects">9.7. Concurrency: Objects</a></li>
<li><a href="chap8.html#_exercises_9">9.8. Exercises</a></li>
</ul>
</li>
<li><a href="chap9.html#_interfaces">10. Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap9.html#_problem_sort_it_out">10.1. Problem: Sort it out</a></li>
<li><a href="chap9.html#_concepts_making_a_promise">10.2. Concepts: Making a promise</a></li>
<li><a href="chap9.html#_syntax_interfaces">10.3. Syntax: Interfaces</a></li>
<li><a href="chap9.html#_advanced_local_and_anonymous_classes">10.4. Advanced: Local and anonymous classes</a></li>
<li><a href="chap9.html#_solution_sort_it_out">10.5. Solution: Sort it out</a></li>
<li><a href="chap9.html#_concurrency_interfaces">10.6. Concurrency: Interfaces</a></li>
<li><a href="chap9.html#_exercises_10">10.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap10.html#_inheritance">11. Inheritance</a>
<ul class="sectlevel2">
<li><a href="chap10.html#_problem_boolean_circuits">11.1. Problem: Boolean circuits</a></li>
<li><a href="chap10.html#_concepts_refining_classes">11.2. Concepts: Refining classes</a></li>
<li><a href="chap10.html#_syntax_inheritance_in_java">11.3. Syntax: Inheritance in Java</a></li>
<li><a href="chap10.html#_examples_problem_solving_with_inheritance">11.4. Examples: Problem solving with inheritance</a></li>
<li><a href="chap10.html#_solution_boolean_circuits">11.5. Solution: Boolean circuits</a></li>
<li><a href="chap10.html#_concurrency_inheritance">11.6. Concurrency: Inheritance</a></li>
<li><a href="chap10.html#_exercises_11">11.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap11.html#_exceptions">12. Exceptions</a>
<ul class="sectlevel2">
<li><a href="chap11.html#_problem_bank_burglary">12.1. Problem: Bank burglary</a></li>
<li><a href="chap11.html#_concepts_error_handling">12.2. Concepts: Error handling</a></li>
<li><a href="chap11.html#_syntax_exceptions_in_java">12.3. Syntax: Exceptions in Java</a></li>
<li><a href="chap11.html#_solution_bank_burglary">12.4. Solution: Bank burglary</a></li>
<li><a href="chap11.html#_concurrency_exceptions">12.5. Concurrency: Exceptions</a></li>
<li><a href="chap11.html#_exercises_12">12.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap12.html#_concurrent_programming">13. Concurrent Programming</a>
<ul class="sectlevel2">
<li><a href="chap12.html#_introduction_2">13.1. Introduction</a></li>
<li><a href="chap12.html#_problem_deadly_virus">13.2. Problem: Deadly virus</a></li>
<li><a href="chap12.html#_concepts_splitting_up_work">13.3. Concepts: Splitting up work</a></li>
<li><a href="chap12.html#_syntax_threads_in_java">13.4. Syntax: Threads in Java</a></li>
<li><a href="chap12.html#_examples_concurrency_and_speedup">13.5. Examples: Concurrency and speedup</a></li>
<li><a href="chap12.html#_concepts_thread_scheduling">13.6. Concepts: Thread scheduling</a></li>
<li><a href="chap12.html#_syntax_thread_states">13.7. Syntax: Thread states</a></li>
<li><a href="chap12.html#_solution_deadly_virus">13.8. Solution: Deadly virus</a></li>
<li><a href="chap12.html#_summary_5">13.9. Summary</a></li>
<li><a href="chap12.html#_exercises_13">13.10. Exercises</a></li>
</ul>
</li>
<li><a href="chap13.html#_synchronization">14. Synchronization</a>
<ul class="sectlevel2">
<li><a href="chap13.html#_introduction_3">14.1. Introduction</a></li>
<li><a href="chap13.html#_problem_dining_philosophers">14.2. Problem: Dining philosophers</a></li>
<li><a href="chap13.html#_concepts_thread_interaction">14.3. Concepts: Thread interaction</a></li>
<li><a href="chap13.html#_syntax_thread_synchronization">14.4. Syntax: Thread synchronization</a></li>
<li><a href="chap13.html#_pitfalls_synchronization_challenges">14.5. Pitfalls: Synchronization challenges</a></li>
<li><a href="chap13.html#_solution_dining_philosophers">14.6. Solution: Dining philosophers</a></li>
<li><a href="chap13.html#_exercises_14">14.7. Exercises</a></li>
</ul>
</li>
<li><a href="#_constructing_graphical_user_interfaces">15. Constructing Graphical User Interfaces</a>
<ul class="sectlevel2">
<li><a href="#_problem_math_applet">15.1. Problem: Math applet</a></li>
<li><a href="#_concepts_graphical_user_interfaces">15.2. Concepts: Graphical user interfaces</a></li>
<li><a href="#_syntax_guis_in_java">15.3. Syntax: GUIs in Java</a></li>
<li><a href="#_solution_math_applet">15.4. Solution: Math applet</a></li>
<li><a href="#_concurrency_guis">15.5. Concurrency: GUIs</a></li>
<li><a href="#_summary_6">15.6. Summary</a></li>
<li><a href="#_exercises_15">15.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap15.html#_testing_and_debugging">16. Testing and Debugging</a>
<ul class="sectlevel2">
<li><a href="chap15.html#_fixing_bugs">16.1. Fixing bugs</a></li>
<li><a href="chap15.html#_concepts_approaches_to_debugging">16.2. Concepts: Approaches to debugging</a></li>
<li><a href="chap15.html#_syntax_java_debugging_tools">16.3. Syntax: Java debugging tools</a></li>
<li><a href="chap15.html#_concurrency_parallel_bugs">16.4. Concurrency: Parallel bugs</a></li>
<li><a href="chap15.html#_finding_and_avoiding_bugs">16.5. Finding and avoiding bugs</a></li>
<li><a href="chap15.html#_concepts_design_implementation_and_testing">16.6. Concepts: Design, implementation, and testing</a></li>
<li><a href="chap15.html#_syntax_java_testing_tools">16.7. Syntax: Java testing tools</a></li>
<li><a href="chap15.html#_concurrency_testing_tools">16.8. Concurrency: Testing tools</a></li>
<li><a href="chap15.html#_examples_testing_a_class">16.9. Examples: Testing a class</a></li>
<li><a href="chap15.html#_exercises_16">16.10. Exercises</a></li>
</ul>
</li>
<li><a href="chap16.html#_polymorphism">17. Polymorphism</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_problem_banking_account_with_a_vengeance">17.1. Problem: Banking account with a vengeance</a></li>
<li><a href="chap16.html#_concepts_polymorphism">17.2. Concepts: Polymorphism</a></li>
<li><a href="chap16.html#_syntax_inheritance_tools_in_java">17.3. Syntax: Inheritance tools in Java</a></li>
<li><a href="chap16.html#_solution_banking_account_with_a_vengeance">17.4. Solution: Banking account with a vengeance</a></li>
<li><a href="chap16.html#_concurrency_atomic_libraries">17.5. Concurrency: Atomic libraries</a></li>
<li><a href="chap16.html#_exercises_17">17.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap17.html#_dynamic_data_structures">18. Dynamic Data Structures</a>
<ul class="sectlevel2">
<li><a href="chap17.html#_problem_infix_conversion">18.1. Problem: Infix conversion</a></li>
<li><a href="chap17.html#_concepts_dynamic_data_structures">18.2. Concepts: Dynamic data structures</a></li>
<li><a href="chap17.html#_syntax_dynamic_arrays_and_linked_lists">18.3. Syntax: Dynamic arrays and linked lists</a></li>
<li><a href="chap17.html#_syntax_abstract_data_types_adt">18.4. Syntax: Abstract data types (ADT)</a></li>
<li><a href="chap17.html#_advanced_generic_data_structures">18.5. Advanced: Generic data structures</a></li>
<li><a href="chap17.html#_solution_infix_conversion">18.6. Solution: Infix conversion</a></li>
<li><a href="chap17.html#_concurrency_linked_lists_and_thread_safety">18.7. Concurrency: Linked lists and thread safety</a></li>
<li><a href="chap17.html#_concurrency_thread_safe_libraries">18.8. Concurrency: Thread-safe libraries</a></li>
<li><a href="chap17.html#_exercises_18">18.9. Exercises</a></li>
</ul>
</li>
<li><a href="chap18.html#_recursion">19. Recursion</a>
<ul class="sectlevel2">
<li><a href="chap18.html#_problem_maze_of_doom">19.1. Problem: Maze of doom</a></li>
<li><a href="chap18.html#_concepts_recursive_problem_solving">19.2. Concepts: Recursive problem solving</a></li>
<li><a href="chap18.html#_syntax_recursive_methods">19.3. Syntax: Recursive methods</a></li>
<li><a href="chap18.html#_syntax_recursive_data_structures">19.4. Syntax: Recursive data structures</a></li>
<li><a href="chap18.html#_solution_maze_of_doom">19.5. Solution: Maze of doom</a></li>
<li><a href="chap18.html#_concurrency_futures">19.6. Concurrency: Futures</a></li>
<li><a href="chap18.html#_exercises_19">19.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap19.html#_file_io">20. File I/O</a>
<ul class="sectlevel2">
<li><a href="chap19.html#_problem_a_picture_is_worth_1000_bytes">20.1. Problem: A picture is worth 1,000 bytes</a></li>
<li><a href="chap19.html#_concepts_file_io">20.2. Concepts: File I/O</a></li>
<li><a href="chap19.html#_syntax_file_operations_in_java">20.3. Syntax: File operations in Java</a></li>
<li><a href="chap19.html#_examples_file_examples">20.4. Examples: File examples</a></li>
<li><a href="chap19.html#_solution_a_picture_is_worth_1000_bytes">20.5. Solution: A picture is worth 1,000 bytes</a></li>
<li><a href="chap19.html#_concurrency_file_io">20.6. Concurrency: File I/O</a></li>
<li><a href="chap19.html#_exercises_20">20.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap20.html#_network_communication">21. Network Communication</a>
<ul class="sectlevel2">
<li><a href="chap20.html#_problem_web_server">21.1. Problem: Web server</a></li>
<li><a href="chap20.html#_concepts_tcpip_communication">21.2. Concepts: TCP/IP communication</a></li>
<li><a href="chap20.html#_syntax_networking_in_java">21.3. Syntax: Networking in Java</a></li>
<li><a href="chap20.html#_solution_web_server">21.4. Solution: Web server</a></li>
<li><a href="chap20.html#_concurrency_networking">21.5. Concurrency: Networking</a></li>
<li><a href="chap20.html#_exercises_21">21.6. Exercises</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content"><div class="sect1">
<h2 id="_constructing_graphical_user_interfaces">15. Constructing Graphical User Interfaces</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>A good sketch is better than a long speech.</p>
</div>
</blockquote>
<div class="attribution">
— Napoleon Bonaparte
</div>
</div>
<div class="sect2">
<h3 id="_problem_math_applet">15.1. Problem: Math applet</h3>
<div class="paragraph">
<p>An <em>applet</em> is a graphical Java program that runs inside of a special
environment, usually a web browser. The beauty of an applet is that
anyone with a Java-enabled web browser can run the program without any
special knowledge or computer skills. Most users don’t even realize they
are running a program.</p>
</div>
<div id="mathTutorAppletFigure" class="imageblock">
<div class="content">
<img src="chapters/15-gui/images/mathTutorAppletFigure.svg" alt="mathTutorAppletFigure" width="100%">
</div>
<div class="title">Figure 54. The <code>MathTutorApplet</code> as seen through the Google Chrome browser. (a) Initial applet. (b) Selecting an operation to practice. (c) After some practice.</div>
</div>
<div class="paragraph">
<p>Let’s write an applet that will allow young math students to practice
their arithmetic. Specifically, we are interested in addition,
subtraction, multiplication, and division with small, positive integers.
For this program, we will consider addition and subtraction basic and
multiplication and division advanced. Our applet should allow the user
to select a check box in a menu setting the mode to advanced or basic.
The user should then be able to select one of the four operations from
another menu. Once the operation is selected, the applet should generate
a random problem testing that operation. The problem should be displayed
as a label on the applet with a text field to one side. The user should
be able to enter an answer in the text field and hit a button to submit
it. The applet should check the answer and display the updated number of
correct and incorrect answers.</p>
</div>
<div class="paragraph">
<p><a href="#mathTutorAppletFigure">Figure 54</a> shows the final applet in three
different states. The screen to the left appears when the applet is
first initialized, and the Submit button is disabled until a problem is generated.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concepts_graphical_user_interfaces">15.2. Concepts: Graphical user interfaces</h3>
<div class="paragraph">
<p>The applet shown above with its menus, labels, buttons, and other
interactive components is called a graphical user interface, or GUI. A
GUI is a means of communication between a computer program and a
(usually human) user. (Although it is possible for some programs such as
scripts to interact with a GUI, most program to program communication is
done in other ways.) While communication through input and output on the
console is one way to communicate with a program, GUIs offer a
user-friendly alternative that has become extremely commonplace. In
fact, GUIs are so common that many people have never used anything else
to interact with programs and may not even suspect that other kinds of
interaction are possible.</p>
</div>
<div class="paragraph">
<p>This chapter will teach you how to write programs with GUIs. Although
GUIs can make input and output easier for the user, the programmer has
to shoulder the burden of arranging the layout and appearance of the GUI
and making it function properly. <a href="chap6.html#_simple_graphical_user_interfaces">Chapter 7</a> introduced a way to make simple GUIs, but those GUIs came
in preset flavors designed for displaying a message, getting a range of
responses in the form of buttons, or reading a short piece of text as
input. In this chapter we will explore ways to make GUIs of arbitrary
complexity with no limitations on the size or shape of the GUI or the
components it contains.</p>
</div>
<div class="paragraph">
<p>A typical GUI consists of a <em>frame</em> (also known as a window) on which
are displayed one or more components (known as widgets), such as panels,
buttons, and text boxes. <em>Panels</em> are used to organize the contents
within the frame. A frame contains at least one panel, but additional
ones can be added. Each panel can also contain widgets: buttons, labels,
text boxes, and even other panels. Using code to create a GUI with all
the widgets laid out exactly where you want them is half the work of
making a GUI-driven program in Java.</p>
</div>
<div class="paragraph">
<p>Some components like labels are read-only to the user. They display
information such as status messages. Other components are more dynamic
in the sense that the user can use these to give input to the program.
Such components are associated with events. Handling events inside of a
program is the other half of writing a GUI program in Java. Layout is
concerned with appearance, but event handling is concerned with
functionality.</p>
</div>
<div class="paragraph">
<p>There are IDEs such as NetBeans have graphical tools that automatically
generate the GUI code for you. We focus on how to write this code
yourself because doing so gives you more control and helps you
understand Java GUIs better.</p>
</div>
<div class="sect3">
<h4 id="_swing_and_awt">15.2.1. Swing and AWT</h4>
<div class="paragraph">
<p>Most of the components you will use to create GUIs are defined in
classes that belong to the Java Swing library. This library contains
many interfaces and classes. Several components of the Swing library are
built upon another library known as the Abstract Window Toolkit that is
commonly referred to as AWT. In earlier chapters, you have seen, and
probably used, one class in the Swing library, the <code>JOptionPane</code> class.</p>
</div>
<div class="paragraph">
<p>The AWT is an older library which provides direct access to the OS
widgets. Thus, an AWT <code>Button</code> object in Microsoft Windows creates a
Windows button. Swing, however, draws its own button. AWT GUIs look
exactly like other GUIs from the same OS. Swing GUIs can be configured
to look similar using <em>look and feel</em> settings, or developers can choose
to use a default Java look and feel that will look almost the same
across all platforms.</p>
</div>
<div class="paragraph">
<p>We will discuss Swing widgets such as <code>JButton</code> and <code>JTextField</code>. Swing
components usually have a <code>J</code> at the beginning of their names to
distinguish them from similar AWT components. (The AWT contains <code>Button</code>
and <code>TextField</code>. If you see examples from other sources using widgets
that do not start with <code>J</code>, they are probably using AWT.) Although Swing
is built on top of the older AWT library, it is not a good idea to mix
Swing and AWT components in a single GUI, though it is possible.</p>
</div>
<div class="paragraph">
<p>The Swing library is far too large for us to cover in its entirety.
Instead, our goal is to show you how to construct GUIs using some of the
most common Java widgets. Once you have grasped the material in this
chapter, you will be able to read and understand how to use many other
interesting Swing components, as well as other Java libraries for
constructing GUIs. Since a frame is the basis for most windowed GUIs, we
will begin by showing you how to create a frame and display it on the
screen.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_syntax_guis_in_java">15.3. Syntax: GUIs in Java</h3>
<div class="sect3">
<h4 id="_creating_a_frame">15.3.1. Creating a frame</h4>
<div class="paragraph">
<p>A frame is the Java terminology for a window. Except when programming an
applet, GUI components in Java will usually be found on a frame. In
Swing, a frame is an object whose type is derived from the <code>JFrame</code>
class. Here is a line of code that creates a <code>JFrame</code> object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">JFrame</span> <span class="tok-n">soundCheck</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Sound Check&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The above statement declares and creates a <code>JFrame</code> object named
<code>soundCheck</code>. The title of the frame is “Sound Check” and is given as
an argument to the <code>JFrame</code> constructor. Although calling the
constructor creates the frame, you need to make it visible for it to
show up on the screen.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>setVisible()</code> method causes the <code>soundCheck</code> frame to be visible on
the screen as a window. You can specify its size as in the following
code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">300</span><span class="tok-o">,</span><span class="tok-mi">200</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>setSize()</code> method sets the width and height of the frame specified
in pixels. In the above example, the width of <code>soundCheck</code> is set to 300
pixels and its height to 200 pixels. The window created by the above
code is resizable. You could use the following code if you do not want
the user to be able to resize the window.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setResizable</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Your entire GUI will often be a frame you create and the components
inside that frame. You might want your application to end when you close
the frame by clicking on the close button towards the top. The actual
location of this button depends on the operating system and the look and
feel managers you are using. Regardless, the following statement can be
used to set the behavior of the application when you close the frame
window.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span><span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Pitfall: Closing frames</div>
<div class="paragraph">
<p>Some books and online tutorials suggest setting <code>JFrame.EXIT_ON_CLOSE</code>
as the default close operation for a <code>JFrame</code> instead of
<code>JFrame.DISPOSE_ON_CLOSE</code>. In our opinion, this option should never be
used.</p>
</div>
<div class="paragraph">
<p>Using <code>JFrame.EXIT_ON_CLOSE</code> is equivalent to calling
<code>System.exit(0)</code>, which shuts down the JVM. In a single-threaded
application, the difference between disposing and exiting is small.
However, in a multi-threaded application, shutting down the JVM means
killing off all the other threads, no matter what task they are
performing. In general, <code>System.exit()</code> should never be called,
whether the program has a GUI or not.</p>
</div>
<div class="paragraph">
<p>By using <code>JFrame.DISPOSE_ON_CLOSE</code>, the frame releases all the
resources it has been using and terminates any threads it uses to redraw
itself and check for events. If there are no other threads running, the
application will then shut down.</p>
</div>
<div class="paragraph">
<p>It is still necessary to select <strong>some</strong> default closing operation. By
default, the operation is set to <code>JFrame.HIDE_ON_CLOSE</code>, which hides
the frame but does not end its threads. Unfortunately, if the frame is
the only way you have of interacting with your application, you can no
longer use it! At that point, you may have to use a process or task
manager to shut down the JVM by hand.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="emptyFrameExample" class="exampleblock">
<div class="title">Example 111. Empty frame</div>
<div class="content">
<div class="paragraph">
<p><a href="#EmptyFrameProgram">Program 53</a> creates and displays an empty frame with
the title “Sound Check.” Note that we have used the <code>import</code> statement
to let the compiler know that we are using the Swing library. The first
line inside the <code>main()</code> method declares and creates a <code>JFrame</code> object
and assigns a title to it. The following line sets its size. The third
line sets the default close operation and the following line makes the
frame visible. The frame so created is shown in
<a href="#emptyFrameFigure">Figure 55</a>. Note that the frame is resizable.</p>
</div>
<div id="EmptyFrameProgram" class="listingblock">
<div class="title">Program 53. Creates an empty frame.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">EmptyFrame</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">){</span>
<span class="lineno"> 5 </span>        <span class="tok-c1">//Create frame</span>
<span class="lineno"> 6 </span>        <span class="tok-n">JFrame</span> <span class="tok-n">soundCheck</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Sound Check&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>        <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">350</span><span class="tok-o">,</span><span class="tok-mi">150</span><span class="tok-o">);</span> <span class="tok-c1">//Set size in pixels</span>
<span class="lineno"> 8 </span>        <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span>
<span class="lineno"> 9 </span>                <span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">10 </span>        <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span> <span class="tok-c1">//Display it</span>
<span class="lineno">11 </span>    <span class="tok-o">}</span>
<span class="lineno">12 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div id="emptyFrameFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/emptyFrameFigure.png" alt="emptyFrameFigure" width="40%">
</div>
<div class="title">Figure 55. An empty frame titled “Sound Check.”</div>
</div>
<div class="paragraph">
<p>You may resize the frame at any point in the program even after the
frame has been created and made visible. The initial size may or may not
be set prior to making the frame visible. Similarly, the frame title can
be set, and reset, at any point in the program.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_widgets">15.3.2. Widgets</h4>
<div class="paragraph">
<p>A widget is a component of a GUI. Java provides a large variety of
widgets including panels, buttons, text boxes, check boxes, and menus.
While laying out a GUI, one or more of the widgets are created and then
placed on a frame. A widget is declared and created like any other
object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">Widget</span> <span class="tok-n">w</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Widget</span><span class="tok-o">(</span><span class="tok-n">arguments</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we use class <code>Widget</code> to represent some Java widget class like
<code>JButton</code> or , and we use reference <code>w</code> to represent the name of a
widget like <code>startButton</code>. Arguments supplied while constructing a
widget allow you to set attributes such as its icon, color, size, or
text to display. A widget can be added to a frame and removed when not
needed. Its attributes can also be changed after creation.</p>
</div>
<div class="paragraph">
<p>Although widgets can be added directly to a frame, it is often
convenient to lay out a GUI by placing panels on a frame and then
placing widgets on the panels. Each panel can hold zero or more widgets.
A panel is also referred to as a <em>container</em> object. Next we show you
how to create a panel, populate it with widgets, place it on a frame,
and display the completed frame.</p>
</div>
<div class="paragraph">
<p>A panel is an instance of the <code>JPanel</code> class and can be created as
follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">JPanel</span> <span class="tok-n">soundPanel</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JPanel</span><span class="tok-o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This statement creates a panel named <code>soundPanel</code>. Thus far, the panel
is empty. Let’s create two buttons and add these to <code>soundPanel</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">JButton</span> <span class="tok-n">chirp</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Chirp&quot;</span><span class="tok-o">);</span>
<span class="tok-n">JButton</span> <span class="tok-n">bark</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Bark&quot;</span><span class="tok-o">);</span>
<span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">chirp</span><span class="tok-o">);</span>
<span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">bark</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The first two lines above create two buttons named <code>chirp</code> and <code>bark</code>.
These buttons are labeled using the <code>String</code> values <code>&quot;Chirp&quot;</code> and
<code>&quot;Bark&quot;</code>, but their labels could be any <code>String</code> values. The last two
statements add the two buttons one by one to the <code>soundPanel</code>. Then we
add the panel to a frame object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">soundPanel</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This statement adds the <code>soundPanel</code> to <code>soundCheck</code> frame that we
created in <a href="#emptyFrameExample">Example 111</a>.</p>
</div>
<div class="paragraph">
<p>Another useful widget is <code>JTextField</code>. It creates a text field that can
be used by a program for both input and output of <code>String</code> data.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">JTextField</span> <span class="tok-n">message</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JTextField</span><span class="tok-o">(</span><span class="tok-s">&quot;This is not a pipe.&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This statement creates an object named <code>message</code> as an instance of the
<code>JTextField</code> class. When displayed, it will show the message “This is
not a pipe.” The user can replace this text by typing, but we will need
to talk about event handling before we can read the text and act on it
from within a program. The following example combines various concepts
and widgets already introduced into one program.</p>
</div>
<div class="exampleblock">
<div class="title">Example 112. GUI with buttons and text field</div>
<div class="content">
<div class="paragraph">
<p>We will now write an application with a GUI that contains three buttons
labeled “Chirp,” “Bark,” and “Exit.” In addition it contains a
text field that initially displays the text, “Listen to nature!”</p>
</div>
<div class="paragraph">
<p>In this example the buttons are only for display. You can click each
one, but the program will not do anything useful. Similarly, the text
field will not be changed by the program after it is initialized. In the
next subsection we add actions to each button and make the program more
useful.</p>
</div>
<div id="FrameWithPanelProgram" class="listingblock">
<div class="title">Program 54. Creates a frame with a panel containing three buttons.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">FrameWithPanel</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">){</span>
<span class="lineno"> 5 </span>        <span class="tok-c1">//Create frame</span>
<span class="lineno"> 6 </span>        <span class="tok-n">JFrame</span> <span class="tok-n">soundCheck</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Sound Check&quot;</span><span class="tok-o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="lineno"> 7 </span>        <span class="tok-n">JPanel</span> <span class="tok-n">soundPanel</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JPanel</span><span class="tok-o">();</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="lineno"> 8 </span>        <span class="tok-c1">//Create three buttons</span>
<span class="lineno"> 9 </span>        <span class="tok-n">JButton</span> <span class="tok-n">chirp</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Chirp&quot;</span><span class="tok-o">);</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="lineno">10 </span>        <span class="tok-n">JButton</span> <span class="tok-n">bark</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Bark&quot;</span><span class="tok-o">);</span>
<span class="lineno">11 </span>        <span class="tok-n">JButton</span> <span class="tok-n">exit</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Exit&quot;</span><span class="tok-o">);</span>
<span class="lineno">12 </span>        <span class="tok-n">JTextField</span> <span class="tok-n">message</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JTextField</span><span class="tok-o">(</span><span class="tok-s">&quot;Listen to nature!&quot;</span><span class="tok-o">);</span>
<span class="lineno">13 </span>        <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">chirp</span><span class="tok-o">);</span> <i class="conum" data-value="4"></i><b>(4)</b>
<span class="lineno">14 </span>        <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">bark</span><span class="tok-o">);</span>
<span class="lineno">15 </span>        <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">message</span><span class="tok-o">);</span>
<span class="lineno">16 </span>        <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">exit</span><span class="tok-o">);</span>
<span class="lineno">17 </span>        <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">soundPanel</span><span class="tok-o">);</span> <i class="conum" data-value="5"></i><b>(5)</b>
<span class="lineno">18 </span>        <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">350</span><span class="tok-o">,</span><span class="tok-mi">150</span><span class="tok-o">);</span> <span class="tok-c1">//Set size in pixels</span>
<span class="lineno">19 </span>        <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span><span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">20 </span>        <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span> <i class="conum" data-value="6"></i><b>(6)</b>
<span class="lineno">21 </span>    <span class="tok-o">}</span>
<span class="lineno">22 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We first create a frame named <code>soundCheck</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Then a panel named <code>soundPanel</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Next, we create three buttons named <code>chirp</code>, <code>bark</code>, and <code>exit</code> and a text field named <code>message</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>We add the buttons and the text field to <code>soundPanel</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Add <code>soundPanel</code> to <code>soundCheck</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>After setting the size and the closing operation, the frame is made
visible.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The final GUI is shown in <a href="#frameWithAPanelFigure">Figure 56</a>.
Note that the same GUI may look different on different platforms. Later
we will see how to add multiple panels to a frame.</p>
</div>
<div id="frameWithAPanelFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/frameWithAPanelFigure.png" alt="frameWithAPanelFigure" width="40%">
</div>
<div class="title">Figure 56. GUI consisting of a frame, a panel, three buttons, and a text field.</div>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise15.17">Exercise 15.17</a></p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_adding_actions_to_widgets">15.3.3. Adding actions to widgets</h4>
<div class="paragraph">
<p>Many widgets in Java can be used to cause an action. For example, a user
could click a button labeled “Chirp,” causing the program to play a
bird chirp sound. Clicking a button generates an <em>event</em>. In Java, an
event is processed by one or more <em>listeners</em>. Java provides various
types of listeners, some of which are introduced here and a few others
in <a href="#_applets">Section 15.3.7</a>. Next we show you how to handle action
events generated by a few different kinds of widgets.</p>
</div>
<div class="sect4">
<h5 id="_the_actionlistener_interface">The <code>ActionListener</code> interface</h5>
<div class="paragraph">
<p>Java provides an <code>ActionListener</code> interface. This interface has a single
method named <code>actionPerformed()</code>. This method takes an <code>ActionEvent</code> as
input and performs a suitable action based on the event. A <code>JButton</code>
object generates <code>ActionEvent</code> when it is pressed. Any class that
implements the <code>ActionListener</code> interface can be registered as an action
listener on a <code>JButton</code> or any other widget that generates an
<code>ActionEvent</code>.</p>
</div>
<div class="paragraph">
<p>As discussed in <a href="chap9.html#_interfaces">Chapter 10</a>, an interface is a set of
method signatures. If you implement an interface, you promise to have
all of the methods in the interface. If a class implements
<code>ActionListener</code>, it’s saying that it knows what to do when an action is
performed. The following statements show how to add an <code>ActionListener</code>
to a button and implement its <code>actionPerformed()</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">JButton</span> <span class="tok-n">chirp</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Chirp&quot;</span><span class="tok-o">);</span>
<span class="tok-n">chirp</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">ActionListener</span><span class="tok-o">()</span> <span class="tok-o">{</span>
            <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">actionPerformed</span><span class="tok-o">(</span><span class="tok-n">ActionEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span>
                <span class="tok-c1">//Code to perform an action goes here</span>
            <span class="tok-o">}</span>
        <span class="tok-o">});</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The first line above creates a button named <code>chirp</code>. The second line
adds an action listener to the button. The process of adding an action
listener to an object is also known as <em>registering</em> a listener on the
object. Note that the sole argument to this <code>addActionListener()</code> method
is a newly created <code>ActionListener</code> object. Inside this newly created
and anonymous <code>ActionListener</code> object, we implement the
<code>actionPerformed()</code> method. Whatever code we want to execute in response
to the clicking of the <code>chirp</code> button goes inside the
<code>actionPerformed()</code> method.</p>
</div>
<div class="paragraph">
<p>This syntax may look strange to you. <code>ActionListener</code> is an interface,
which cannot be instantiated. What is that <code>new</code> keyword doing? It’s
doing something pretty amazing by creating an instance of an <em>anonymous
class</em>. On the fly, we’re creating a class that has never existed
before. It doesn’t even have a name. All we know about it is that it
implements the interface <code>ActionListener</code>.</p>
</div>
<div class="paragraph">
<p>Note that there are braces after the constructor call, defining what’s
inside of this class. Inside, we have only created an
<code>actionPerformed()</code> method, but we could have created fields as well as
other methods. It’s a little ugly to create a whole new class and
instantiate it in the middle of calling the <code>addActionListener()</code>
method, but it’s also very convenient. We need to supply an object that
reacts to the event exactly the way we want it to. Since one doesn’t
exist yet, we have to create it. Of course, it is possible to supply any
object that implements the <code>ActionListener</code> interface, not just
instances of anonymous classes. For more information about nested
classes, inner classes, and anonymous classes, refer to
<a href="chap8.html#_advanced_nested_classes">Section 9.5</a> and <a href="chap9.html#_advanced_local_and_anonymous_classes">Section 10.4</a>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 113. GUI with actions</div>
<div class="content">
<div class="paragraph">
<p>We now modify <a href="#FrameWithPanelProgram">Program 54</a> to respond to button
clicks. When the <code>chirp</code> button is clicked, the program will display the
message “Chirp requested.” in the text field. Similarly, when the
<code>bark</code> button is clicked, the program will display “Bark requested.”</p>
</div>
<div class="paragraph">
<p><a href="#FrameWithPanelAndActionsProgram">Program 55</a> is largely the same as
<a href="#FrameWithPanelProgram">Program 54</a>. It adds the same buttons and text
field but then adds an action listener to each button. The action
performed when the <code>chirp</code> and <code>bark</code> buttons are clicked is to display
a message in the text box. When the <code>exit</code> button is clicked, the
listener displays a message on the console and exits the program.</p>
</div>
<div id="FrameWithPanelAndActionsProgram" class="listingblock">
<div class="title">Program 55. Demonstrates handling of action events.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.event.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">FrameWithPanelAndActions</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">){</span>
<span class="lineno"> 6 </span>        <span class="tok-kd">final</span> <span class="tok-n">JFrame</span> <span class="tok-n">soundCheck</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Sound Check&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>        <span class="tok-n">JPanel</span> <span class="tok-n">soundPanel</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JPanel</span><span class="tok-o">();</span>
<span class="lineno"> 8 </span>        <span class="tok-n">JButton</span> <span class="tok-n">chirp</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Chirp&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 9 </span>        <span class="tok-n">JButton</span> <span class="tok-n">bark</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Bark&quot;</span><span class="tok-o">);</span>
<span class="lineno">10 </span>        <span class="tok-n">JButton</span> <span class="tok-n">exit</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Exit&quot;</span><span class="tok-o">);</span>
<span class="lineno">11 </span>        <span class="tok-kd">final</span> <span class="tok-n">JTextField</span> <span class="tok-n">message</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JTextField</span><span class="tok-o">(</span>
<span class="lineno">12 </span>            <span class="tok-s">&quot;Listen to nature!&quot;</span><span class="tok-o">);</span>
<span class="lineno">13 </span>        <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">chirp</span><span class="tok-o">);</span>
<span class="lineno">14 </span>        <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">bark</span><span class="tok-o">);</span>
<span class="lineno">15 </span>        <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">message</span><span class="tok-o">);</span>
<span class="lineno">16 </span>        <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">exit</span><span class="tok-o">);</span>
<span class="lineno">17 </span>        <span class="tok-c1">// Add action listeners to various buttons</span>
<span class="lineno">18 </span>        <span class="tok-n">chirp</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">ActionListener</span><span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno">19 </span>            <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">actionPerformed</span><span class="tok-o">(</span><span class="tok-n">ActionEvent</span> <span class="tok-n">e</span><span class="tok-o">){</span>
<span class="lineno">20 </span>                <span class="tok-n">message</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Chirp requested.&quot;</span><span class="tok-o">);</span> <span class="tok-cm">/*@\label{chirpRequestedLine}@*/</span>
<span class="lineno">21 </span>            <span class="tok-o">}</span>
<span class="lineno">22 </span>        <span class="tok-o">});</span>
<span class="lineno">23 </span>        <span class="tok-n">bark</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">ActionListener</span><span class="tok-o">(){</span>
<span class="lineno">24 </span>            <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">actionPerformed</span><span class="tok-o">(</span><span class="tok-n">ActionEvent</span> <span class="tok-n">e</span><span class="tok-o">){</span>
<span class="lineno">25 </span>                <span class="tok-n">message</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Bark requested.&quot;</span><span class="tok-o">);</span>
<span class="lineno">26 </span>            <span class="tok-o">}</span>
<span class="lineno">27 </span>        <span class="tok-o">});</span>
<span class="lineno">28 </span>        <span class="tok-n">exit</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">ActionListener</span><span class="tok-o">(){</span>
<span class="lineno">29 </span>            <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">actionPerformed</span><span class="tok-o">(</span><span class="tok-n">ActionEvent</span> <span class="tok-n">e</span><span class="tok-o">){</span>
<span class="lineno">30 </span>                <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Exit&quot;</span><span class="tok-o">);</span>
<span class="lineno">31 </span>                <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">dispose</span><span class="tok-o">();</span>
<span class="lineno">32 </span>            <span class="tok-o">}</span>
<span class="lineno">33 </span>        <span class="tok-o">});</span>
<span class="lineno">34 </span>        <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">soundPanel</span><span class="tok-o">);</span>
<span class="lineno">35 </span>        <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">350</span><span class="tok-o">,</span><span class="tok-mi">150</span><span class="tok-o">);</span>
<span class="lineno">36 </span>        <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span>
<span class="lineno">37 </span>            <span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">38 </span>        <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">39 </span>    <span class="tok-o">}</span>
<span class="lineno">40 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the sequence in which you add the buttons to the panel
determines the appearance of the GUI. The action listeners can be added
either before or after the panel has been set up but should be added
before the frame is made visible.</p>
</div>
<div class="paragraph">
<p>Do not be overly concerned with why the <code>final</code> keyword is used when
declaring <code>soundCheck</code> and <code>message</code>. You might be surprised that you
are even allowed to reference these local variables inside of the third
<code>ActionListener</code> class. An inner class has access to all the fields
inside of its outer class and access to local variables declared in the
same scope as the inner class. For technical reasons, any local variable
used in an anonymous inner class must be declared <code>final</code>. This
restriction does not apply to class variables.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise15.16">Exercise 15.16</a></p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 114. GUI with alternate action listener style</div>
<div class="content">
<div class="paragraph">
<p>In the previous example we added an <code>ActionListener</code> object to each
button and implemented its <code>actionPerformed()</code> method with anonymous
inner classes. An alternate way to use <code>ActionListener</code> is to implement
<code>ActionListener</code> on the surrounding class and include an
<code>actionPerformed()</code> method exactly once instead of creating several
individual anonymous inner classes which each handle an event. Let’s
examine one such implementation in
<a href="#AlternateActionListenerProgram">Program 56</a> and contrast it with
<a href="#FrameWithPanelAndActionsProgram">Program 55</a>. Note that both programs
generate exactly the same GUI and exhibit identical behavior.</p>
</div>
<div id="AlternateActionListenerProgram" class="listingblock">
<div class="title">Program 56. Demonstrates handling of action events by implementing <code>ActionListener</code> at the class level.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.event.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">AlternateActionListener</span> <span class="tok-kd">implements</span> <span class="tok-n">ActionListener</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>  <span class="tok-n">JFrame</span> <span class="tok-n">soundCheck</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Sound Check&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 6 </span>  <span class="tok-n">JPanel</span> <span class="tok-n">soundPanel</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JPanel</span><span class="tok-o">();</span>
<span class="lineno"> 7 </span>  <span class="tok-n">JButton</span> <span class="tok-n">chirpButton</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Bird&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 8 </span>  <span class="tok-n">JButton</span> <span class="tok-n">barkButton</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Dog&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 9 </span>  <span class="tok-n">JButton</span> <span class="tok-n">exitButton</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Exit&quot;</span><span class="tok-o">);</span>
<span class="lineno">10 </span>  <span class="tok-n">JTextField</span> <span class="tok-n">message</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JTextField</span><span class="tok-o">(</span><span class="tok-s">&quot;Listen to nature!&quot;</span><span class="tok-o">);</span>
<span class="lineno">11 </span>
<span class="lineno">12 </span>  <span class="tok-kd">public</span> <span class="tok-nf">AlternateActionListener</span> <span class="tok-o">(){</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="lineno">13 </span>    <span class="tok-n">chirpButton</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">14 </span>    <span class="tok-n">barkButton</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">15 </span>    <span class="tok-n">exitButton</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">16 </span>    <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">chirpButton</span><span class="tok-o">);</span>
<span class="lineno">17 </span>    <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">barkButton</span><span class="tok-o">);</span>
<span class="lineno">18 </span>    <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">message</span><span class="tok-o">);</span>
<span class="lineno">19 </span>    <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">exitButton</span><span class="tok-o">);</span>
<span class="lineno">20 </span>    <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">soundPanel</span><span class="tok-o">);</span>
<span class="lineno">21 </span>    <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">200</span><span class="tok-o">,</span><span class="tok-mi">125</span><span class="tok-o">);</span>
<span class="lineno">22 </span>    <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span><span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">23 </span>    <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">24 </span>  <span class="tok-o">}</span>
<span class="lineno">25 </span>
<span class="lineno">26 </span>  <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">actionPerformed</span><span class="tok-o">(</span><span class="tok-n">ActionEvent</span> <span class="tok-n">e</span><span class="tok-o">){</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="lineno">27 </span>    <span class="tok-n">Object</span> <span class="tok-n">button</span> <span class="tok-o">=</span> <span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">getSource</span><span class="tok-o">();</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="lineno">28 </span>    <span class="tok-k">if</span><span class="tok-o">(</span><span class="tok-n">button</span> <span class="tok-o">==</span> <span class="tok-n">chirpButton</span><span class="tok-o">)</span> <i class="conum" data-value="4"></i><b>(4)</b>
<span class="lineno">29 </span>        <span class="tok-n">message</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Chirp requested.&quot;</span><span class="tok-o">);</span>
<span class="lineno">30 </span>    <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span><span class="tok-n">button</span> <span class="tok-o">==</span> <span class="tok-n">barkButton</span><span class="tok-o">)</span>
<span class="lineno">31 </span>        <span class="tok-n">message</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Bark requested.&quot;</span><span class="tok-o">);</span>
<span class="lineno">32 </span>    <span class="tok-k">else</span> <span class="tok-o">{</span>
<span class="lineno">33 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Exit&quot;</span><span class="tok-o">);</span>
<span class="lineno">34 </span>        <span class="tok-n">soundCheck</span><span class="tok-o">.</span><span class="tok-na">dispose</span><span class="tok-o">();</span>
<span class="lineno">35 </span>    <span class="tok-o">}</span>
<span class="lineno">36 </span>  <span class="tok-o">}</span>
<span class="lineno">37 </span>
<span class="lineno">38 </span>  <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">){</span> <i class="conum" data-value="5"></i><b>(5)</b>
<span class="lineno">39 </span>    <span class="tok-k">new</span> <span class="tok-n">AlternateActionListener</span><span class="tok-o">();</span>
<span class="lineno">40 </span>  <span class="tok-o">}</span>
<span class="lineno">41 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The constructor adds an <code>ActionListener</code> to each button. The listener added is <code>this</code>, specifying that the <code>AlternateActionListener</code> object is the one that will process any action event generated by the buttons. The remainder of the code for the constructor is essentially the same as that from the <code>main()</code> method in <a href="#FrameWithPanelAndActionsProgram">Program 55</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A class that implements <code>ActionListener</code> must include an <code>actionPerformed()</code> method.  It has exactly one parameter, an <code>ActionEvent</code> object. Whenever an action event occurs, its attributes are bundled into an <code>ActionEvent</code> object and passed into the <code>actionPerformed()</code> method.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Here the <code>getSource()</code> method is used to determine which object is responsible for the event. Variable <code>button</code> holds the object returned by
<code>getSource()</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>These <code>if</code> statements compare <code>button</code> with <code>chirp</code> and <code>bark</code> to determine if either of these generated the event. Then a suitable message is displayed in the <code>message</code> box. If neither button generated the event, it must have been <code>exit</code>, and the frame disposes itself after displaying “Exit” on the console.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The <code>main()</code> method simply creates an instance of <code>AlternateActionListener</code> and terminates. The program does not end because the threads for the GUI are still running.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>It is instructive to note the differences between
<a href="#FrameWithPanelAndActionsProgram">Program 55</a> and
<a href="#AlternateActionListenerProgram">Program 56</a>. In
<a href="#AlternateActionListenerProgram">Program 56</a>, most of the code has been
moved from the ` main()` method to the constructor. Various objects,
namely the <code>soundCheck</code> frame, the <code>soundPanel</code> panel, all three
buttons, and the text box are now fields of the object instead of local
variables in the <code>main()</code> method. This removes the need to mark
<code>soundCheck</code> and <code>message</code> as <code>final</code>.</p>
</div>
<div class="paragraph">
<p>We have examined two ways of adding an <code>ActionListener</code> to a Java
program. The choice of which style to use depends on your needs. Adding
an anonymous <code>ActionListener</code> to each object can require you to use the
<code>final</code> keyword to reference local variables, but it is otherwise quick
and easy. Using a named class (often the main program class or a
subclass of <code>JFrame</code>) as the <code>ActionListener</code> allows you to handle many
events in a centralized location. It can be easier to find errors when
all events are handled in one <code>actionPerformed()</code> method, but the method
can become long and complex as well.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise15.16">Exercise 15.16</a></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_the_mouselistener_interface">The <code>MouseListener</code> interface</h5>
<div class="paragraph">
<p>Clicking a button is great, but a mouse can be used to generate other
events too. For example, in a screen full of pictures, you might want to
highlight a picture when the cursor hovers over it. Or you might want to
create a drawing program which uses a mouse as a pen. To process general
mouse events, we need an object that implements the <code>MouseListener</code>
interface, which defines the following methods.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mouseClicked()</code></p>
</li>
<li>
<p><code>mouseEntered()</code></p>
</li>
<li>
<p><code>mouseExited()</code></p>
</li>
<li>
<p><code>mousePressed()</code></p>
</li>
<li>
<p><code>mouseReleased()</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function of each method is implied by its name. The <code>mouseEntered()</code>
event fires when the mouse cursor moves from outside of the area covered
by a widget into the area above it. Conversely, the <code>mouseExited()</code>
event fires when a mouse cursor was over a widget and has just moved
away. The <code>mousePressed()</code> event fires when a mouse button is pressed
over a widget. The <code>mouseReleased()</code> event fires when a mouse button is
released over a widget. The <code>mouseClicked()</code> event is a combination of
both the <code>mousePressed()</code> and <code>mouseReleased()</code> events, occurring only
if a mouse button was pressed and then released while the cursor was
over a widget. As you can see, a widget only fires events when the
cursor is over the component (or has just left). Thus, a widget only
reports events that have to do with it, not the general state of the
mouse.</p>
</div>
<div class="paragraph">
<p>Each method in <code>MouseListener</code> receives a <code>MouseEvent</code> object as its
argument. To handle mouse events, a class must implement the
<code>MouseListener</code> interface. This is similar to the implementation of the
<code>ActionListener</code> interface from the previous section, but implementing
<code>MouseListener</code> requires a definition for <strong>each</strong> of the five methods
listed above. The next example illustrates <code>MouseListener</code> in use.</p>
</div>
<div id="mouseListenerExample" class="exampleblock">
<div class="title">Example 115. Mouse listener</div>
<div class="content">
<div class="paragraph">
<p>We can write a program that displays a GUI containing two buttons labeled
“One” and “Two.” In addition a text box displays a suitable message
when the cursor enters a button. When a button is clicked, the status
box should display the total number of times that button has been
clicked so far.</p>
</div>
<div id="SimpleMouseEventsProgram" class="listingblock">
<div class="title">Program 57. Demonstrates the handling of mouse generated events using the <code>MouseListener</code> interface.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.event.*</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>
<span class="lineno"> 5 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">SimpleMouseEvents</span> <span class="tok-kd">implements</span> <span class="tok-n">MouseListener</span> <span class="tok-o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="lineno"> 6 </span>    <span class="tok-n">JFrame</span> <span class="tok-n">frame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Mouse Events&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>    <span class="tok-n">JTextField</span> <span class="tok-n">status</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JTextField</span><span class="tok-o">(</span><span class="tok-s">&quot;Mouse status comes here.&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 8 </span>    <span class="tok-n">JButton</span> <span class="tok-n">one</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;One&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 9 </span>    <span class="tok-n">JButton</span> <span class="tok-n">two</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Two&quot;</span><span class="tok-o">);</span>
<span class="lineno">10 </span>    <span class="tok-kt">int</span> <span class="tok-n">oneClicks</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">,</span> <span class="tok-n">twoClicks</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-c1">//Number of clicks</span>
<span class="lineno">11 </span>
<span class="lineno">12 </span>    <span class="tok-kd">public</span> <span class="tok-nf">SimpleMouseEvents</span><span class="tok-o">()</span> <span class="tok-o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="lineno">13 </span>        <span class="tok-n">JPanel</span> <span class="tok-n">panel</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JPanel</span><span class="tok-o">();</span>
<span class="lineno">14 </span>        <span class="tok-n">one</span><span class="tok-o">.</span><span class="tok-na">addMouseListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">15 </span>        <span class="tok-n">two</span><span class="tok-o">.</span><span class="tok-na">addMouseListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">16 </span>        <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">one</span><span class="tok-o">);</span>
<span class="lineno">17 </span>        <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">two</span><span class="tok-o">);</span>
<span class="lineno">18 </span>        <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">status</span><span class="tok-o">);</span>
<span class="lineno">19 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">panel</span><span class="tok-o">);</span>
<span class="lineno">20 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">200</span><span class="tok-o">,</span><span class="tok-mi">100</span><span class="tok-o">);</span>
<span class="lineno">21 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span>
<span class="lineno">22 </span>            <span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">23 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">24 </span>    <span class="tok-o">}</span>
<span class="lineno">25 </span>
<span class="lineno">26 </span>    <span class="tok-c1">// Implement all abstract methods in MouseListener</span>
<span class="lineno">27 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">mouseEntered</span><span class="tok-o">(</span><span class="tok-n">MouseEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="lineno">28 </span>        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">getSource</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-n">one</span><span class="tok-o">)</span>
<span class="lineno">29 </span>            <span class="tok-n">status</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Mouse enters One.&quot;</span><span class="tok-o">);</span>
<span class="lineno">30 </span>        <span class="tok-k">else</span>
<span class="lineno">31 </span>            <span class="tok-n">status</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Mouse enters Two.&quot;</span><span class="tok-o">);</span>
<span class="lineno">32 </span>    <span class="tok-o">}</span>
<span class="lineno">33 </span>
<span class="lineno">34 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">mouseClicked</span><span class="tok-o">(</span><span class="tok-n">MouseEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="4"></i><b>(4)</b>
<span class="lineno">35 </span>        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">getSource</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-n">one</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">36 </span>            <span class="tok-n">oneClicks</span><span class="tok-o">++;</span>
<span class="lineno">37 </span>            <span class="tok-n">status</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;One clicked &quot;</span><span class="tok-o">+</span> <span class="tok-n">oneClicks</span> <span class="tok-o">+</span> <span class="tok-s">&quot; times.&quot;</span><span class="tok-o">);</span>
<span class="lineno">38 </span>        <span class="tok-o">}</span>
<span class="lineno">39 </span>        <span class="tok-k">else</span> <span class="tok-o">{</span>
<span class="lineno">40 </span>            <span class="tok-n">twoClicks</span><span class="tok-o">++;</span>
<span class="lineno">41 </span>            <span class="tok-n">status</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Two clicked &quot;</span><span class="tok-o">+</span> <span class="tok-n">twoClicks</span>  <span class="tok-o">+</span> <span class="tok-s">&quot; times.&quot;</span><span class="tok-o">);</span>
<span class="lineno">42 </span>        <span class="tok-o">}</span>
<span class="lineno">43 </span>    <span class="tok-o">}</span>
<span class="lineno">44 </span>
<span class="lineno">45 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">mouseExited</span><span class="tok-o">(</span><span class="tok-n">MouseEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{}</span> <span class="tok-c1">// Unimplemented methods</span>
<span class="lineno">46 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">mousePressed</span><span class="tok-o">(</span><span class="tok-n">MouseEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{}</span>
<span class="lineno">47 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">mouseReleased</span><span class="tok-o">(</span><span class="tok-n">MouseEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{}</span>
<span class="lineno">48 </span>
<span class="lineno">49 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">){</span> <i class="conum" data-value="5"></i><b>(5)</b>
<span class="lineno">50 </span>          <span class="tok-k">new</span> <span class="tok-n">SimpleMouseEvents</span><span class="tok-o">();</span>
<span class="lineno">51 </span>    <span class="tok-o">}</span>
<span class="lineno">52 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We declare class <code>SimpleMouseEvents</code>, implementing the <code>MouseListener</code> interface. The following few lines declare frame <code>frame</code>, buttons <code>one</code> and <code>two</code>, and a text box <code>status</code>. Two integers <code>oneClicks</code> and <code>twoClicks</code> are initialized to 0 and are used to keep track of the number of times each button has been clicked.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The first line of the <code>SimpleMouseEvents</code> constructor creates the panel
<code>panel</code>. It doesn’t need to be a field, and it’s always preferable to
keep a variable local if it can be. The next two lines add a <code>MouseListener</code> to the two buttons. Note the use of <code>this</code> in the argument to <code>addMouseListener()</code> which refers to the object being created by the constructor. Next, the panel is set up and added to the frame. Finally the frame size and its default close operations are set, and the frame is made visible.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>mouseEntered()</code> method is invoked when the cursor enters either of the two buttons. First we retrieve the source of the event using the <code>getSource()</code> method and identify which object generated the event. A suitable message is displayed in the status box using the <code>setText()</code> method.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The <code>mouseClicked()</code> method is invoked when the mouse cursor is placed over a button and clicked. As before, we retrieve the source of the event using the <code>getSource()</code> method. A suitable message, including the number of clicks, is displayed in the text box. Of course, recording the button clicks could have been done with an <code>ActionListener</code> instead.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The only job of the <code>main()</code> method is to create an instance of
<code>SimpleMouseEvents</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="#SimpleMouseEventsProgram">Program 57</a> generates the GUI shown in
<a href="#simpleMouseEventsFigure">Figure 57</a>.</p>
</div>
<div id="simpleMouseEventsFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/simpleMouseEventsFigure.png" alt="simpleMouseEventsFigure" width="40%">
</div>
<div class="title">Figure 57. GUI consisting of two buttons and a text box. Button clicks and entry of the cursor into a button are reported by the text box.</div>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise15.8">Exercise 15.8</a></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_mouse_adapter">Mouse adapter</h5>
<div class="paragraph">
<p>Creating a <code>MouseListener</code> requires all five methods in the interface to
be implemented. In some cases, as in <a href="#mouseListenerExample">Example 115</a>,
there is no need to implement all the methods because we are not
interested in all the corresponding events. In such situations we are
forced to include the methods without any statement in the method body.
However, you might want to include the methods only when they are
needed. The <code>MouseAdapter</code> abstract class helps us avoid implementing
methods we do not need.</p>
</div>
<div class="paragraph">
<p><code>MouseAdapter</code> is an abstract class, unlike the <code>MouseListener</code>
interface. The advantage of using <code>MouseAdapter</code> is that it already
provides a skeletal implementation of each method needed to process
mouse events. We can override these implementations as needed, and we do
not need to provide an implementation of a method that is not used.</p>
</div>
<div class="exampleblock">
<div class="title">Example 116. Mouse adapter</div>
<div class="content">
<div class="paragraph">
<p><a href="#SimpleMouseAdapterProgram">Program 58</a> is a revised version of
<a href="#SimpleMouseEventsProgram">Program 57</a>. Remember that an abstract class is <strong>extended</strong> whereas an interface is <strong>implemented</strong>.</p>
</div>
<div id="SimpleMouseAdapterProgram" class="listingblock">
<div class="title">Program 58. Handles mouse generated events using the <code>MouseAdapter</code> abstract class.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.event.*</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>
<span class="lineno"> 5 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">SimpleMouseAdapter</span> <span class="tok-kd">extends</span> <span class="tok-n">MouseAdapter</span> <span class="tok-o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="lineno"> 6 </span>    <span class="tok-n">JFrame</span> <span class="tok-n">frame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Mouse Events&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>    <span class="tok-n">JTextField</span> <span class="tok-n">status</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JTextField</span><span class="tok-o">(</span>
<span class="lineno"> 8 </span>        <span class="tok-s">&quot;Mouse status comes here.&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 9 </span>    <span class="tok-n">JButton</span> <span class="tok-n">one</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;One&quot;</span><span class="tok-o">);</span>
<span class="lineno">10 </span>    <span class="tok-n">JButton</span> <span class="tok-n">two</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Two&quot;</span><span class="tok-o">);</span>
<span class="lineno">11 </span>    <span class="tok-kt">int</span> <span class="tok-n">oneClicks</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">,</span> <span class="tok-n">twoClicks</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="lineno">12 </span>
<span class="lineno">13 </span>    <span class="tok-kd">public</span> <span class="tok-nf">SimpleMouseAdapter</span> <span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno">14 </span>        <span class="tok-n">JPanel</span> <span class="tok-n">panel</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JPanel</span><span class="tok-o">();</span>
<span class="lineno">15 </span>        <span class="tok-n">one</span><span class="tok-o">.</span><span class="tok-na">addMouseListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">16 </span>        <span class="tok-n">two</span><span class="tok-o">.</span><span class="tok-na">addMouseListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">17 </span>        <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">one</span><span class="tok-o">);</span>
<span class="lineno">18 </span>        <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">two</span><span class="tok-o">);</span>
<span class="lineno">19 </span>        <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">status</span><span class="tok-o">);</span>
<span class="lineno">20 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">panel</span><span class="tok-o">);</span>
<span class="lineno">21 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">200</span><span class="tok-o">,</span><span class="tok-mi">100</span><span class="tok-o">);</span>
<span class="lineno">22 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span><span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">23 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">24 </span>    <span class="tok-o">}</span>
<span class="lineno">25 </span>
<span class="lineno">26 </span>    <span class="tok-c1">// Override only those methods we want</span>
<span class="lineno">27 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">mouseEntered</span><span class="tok-o">(</span><span class="tok-n">MouseEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="lineno">28 </span>        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">getSource</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-n">one</span><span class="tok-o">)</span>
<span class="lineno">29 </span>            <span class="tok-n">status</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Mouse enters One.&quot;</span><span class="tok-o">);</span>
<span class="lineno">30 </span>        <span class="tok-k">else</span>
<span class="lineno">31 </span>            <span class="tok-n">status</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Mouse enters Two.&quot;</span><span class="tok-o">);</span>
<span class="lineno">32 </span>    <span class="tok-o">}</span>
<span class="lineno">33 </span>
<span class="lineno">34 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">mouseClicked</span><span class="tok-o">(</span><span class="tok-n">MouseEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="lineno">35 </span>        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">getSource</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-n">one</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">36 </span>            <span class="tok-n">oneClicks</span><span class="tok-o">++;</span>
<span class="lineno">37 </span>            <span class="tok-n">status</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;One clicked &quot;</span><span class="tok-o">+</span> <span class="tok-n">oneClicks</span> <span class="tok-o">+</span> <span class="tok-s">&quot; times.&quot;</span><span class="tok-o">);</span>
<span class="lineno">38 </span>        <span class="tok-o">}</span>
<span class="lineno">39 </span>        <span class="tok-k">else</span> <span class="tok-o">{</span>
<span class="lineno">40 </span>            <span class="tok-n">twoClicks</span><span class="tok-o">++;</span>
<span class="lineno">41 </span>            <span class="tok-n">status</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Two clicked &quot;</span><span class="tok-o">+</span> <span class="tok-n">twoClicks</span>  <span class="tok-o">+</span> <span class="tok-s">&quot; times.&quot;</span><span class="tok-o">);</span>
<span class="lineno">42 </span>        <span class="tok-o">}</span>
<span class="lineno">43 </span>    <span class="tok-o">}</span>
<span class="lineno">44 </span>
<span class="lineno">45 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">){</span>
<span class="lineno">46 </span>        <span class="tok-k">new</span> <span class="tok-n">SimpleMouseAdapter</span> <span class="tok-o">();</span>
<span class="lineno">47 </span>    <span class="tok-o">}</span>
<span class="lineno">48 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Class <code>SimpleMouseAdapter</code> extends the abstract class <code>MouseAdapter</code>. Thus, it inherits all the empty methods defined in <code>MouseAdapter</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We override the method <code>mouseEntered()</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>We override the method <code>mouseClicked()</code>.  No other methods need to be overridden in this example.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise15.3">Exercise 15.3</a></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_other_event_listeners">Other event listeners</h5>
<div class="paragraph">
<p>In this chapter we describe two types of listeners in Java,
<code>ActionListener</code> and <code>MouseListener</code>. You may have noticed that none of
the mouse events we discussed involved the movement of the mouse inside
of the component, only whether it was entering or exiting the component.
Because tracking mouse movement is more computationally expensive than
tracking presses, releases, enters, and exits, Java uses yet another
listener to handle mouse movement, <code>MouseMotionListener</code>. It contains
the methods <code>mouseDragged()</code> and <code>mouseMoved()</code>, which are used to
handle mouse movement with or without the button pressed.</p>
</div>
<div class="paragraph">
<p>An <code>ItemListener</code> can be attached to a widget such as a check box or a
radio button to listen for a check box to be selected. This listener is
illustrated in <a href="#_applets">Section 15.3.7</a>.</p>
</div>
<div class="paragraph">
<p>Java provides several other listeners to handle a variety of events. For
example, the <code>DocumentListener</code> can be attached to a <code>JTextField</code> or a
<code>JTextArea</code> object to listen to document events, which include the
<code>insertUpdate()</code> event that is fired when a character is inserted the
text box. A <code>KeyListener</code> can also be attached to text boxes to listen
to key events such as the return key being typed, which can have similar
functionality. These events could be useful while writing a text editor
application, for example.</p>
</div>
<div class="paragraph">
<p>After you have mastered the contents of this chapter, you may plan to
write more complex GUIs than the ones we discuss. For further
information, you may wish to follow the Java tutorial on writing event
listeners at the Oracle
<a href="http://download.oracle.com/javase/tutorial/uiswing/events" target="_blank" rel="noopener">Swing Events tutorial site</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_adding_sounds_and_images">15.3.4. Adding sounds and images</h4>
<div class="paragraph">
<p>Sounds and images can also be added to a Java GUI application. While
Java offers a rich set of sound APIs, we restrict our examples to
playing sound clips from audio files that come in <code>au</code> or <code>wav</code> formats.
We also introduce the <code>ImageIcon</code> class to create icons from image
files.</p>
</div>
<div class="sect4">
<h5 id="_sounds">Sounds</h5>
<div class="paragraph">
<p>First, let’s see how to define an audio clip.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">AudioClip</span> <span class="tok-n">chirpClip</span> <span class="tok-o">=</span> <span class="tok-n">Applet</span><span class="tok-o">.</span><span class="tok-na">newAudioClip</span><span class="tok-o">(</span><span class="tok-n">chirpURL</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This statement declares <code>chirpClip</code> with type <code>AudioClip</code>. It
instantiates <code>chirpClip</code> using the <code>newAudioClip()</code> method found in the
<code>Applet</code> class in the <code>java.applet</code> package. Note that the argument to
the <code>newAudioClip()</code> method is an object of type <code>URL</code>. URL stands for
<em>universal resource locator</em>. It serves as a web address from which
files can be retrieved. A <code>URL</code> object can be defined as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">URL</span> <span class="tok-n">chirpURL</span> <span class="tok-o">=</span>
    <span class="tok-k">new</span> <span class="tok-n">URL</span><span class="tok-o">(</span><span class="tok-s">&quot;http://users.etown.edu/w/wittmanb/chirp.wav&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Above we specify the full URL to access an audio file named <code>chirp.wav</code>.
Alternately you can give the file name from a local directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">URL</span> <span class="tok-n">chirpURL</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">URL</span><span class="tok-o">(</span><span class="tok-s">&quot;file:sounds/chirp.wav&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The prefix <code>file:</code> indicates that the <code>chirp.wav</code> file is in a local
directory. Once a clip has been declared and loaded, it can be played as
follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">chirpClip</span><span class="tok-o">.</span><span class="tok-na">play</span><span class="tok-o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This command will play the clip in <code>chirpClip</code> loaded from the specified
URL, exactly once. If you want to play the clip in a loop, use the
<code>loop()</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">chirpClip</span><span class="tok-o">.</span><span class="tok-na">loop</span><span class="tok-o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To stop a clip from playing, use the <code>stop()</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">chirpClip</span><span class="tok-o">.</span><span class="tok-na">stop</span><span class="tok-o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now that we have seen how to declare, load, play, and stop an audio
clip, we are ready to write a more interesting version of
<a href="#FrameWithPanelAndActionsProgram">Program 55</a>.</p>
</div>
<div id="soundGameExample" class="exampleblock">
<div class="title">Example 117. Sound game</div>
<div class="content">
<div class="paragraph">
<p>We can rewrite <a href="#FrameWithPanelAndActionsProgram">Program 55</a> so that the
new program plays the sound clips in a loop when the corresponding
button is clicked. Think of the new program as a Java version of the
pull-string toys that children use to play animal sounds. Our program
only has two sounds, but more could be added.</p>
</div>
<div id="soundGameFigures" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/soundGameFigures.svg" alt="soundGameFigures" width="80%">
</div>
<div class="title">Figure 58. GUI for the sound game application. (a) On program start. (b) After the “Chirp” button has been clicked and the clip is playing.</div>
</div>
<div class="paragraph">
<p>We will add a new button labeled “Stop Sound” that stops the playback
of sounds when clicked. Let’s assume that this program is only allowed
to play one sound at a time. When it starts, the GUI will look like
<a href="#soundGameFigures">Figure 58</a>(a). Note that the <code>stop</code> button is gray,
indicating that it is disabled.</p>
</div>
<div class="paragraph">
<p>The complete program for the game is shown in
<a href="#SoundGameProgram">Program 59</a>. Because most of this program is similar
to <a href="#FrameWithPanelProgram">Program 54</a>, we will only look at the
differences.</p>
</div>
<div id="SoundGameProgram" class="listingblock">
<div class="title">Program 59. Animal sound game.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.event.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span><span class="tok-kn">import</span> <span class="tok-nn">java.applet.*</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span><span class="tok-kn">import</span> <span class="tok-nn">java.net.URL</span><span class="tok-o">;</span>
<span class="lineno"> 5 </span>
<span class="lineno"> 6 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">SoundGame</span> <span class="tok-o">{</span>
<span class="lineno"> 7 </span>  <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span> <span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-kd">throws</span> <span class="tok-n">Exception</span> <span class="tok-o">{</span>
<span class="lineno"> 8 </span>    <span class="tok-kd">final</span> <span class="tok-n">JFrame</span> <span class="tok-n">soundGame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Sound Game&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 9 </span>    <span class="tok-n">JPanel</span> <span class="tok-n">soundPanel</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JPanel</span><span class="tok-o">();</span>
<span class="lineno">10 </span>    <span class="tok-kd">final</span> <span class="tok-n">JButton</span> <span class="tok-n">chirp</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Chirp&quot;</span><span class="tok-o">);</span>
<span class="lineno">11 </span>    <span class="tok-kd">final</span> <span class="tok-n">JButton</span> <span class="tok-n">bark</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Bark&quot;</span><span class="tok-o">);</span>
<span class="lineno">12 </span>    <span class="tok-kd">final</span> <span class="tok-n">JButton</span> <span class="tok-n">stop</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Stop Sound&quot;</span><span class="tok-o">);</span>
<span class="lineno">13 </span>    <span class="tok-kd">final</span> <span class="tok-n">JButton</span> <span class="tok-n">exit</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Exit&quot;</span><span class="tok-o">);</span>
<span class="lineno">14 </span>    <span class="tok-kd">final</span> <span class="tok-n">JTextField</span> <span class="tok-n">message</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JTextField</span><span class="tok-o">(</span><span class="tok-s">&quot;Click Chirp or Bark.   &quot;</span><span class="tok-o">);</span>
<span class="lineno">15 </span>    <span class="tok-n">URL</span> <span class="tok-n">chirpURL</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">URL</span><span class="tok-o">(</span><span class="tok-s">&quot;file:sounds/chirp.wav&quot;</span><span class="tok-o">);</span>
<span class="lineno">16 </span>    <span class="tok-n">URL</span> <span class="tok-n">barkURL</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">URL</span><span class="tok-o">(</span><span class="tok-s">&quot;file:sounds/bark.wav&quot;</span><span class="tok-o">);</span>
<span class="lineno">17 </span>    <span class="tok-kd">final</span> <span class="tok-n">AudioClip</span> <span class="tok-n">chirpClip</span> <span class="tok-o">=</span> <span class="tok-n">Applet</span><span class="tok-o">.</span><span class="tok-na">newAudioClip</span><span class="tok-o">(</span><span class="tok-n">chirpURL</span><span class="tok-o">);</span>
<span class="lineno">18 </span>    <span class="tok-kd">final</span> <span class="tok-n">AudioClip</span> <span class="tok-n">barkClip</span> <span class="tok-o">=</span> <span class="tok-n">Applet</span><span class="tok-o">.</span><span class="tok-na">newAudioClip</span><span class="tok-o">(</span><span class="tok-n">barkURL</span><span class="tok-o">);</span>
<span class="lineno">19 </span>    <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">chirp</span><span class="tok-o">);</span>
<span class="lineno">20 </span>    <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">bark</span><span class="tok-o">);</span>
<span class="lineno">21 </span>    <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">stop</span><span class="tok-o">);</span>
<span class="lineno">22 </span>    <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">exit</span><span class="tok-o">);</span>
<span class="lineno">23 </span>    <span class="tok-n">soundPanel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">message</span><span class="tok-o">);</span>
<span class="lineno">24 </span>    <span class="tok-n">soundGame</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">soundPanel</span><span class="tok-o">);</span>
<span class="lineno">25 </span>    <span class="tok-n">stop</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="lineno">26 </span>    <span class="tok-n">chirp</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">ActionListener</span><span class="tok-o">()</span> <span class="tok-o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="lineno">27 </span>        <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">actionPerformed</span><span class="tok-o">(</span><span class="tok-n">ActionEvent</span> <span class="tok-n">e</span><span class="tok-o">){</span>
<span class="lineno">28 </span>            <span class="tok-n">message</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Chirp sound playing.&quot;</span><span class="tok-o">);</span>
<span class="lineno">29 </span>            <span class="tok-n">bark</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
<span class="lineno">30 </span>            <span class="tok-n">chirpClip</span><span class="tok-o">.</span><span class="tok-na">loop</span><span class="tok-o">();</span>
<span class="lineno">31 </span>            <span class="tok-n">stop</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">32 </span>      <span class="tok-o">}</span>
<span class="lineno">33 </span>    <span class="tok-o">});</span>
<span class="lineno">34 </span>    <span class="tok-n">bark</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">ActionListener</span><span class="tok-o">(){</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="lineno">35 </span>        <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">actionPerformed</span><span class="tok-o">(</span><span class="tok-n">ActionEvent</span> <span class="tok-n">e</span><span class="tok-o">){</span>
<span class="lineno">36 </span>            <span class="tok-n">message</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Bark sound playing.&quot;</span><span class="tok-o">);</span>
<span class="lineno">37 </span>            <span class="tok-n">chirp</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
<span class="lineno">38 </span>            <span class="tok-n">barkClip</span><span class="tok-o">.</span><span class="tok-na">loop</span><span class="tok-o">();</span>
<span class="lineno">39 </span>            <span class="tok-n">stop</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">40 </span>      <span class="tok-o">}</span>
<span class="lineno">41 </span>    <span class="tok-o">});</span>
<span class="lineno">42 </span>    <span class="tok-n">stop</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">ActionListener</span><span class="tok-o">(){</span> <i class="conum" data-value="4"></i><b>(4)</b>
<span class="lineno">43 </span>        <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">actionPerformed</span><span class="tok-o">(</span><span class="tok-n">ActionEvent</span> <span class="tok-n">e</span><span class="tok-o">){</span>
<span class="lineno">44 </span>            <span class="tok-n">message</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Click Chirp or Bark.&quot;</span><span class="tok-o">);</span>
<span class="lineno">45 </span>            <span class="tok-n">chirpClip</span><span class="tok-o">.</span><span class="tok-na">stop</span><span class="tok-o">();</span>
<span class="lineno">46 </span>            <span class="tok-n">bark</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">47 </span>            <span class="tok-n">barkClip</span><span class="tok-o">.</span><span class="tok-na">stop</span><span class="tok-o">();</span>
<span class="lineno">48 </span>            <span class="tok-n">chirp</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">49 </span>            <span class="tok-n">stop</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
<span class="lineno">50 </span>      <span class="tok-o">}</span>
<span class="lineno">51 </span>    <span class="tok-o">});</span>
<span class="lineno">52 </span>    <span class="tok-n">exit</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">ActionListener</span><span class="tok-o">(){</span> <i class="conum" data-value="5"></i><b>(5)</b>
<span class="lineno">53 </span>        <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">actionPerformed</span><span class="tok-o">(</span><span class="tok-n">ActionEvent</span> <span class="tok-n">e</span><span class="tok-o">){</span>
<span class="lineno">54 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Exit&quot;</span><span class="tok-o">);</span>
<span class="lineno">55 </span>            <span class="tok-n">soundGame</span><span class="tok-o">.</span><span class="tok-na">dispose</span><span class="tok-o">();</span>
<span class="lineno">56 </span>      <span class="tok-o">}</span>
<span class="lineno">57 </span>    <span class="tok-o">});</span>
<span class="lineno">58 </span>    <span class="tok-n">soundGame</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">175</span><span class="tok-o">,</span><span class="tok-mi">175</span><span class="tok-o">);</span> <span class="tok-c1">//Set size in pixels</span>
<span class="lineno">59 </span>    <span class="tok-n">soundGame</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span><span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">60 </span>    <span class="tok-n">soundGame</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span> <span class="tok-c1">//Display it</span>
<span class="lineno">61 </span>  <span class="tok-o">}</span>
<span class="lineno">62 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We start with the <code>stop</code> button disabled.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Here we define the action listener for the <code>chirp</code> button, which
disables the <code>bark</code> button, tells the user that the chirp sound is playing, plays the sound, and enables the <code>stop</code> button.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The action listener for the <code>bark</code> button is similar.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The action listener for the <code>stop</code> button does not know what sound is playing, so it stops both sounds and then disables the
stop button.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The action listener for the <code>exit</code> button prints “Exit” and disposes the frame.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When the <code>chirp</code> button is clicked, the GUI looks like <a href="#soundGameFigures">Figure 58</a>(b). An exercise asks you to modify the program so that the action listener associated with the <code>stop</code> button knows which sound is
playing.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise15.11">Exercise 15.11</a><br>
<a href="#exercise15.12">Exercise 15.12</a></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_images_and_icons">Images and icons</h5>
<div class="paragraph">
<p>Images are often useful when creating GUIs. In this section we show you
how to use images to create icons and then use the icon to decorate
buttons and labels. First, let’s see how an icon object can be created.
Suppose we have a picture file named <code>smile.jpg</code> in a directory named
<code>pictures</code>. Note that the <code>pictures</code> directory should be located in same
directory as the class files for the program. The following statement
creates an object of type <code>ImageIcon</code> from this picture.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">ImageIcon</span> <span class="tok-n">smileIcon</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ImageIcon</span><span class="tok-o">(</span><span class="tok-s">&quot;pictures/smile.jpg&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the file name, along with its path, is passed to the
<code>ImageIcon</code> constructor as a string. Now we can add the image to a
button.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">JButton</span> <span class="tok-n">smile</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">();</span>
<span class="tok-n">smile</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">smileIcon</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly you can add an image icon to a label. The next example gives a
simple program that creates a button with an image.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise15.10">Exercise 15.10</a></p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 118. Icon example</div>
<div class="content">
<div class="paragraph">
<p><a href="#IconExampleFigure">Figure 59</a> shows a GUI with a button decorated with a
picture. <a href="#IconExampleProgram">Program 60</a> gives the code to create this
GUI using the <code>ImageIcon</code> class.</p>
</div>
<div id="IconExampleFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/iconExampleFigure.png" alt="iconExampleFigure" width="40%">
</div>
<div class="title">Figure 59. A GUI with a button decorated by an image icon.</div>
</div>
<div id="IconExampleProgram" class="listingblock">
<div class="title">Program 60. Creates a GUI with a button decorated by a picture.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">IconExample</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 6 </span>        <span class="tok-n">JFrame</span> <span class="tok-n">iconFrame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Icon Example&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>        <span class="tok-n">ImageIcon</span> <span class="tok-n">smileIcon</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ImageIcon</span><span class="tok-o">(</span><span class="tok-s">&quot;pictures/smile.jpg&quot;</span><span class="tok-o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="lineno"> 8 </span>        <span class="tok-n">JButton</span>  <span class="tok-n">smile</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-n">smileIcon</span><span class="tok-o">);</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="lineno"> 9 </span>        <span class="tok-n">iconFrame</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">smile</span><span class="tok-o">);</span>
<span class="lineno">10 </span>        <span class="tok-n">iconFrame</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">325</span><span class="tok-o">,</span><span class="tok-mi">250</span><span class="tok-o">);</span>
<span class="lineno">11 </span>        <span class="tok-n">iconFrame</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span><span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">12 </span>        <span class="tok-n">iconFrame</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">13 </span>  <span class="tok-o">}</span>
<span class="lineno">14 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>An image icon is created from a JPEG file named <code>smile.jpg</code> located in
the <code>pictures</code> directory.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We create a button named <code>smile</code> and decorate it with the icon by supplying it as an argument to the <code>JButton</code> constructor. Note that, if the file cannot be found, the program will fail <em>quietly</em>. This means that no exception is thrown. Instead, the button will appear with no image.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The remaining lines add the button to the frame, set the frame size and its default close operation, and make the frame visible.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise15.9">Exercise 15.9</a></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_labels_icons_and_text">Labels, icons, and text</h5>
<div class="paragraph">
<p>In some applications you might want to show a picture with an attached
text label. For example, in a shopping cart for an online clothing
store, you might have seen pictures of clothes, each labeled with a name
and a price. The <code>JLabel</code> class is flexible, able to display text alone,
an image alone, or both. Note that a <code>JLabel</code> is only for displaying
information and is incapable of firing events or reading user input.</p>
</div>
<div class="paragraph">
<p>Here are three different ways to create a label.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">ImageIcon</span> <span class="tok-n">hibiscus</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ImageIcon</span><span class="tok-o">(</span><span class="tok-s">&quot;pictures/hibiscus.jpg&quot;</span><span class="tok-o">)</span>
<span class="tok-n">JLabel</span> <span class="tok-n">textOnly</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-s">&quot;Text only&quot;</span><span class="tok-o">);</span>
<span class="tok-n">JLabel</span> <span class="tok-n">flower</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-n">hibiscus</span><span class="tok-o">);</span>
<span class="tok-n">JLabel</span> <span class="tok-n">labeledflower</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-s">&quot;Red Hibiscus&quot;</span><span class="tok-o">,</span> <span class="tok-n">hibiscus</span><span class="tok-o">,</span> <span class="tok-n">JLabel</span><span class="tok-o">.</span><span class="tok-na">CENTER</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The first <code>JLabel</code> constructor above creates a label displaying only
text, namely, “Text only.” The second constructor creates a label
decorated with an icon created from a picture. The third constructor
creates a label with the same icon and additional text. Note the last
argument in this third case. <code>JLabel.CENTER</code> is a constant that
specifies that the content of the label (both the image and the text)
should be placed horizontally in the center of the label. A horizontal
alignment of left or right can also be specified using the constants
<code>JLabel.LEFT</code> or <code>JLabel.RIGHT</code>, respectively. These three horizontal
alignment indicators are some of the many constants found in Swing.</p>
</div>
<div class="paragraph">
<p>Sometimes you might want to place the text below the icon that decorates
the label. This can be done as follows by setting the horizontal and
vertical positions of the text.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">flower</span><span class="tok-o">.</span><span class="tok-na">setVerticalTextPosition</span><span class="tok-o">(</span><span class="tok-n">JLabel</span><span class="tok-o">.</span><span class="tok-na">BOTTOM</span><span class="tok-o">);</span>
<span class="tok-n">flower</span><span class="tok-o">.</span><span class="tok-na">setHorizontalTextPosition</span><span class="tok-o">(</span><span class="tok-n">JLabel</span><span class="tok-o">.</span><span class="tok-na">CENTER</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 119. Label example</div>
<div class="content">
<div class="paragraph">
<p><a href="#labelExampleFigure">Figure 60</a>(a) is generated by executing Program 
<a href="#LabelExampleProgram">Program 61</a>.</p>
</div>
<div id="labelExampleFigure" class="imageblock">
<div class="content">
<img src="chapters/15-gui/images/labelExampleFigure.svg" alt="labelExampleFigure" width="100%">
</div>
<div class="title">Figure 60. (a) A GUI with a label decorated by an image icon and a title beneath it. (b) The GUI with unaligned text.</div>
</div>
<div id="LabelExampleProgram" class="listingblock">
<div class="title">Program 61. Creates a GUI with a label decorated by a picture and text.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">LabelExample</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 6 </span>        <span class="tok-n">JFrame</span> <span class="tok-n">frame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Label Example&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>        <span class="tok-n">ImageIcon</span> <span class="tok-n">hibiscus</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ImageIcon</span><span class="tok-o">(</span><span class="tok-s">&quot;pictures/hibiscus.jpg&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 8 </span>        <span class="tok-n">JLabel</span> <span class="tok-n">flower</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-s">&quot;Red Hibiscus&quot;</span><span class="tok-o">,</span> <span class="tok-n">hibiscus</span><span class="tok-o">,</span> <span class="tok-n">JLabel</span><span class="tok-o">.</span><span class="tok-na">CENTER</span><span class="tok-o">);</span>
<span class="lineno"> 9 </span>        <span class="tok-n">flower</span><span class="tok-o">.</span><span class="tok-na">setVerticalTextPosition</span><span class="tok-o">(</span><span class="tok-n">JLabel</span><span class="tok-o">.</span><span class="tok-na">BOTTOM</span><span class="tok-o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="lineno">10 </span>        <span class="tok-n">flower</span><span class="tok-o">.</span><span class="tok-na">setHorizontalTextPosition</span><span class="tok-o">(</span><span class="tok-n">JLabel</span><span class="tok-o">.</span><span class="tok-na">CENTER</span><span class="tok-o">);</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="lineno">11 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">flower</span><span class="tok-o">);</span>
<span class="lineno">12 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">300</span><span class="tok-o">,</span><span class="tok-mi">250</span><span class="tok-o">);</span>
<span class="lineno">13 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span><span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">14 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">15 </span>  <span class="tok-o">}</span>
<span class="lineno">16 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Vertically position the text on the bottom of the label.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Horizontally center the text on the label.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You will see the GUI shown in
<a href="#labelExampleFigure">Figure 60</a>(b) if the alignment instructions on these two lines are omitted.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_layout_managers">15.3.5. Layout managers</h4>
<div class="paragraph">
<p>Java provides a number of <em>layout managers</em> to assist with the design of
GUIs. A layout manager is an object that controls the placement of
widgets on a frame or panel. Every container has a default layout
manager, but it is possible to set it to other ones. In this section we
will introduce the three layout managers <code>FlowLayout</code>, <code>GridLayout</code>, and
<code>BorderLayout</code>. Java also provides several other layout managers, each
designed for different layouts.</p>
</div>
<div class="sect4">
<h5 id="_flowlayout"><code>FlowLayout</code></h5>
<div class="paragraph">
<p>The <code>FlowLayout</code> manager is one of simplest layout managers. When a
container is using the <code>FlowLayout</code> manager, widgets will be added in
order from left to right. When there is no more space, subsequent
widgets will be added starting on the next row. In addition, each row of
components is centered within the container. The <code>JPanel</code> container uses
<code>FlowLayout</code> by default, but it is possible to set it explicitly as
well.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">JPanel</span> <span class="tok-n">panel</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JPanel</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">FlowLayout</span><span class="tok-o">());</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When we have added more than one widget to a <code>JFrame</code> in previous
examples, we have first added them to a <code>JPanel</code>. The reason we have
done so is because <code>FlowLayout</code> is the default layout manager for
<code>JPanel</code> containers. Although every <code>JFrame</code> has a container, it uses
the <code>BorderLayout</code> manager by default, which would have complicated our
examples. The next example illustrates <code>FlowLayout</code> further.</p>
</div>
<div class="exampleblock">
<div class="title">Example 120. FlowLayout</div>
<div class="content">
<div class="paragraph">
<p><a href="#FlowLayoutExampleProgram">Program 62</a> creates a GUI with several
buttons.</p>
</div>
<div id="FlowLayoutExampleProgram" class="listingblock">
<div class="title">Program 62. Adds several buttons using <code>FlowLayout</code>.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">FlowLayoutExample</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 6 </span>        <span class="tok-n">JFrame</span> <span class="tok-n">frame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;FlowLayout Example&quot;</span><span class="tok-o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="lineno"> 7 </span>        <span class="tok-n">JPanel</span> <span class="tok-n">panel</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JPanel</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">FlowLayout</span><span class="tok-o">());</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="lineno"> 8 </span>        <span class="tok-kd">final</span> <span class="tok-kt">int</span> <span class="tok-n">MAX_BUTTONS</span> <span class="tok-o">=</span> <span class="tok-mi">6</span><span class="tok-o">;</span>
<span class="lineno"> 9 </span>        <span class="tok-k">for</span><span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">MAX_BUTTONS</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++)</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="lineno">10 </span>            <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;   &quot;</span> <span class="tok-o">+</span> <span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-s">&quot;   &quot;</span><span class="tok-o">));</span>
<span class="lineno">11 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">panel</span><span class="tok-o">);</span>
<span class="lineno">12 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">250</span><span class="tok-o">,</span><span class="tok-mi">100</span><span class="tok-o">);</span>
<span class="lineno">13 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span><span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">14 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setResizable</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
<span class="lineno">15 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">16 </span>    <span class="tok-o">}</span>
<span class="lineno">17 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We first create a frame.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We create a panel and set its layout manager to <code>FlowLayout</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>This <code>for</code> loop is used to create new buttons, label them appropriately, and add them to the panel.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>Flowlayout</code> manager neatly places the buttons along a number of rows depending on the width of the frame. The GUI created is shown in <a href="#FlowLayoutExampleFigure">Figure 61</a>.</p>
</div>
<div id="FlowLayoutExampleFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/flowLayoutExampleFigure.png" alt="flowLayoutExampleFigure" width="40%">
</div>
<div class="title">Figure 61. Using the <code>FlowLayout</code> manager to generate a GUI containing six buttons.</div>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise15.18">Exercise 15.18</a><br>
<a href="#exercise15.19">Exercise 15.19</a></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_gridlayout"><code>GridLayout</code></h5>
<div class="paragraph">
<p>The <code>GridLayout</code> manager lays out components in a grid with a set number
of rows and columns. As with other layout managers, <code>GridLayout</code> can be
applied to frames and panels.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">JFrame</span> <span class="tok-n">frame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Grid Layout&quot;</span><span class="tok-o">);</span>
<span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setLayout</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">GridLayout</span><span class="tok-o">(</span><span class="tok-mi">3</span><span class="tok-o">,</span> <span class="tok-mi">2</span><span class="tok-o">,</span> <span class="tok-mi">5</span><span class="tok-o">,</span> <span class="tok-mi">5</span><span class="tok-o">));</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This snippet creates a frame named <code>frame</code> and sets its layout manager
to <code>GridLayout</code>. The first two arguments to <code>GridLayout</code> give the number
of rows and columns, respectively. The last two arguments give the
horizontal and vertical gaps between the neighboring cells in the grid.
In this example the frame will contain a total of six cells organized
into three rows with two columns.</p>
</div>
<div id="gridLayoutLToRFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/gridLayoutLToRFigure.png" alt="gridLayoutLToRFigure" width="40%">
</div>
<div class="title">Figure 62. A 3 × 2 grid layout containing six buttons using left to right orientation.</div>
</div>
<div class="paragraph">
<p><a href="#gridLayoutLToRFigure">Figure 62</a> shows how <code>frame</code> will look after six
buttons, labeled 0 through 5, have been added to it in that order. A key
feature of using a <code>GridLayout</code> is that all cells in the grid will be
the same size and will stretch to fill the entire container. Also note
the equal spacing between the neighboring cells. It is possible to add
more or fewer cells than specified in the <code>GridLayout</code> constructor, but
the layout manager will be forced to guess at your intentions.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise15.20">Exercise 15.20</a></p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 121. Animal identifier</div>
<div class="content">
<div class="paragraph">
<p>We can write a program to displays pictures of animals and identify
which animal the mouse is current hovering over. The animal’s name will
be displayed in the title of the frame.
<a href="#animalIdentifierFigure">Figure 63</a> shows this GUI.</p>
</div>
<div id="animalIdentifierFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/animalIdentifierFigure.png" alt="animalIdentifierFigure" width="40%">
</div>
<div class="title">Figure 63. A GUI for an animal identifier. Note that the bison is identified according to the frame title.</div>
</div>
<div class="paragraph">
<p><a href="#AnimalIdentifierProgram">Program 63</a> creates the GUI shown in
<a href="#animalIdentifierFigure">Figure 63</a>.</p>
</div>
<div id="AnimalIdentifierProgram" class="listingblock">
<div class="title">Program 63. Identifies which animal is in various images when the mouse hovers over the image. Images are laid out using a <code>GridLayout</code> manager.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.event.*</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>
<span class="lineno"> 5 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">AnimalIdentifier</span> <span class="tok-kd">implements</span> <span class="tok-n">MouseListener</span> <span class="tok-o">{</span>  <i class="conum" data-value="1"></i><b>(1)</b>
<span class="lineno"> 6 </span>    <span class="tok-n">JLabel</span> <span class="tok-n">bison</span><span class="tok-o">,</span> <span class="tok-n">dove</span><span class="tok-o">,</span> <span class="tok-n">gecko</span><span class="tok-o">,</span> <span class="tok-n">spider</span><span class="tok-o">;</span>
<span class="lineno"> 7 </span>    <span class="tok-n">JFrame</span> <span class="tok-n">frame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Animal Identifier: Bison&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 8 </span>
<span class="lineno"> 9 </span>    <span class="tok-kd">public</span> <span class="tok-nf">AnimalIdentifier</span><span class="tok-o">()</span> <span class="tok-o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="lineno">10 </span>        <span class="tok-n">JPanel</span> <span class="tok-n">panel</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JPanel</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">GridLayout</span><span class="tok-o">(</span><span class="tok-mi">2</span><span class="tok-o">,</span><span class="tok-mi">2</span><span class="tok-o">,</span><span class="tok-mi">5</span><span class="tok-o">,</span><span class="tok-mi">5</span><span class="tok-o">));</span>
<span class="lineno">11 </span>        <span class="tok-n">ImageIcon</span> <span class="tok-n">bisonIcon</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ImageIcon</span><span class="tok-o">(</span><span class="tok-s">&quot;pictures/bison.jpg&quot;</span><span class="tok-o">);</span>
<span class="lineno">12 </span>        <span class="tok-n">ImageIcon</span> <span class="tok-n">doveIcon</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ImageIcon</span><span class="tok-o">(</span><span class="tok-s">&quot;pictures/dove.jpg&quot;</span><span class="tok-o">);</span>
<span class="lineno">13 </span>        <span class="tok-n">ImageIcon</span> <span class="tok-n">geckoIcon</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ImageIcon</span><span class="tok-o">(</span><span class="tok-s">&quot;pictures/gecko.jpg&quot;</span><span class="tok-o">);</span>
<span class="lineno">14 </span>        <span class="tok-n">ImageIcon</span> <span class="tok-n">spiderIcon</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ImageIcon</span><span class="tok-o">(</span><span class="tok-s">&quot;pictures/spider.jpg&quot;</span><span class="tok-o">);</span>
<span class="lineno">15 </span>        <span class="tok-n">bison</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-n">bisonIcon</span><span class="tok-o">);</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="lineno">16 </span>        <span class="tok-n">bison</span><span class="tok-o">.</span><span class="tok-na">addMouseListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">17 </span>        <span class="tok-n">dove</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-n">doveIcon</span><span class="tok-o">);</span>
<span class="lineno">18 </span>        <span class="tok-n">dove</span><span class="tok-o">.</span><span class="tok-na">addMouseListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">19 </span>        <span class="tok-n">gecko</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-n">geckoIcon</span><span class="tok-o">);</span>
<span class="lineno">20 </span>        <span class="tok-n">gecko</span><span class="tok-o">.</span><span class="tok-na">addMouseListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">21 </span>        <span class="tok-n">spider</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-n">spiderIcon</span><span class="tok-o">);</span>
<span class="lineno">22 </span>        <span class="tok-n">spider</span><span class="tok-o">.</span><span class="tok-na">addMouseListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">23 </span>        <span class="tok-c1">// Add labels</span>
<span class="lineno">24 </span>        <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">bison</span><span class="tok-o">);</span> <i class="conum" data-value="4"></i><b>(4)</b>
<span class="lineno">25 </span>        <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">dove</span><span class="tok-o">);</span>
<span class="lineno">26 </span>        <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">gecko</span><span class="tok-o">);</span>
<span class="lineno">27 </span>        <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">spider</span><span class="tok-o">);</span>
<span class="lineno">28 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">panel</span><span class="tok-o">);</span>
<span class="lineno">29 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">400</span><span class="tok-o">,</span><span class="tok-mi">400</span><span class="tok-o">);</span> <i class="conum" data-value="5"></i><b>(5)</b>
<span class="lineno">30 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">pack</span><span class="tok-o">();</span>
<span class="lineno">31 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span><span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">32 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">33 </span>    <span class="tok-o">}</span>
<span class="lineno">34 </span>    <span class="tok-c1">// Implement all abstract methods in MouseListener</span>
<span class="lineno">35 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">mouseEntered</span><span class="tok-o">(</span><span class="tok-n">MouseEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="6"></i><b>(6)</b>
<span class="lineno">36 </span>        <span class="tok-n">Object</span> <span class="tok-n">label</span> <span class="tok-o">=</span> <span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">getSource</span><span class="tok-o">();</span> <i class="conum" data-value="7"></i><b>(7)</b>
<span class="lineno">37 </span>        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">label</span> <span class="tok-o">==</span> <span class="tok-n">bison</span><span class="tok-o">)</span>
<span class="lineno">38 </span>          <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setTitle</span><span class="tok-o">(</span><span class="tok-s">&quot;Animal Identifier: Bison&quot;</span><span class="tok-o">);</span>
<span class="lineno">39 </span>        <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span><span class="tok-n">label</span> <span class="tok-o">==</span> <span class="tok-n">dove</span><span class="tok-o">)</span>
<span class="lineno">40 </span>          <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setTitle</span><span class="tok-o">(</span><span class="tok-s">&quot;Animal Identifier: Dove&quot;</span><span class="tok-o">);</span>
<span class="lineno">41 </span>        <span class="tok-k">else</span> <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">label</span> <span class="tok-o">==</span> <span class="tok-n">gecko</span><span class="tok-o">)</span>
<span class="lineno">42 </span>          <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setTitle</span><span class="tok-o">(</span><span class="tok-s">&quot;Animal Identifier: Gecko&quot;</span><span class="tok-o">);</span>
<span class="lineno">43 </span>        <span class="tok-k">else</span> <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">label</span> <span class="tok-o">==</span> <span class="tok-n">spider</span><span class="tok-o">)</span>
<span class="lineno">44 </span>          <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setTitle</span><span class="tok-o">(</span><span class="tok-s">&quot;Animal Identifier: Spider&quot;</span><span class="tok-o">);</span>
<span class="lineno">45 </span>    <span class="tok-o">}</span>
<span class="lineno">46 </span>
<span class="lineno">47 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">mouseExited</span><span class="tok-o">(</span><span class="tok-n">MouseEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">48 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Mouse exited.&quot;</span><span class="tok-o">);</span>
<span class="lineno">49 </span>    <span class="tok-o">}</span>
<span class="lineno">50 </span>
<span class="lineno">51 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">mousePressed</span><span class="tok-o">(</span><span class="tok-n">MouseEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">52 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Mouse pressed.&quot;</span><span class="tok-o">);</span>
<span class="lineno">53 </span>    <span class="tok-o">}</span>
<span class="lineno">54 </span>
<span class="lineno">55 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">mouseReleased</span><span class="tok-o">(</span><span class="tok-n">MouseEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">56 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Mouse released&quot;</span><span class="tok-o">);</span>
<span class="lineno">57 </span>    <span class="tok-o">}</span>
<span class="lineno">58 </span>
<span class="lineno">59 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">mouseClicked</span><span class="tok-o">(</span><span class="tok-n">MouseEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">60 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Mouse clicked.&quot;</span><span class="tok-o">);</span>
<span class="lineno">61 </span>    <span class="tok-o">}</span>
<span class="lineno">62 </span>
<span class="lineno">63 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">64 </span>        <span class="tok-k">new</span> <span class="tok-n">AnimalIdentifier</span><span class="tok-o">();</span>
<span class="lineno">65 </span>    <span class="tok-o">}</span>
<span class="lineno">66 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Class <code>AnimalIdentifier</code> declares four labels and a frame as fields. The labels are named <code>bison</code>, <code>dove</code>, <code>gecko</code>, and <code>spider</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Inside the constructor, we create a panel with a 2 × 2 <code>GridLayout</code>. Then, we create four image icons, one to decorate each label.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Each of the four labels is created with its respective icon. We also add a <code>MouseListener</code> to each label.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The buttons are added to the panel, and the panel is added to the frame.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The last few lines set the size of the frame, pack it, set its close operation, and make it visible.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Since <code>AnimalIdentifier</code> implements <code>MouseListener</code>, we need to define
all the methods in the <code>MouseListener</code> interface. As we are only interested in displaying the name of a picture when the mouse moves over it, the
<code>mouseEntered()</code> method is where most of our event handling code will be.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>We get the label the mouse entered. We compare this label to the four labels and change the frame title correspondingly.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We implement the remaining methods from <code>MouseListener</code> to report the
event on the console. The <code>main()</code> method creates a new instance of
class <code>AnimalIdentifier</code>, launching the GUI.</p>
</div>
<div class="paragraph">
<p>Play with <a href="#AnimalIdentifierProgram">Program 63</a>. What happens when you
resize the window?</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise15.13">Exercise 15.13</a></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_borderlayout"><code>BorderLayout</code></h5>
<div class="paragraph">
<p>The <code>BorderLayout</code> manager is the default one for a <code>JFrame</code>. It allows
components to be laid out spatially in regions of a container. These
regions are north, south, east, west, and center. This layout is
intuitively easy to understand, but it is difficult to describe
precisely.</p>
</div>
<div class="paragraph">
<p>You can only add one component to each region of the layout, and adding
a component to any region is optional. The regions will stretch or
shrink to accommodate the components inside. The north and south regions
will only be as tall as needed to hold their contents, but their width
will stretch as wide as the entire container. The east and west regions
will only be as wide as needed to hold their contents, but their height
will stretch as tall as needed to fit the remaining height of the
container. Both the height and the width of the center region will
stretch as big as it needs to fill the container.</p>
</div>
<div class="exampleblock">
<div class="title">Example 122. BorderLayout</div>
<div class="content">
<div class="paragraph">
<p>Here is an example of a frame using <code>BorderLayout</code>. Five buttons have
been added, one to each region, using the program shown below.</p>
</div>
<div id="BorderLayoutExampleProgram" class="listingblock">
<div class="title">Program 64. Shows buttons laid out in each of the five regions of a <code>BorderLayout</code>.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">BorderLayoutExample</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>  <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 6 </span>    <span class="tok-n">JFrame</span> <span class="tok-n">frame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;BorderLayout Example&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>    <span class="tok-n">JPanel</span> <span class="tok-n">panel</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JPanel</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">BorderLayout</span><span class="tok-o">());</span>
<span class="lineno"> 8 </span>    <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;North&quot;</span><span class="tok-o">),</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">NORTH</span><span class="tok-o">);</span>
<span class="lineno"> 9 </span>    <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;South&quot;</span><span class="tok-o">),</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">SOUTH</span><span class="tok-o">);</span>
<span class="lineno">10 </span>    <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;East&quot;</span><span class="tok-o">),</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">EAST</span><span class="tok-o">);</span>
<span class="lineno">11 </span>    <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;West&quot;</span><span class="tok-o">),</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">WEST</span><span class="tok-o">);</span>
<span class="lineno">12 </span>    <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Center&quot;</span><span class="tok-o">),</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">CENTER</span><span class="tok-o">);</span>
<span class="lineno">13 </span>    <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">panel</span><span class="tok-o">);</span>
<span class="lineno">14 </span>    <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">300</span><span class="tok-o">,</span><span class="tok-mi">200</span><span class="tok-o">);</span>
<span class="lineno">15 </span>    <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span><span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">16 </span>    <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">17 </span>  <span class="tok-o">}</span>
<span class="lineno">18 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div id="borderLayoutFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/borderLayoutFigure.png" alt="borderLayoutFigure" width="40%">
</div>
<div class="title">Figure 64. A GUI demonstrating <code>BorderLayout</code> generated by <a href="#BorderLayoutExampleProgram">Program 64</a>.</div>
</div>
<div class="paragraph">
<p>Unlike <code>FlowLayout</code> or <code>GridLayout</code>, the location must be specified to
add a component to a <code>BorderLayout</code>. (There is an overloaded <code>add()</code>
method to add a component to specific grid cell in a <code>GridLayout</code>, but
it is not necessary to use it.) With <code>BorderLayout</code>, the <code>add()</code> method
uses a second parameter, which is <code>BorderLayout.NORTH</code>,
<code>BorderLayout.SOUTH</code>, <code>BorderLayout.EAST</code>, <code>BorderLayout.WEST</code>, or
<code>BorderLayout.CENTER</code>, depending on where you want to add the component.
If you do not specify a second parameter, the component will be added to
the center region. Since only one component can be in each region,
adding a component to a region that is already occupied will replace the
old component with the new one.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>At first glance, <code>BorderLayout</code> seems that it would rarely be useful.
However, this layout is commonly used because it can be used to
establish a spatial relationship between different parts of a GUI. A
container with a <code>BorderLayout</code> generally has other containers with
their own layouts added to its regions, as shown in the following
example.</p>
</div>
<div class="exampleblock">
<div class="title">Example 123. Calculator layout</div>
<div class="content">
<div class="paragraph">
<p>We can make a GUI application that functions as a simple calculator. The
calculator has the ten digits 0-9, a plus button, a minus button, and an
enter button. At the top is a display that shows the current value.</p>
</div>
<div class="paragraph">
<p>We create ten <code>JButton</code> objects for the digits and three more <code>JButton</code>
objects for plus, minus, and enter. The display is a <code>JLabel</code>. The code
is given below.</p>
</div>
<div id="CalculatorLayoutProgram" class="listingblock">
<div class="title">Program 65. Lays out a simple calculator.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">CalculatorLayout</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>  <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 6 </span>    <span class="tok-n">JFrame</span> <span class="tok-n">frame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Calculator Layout&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>    <span class="tok-n">JPanel</span> <span class="tok-n">panel</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JPanel</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">BorderLayout</span><span class="tok-o">());</span>
<span class="lineno"> 8 </span>    <span class="tok-n">JPanel</span> <span class="tok-n">numbers</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JPanel</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">GridLayout</span><span class="tok-o">(</span><span class="tok-mi">4</span><span class="tok-o">,</span><span class="tok-mi">3</span><span class="tok-o">));</span>
<span class="lineno"> 9 </span>    <span class="tok-n">numbers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;7&quot;</span><span class="tok-o">));</span>
<span class="lineno">10 </span>    <span class="tok-n">numbers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;8&quot;</span><span class="tok-o">));</span>
<span class="lineno">11 </span>    <span class="tok-n">numbers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;9&quot;</span><span class="tok-o">));</span>
<span class="lineno">12 </span>    <span class="tok-n">numbers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;4&quot;</span><span class="tok-o">));</span>
<span class="lineno">13 </span>    <span class="tok-n">numbers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;5&quot;</span><span class="tok-o">));</span>
<span class="lineno">14 </span>    <span class="tok-n">numbers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;6&quot;</span><span class="tok-o">));</span>
<span class="lineno">15 </span>    <span class="tok-n">numbers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;1&quot;</span><span class="tok-o">));</span>
<span class="lineno">16 </span>    <span class="tok-n">numbers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;2&quot;</span><span class="tok-o">));</span>
<span class="lineno">17 </span>    <span class="tok-n">numbers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;3&quot;</span><span class="tok-o">));</span>
<span class="lineno">18 </span>    <span class="tok-n">numbers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;0&quot;</span><span class="tok-o">));</span>
<span class="lineno">19 </span>    <span class="tok-n">numbers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;+&quot;</span><span class="tok-o">));</span>
<span class="lineno">20 </span>    <span class="tok-n">numbers</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;-&quot;</span><span class="tok-o">));</span>
<span class="lineno">21 </span>    <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">numbers</span><span class="tok-o">,</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">CENTER</span><span class="tok-o">);</span>
<span class="lineno">22 </span>    <span class="tok-n">JButton</span> <span class="tok-n">enter</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Enter&quot;</span><span class="tok-o">);</span>
<span class="lineno">23 </span>    <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">enter</span><span class="tok-o">,</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">SOUTH</span><span class="tok-o">);</span>
<span class="lineno">24 </span>    <span class="tok-n">JLabel</span> <span class="tok-n">display</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-s">&quot;0&quot;</span><span class="tok-o">);</span>
<span class="lineno">25 </span>    <span class="tok-n">panel</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">display</span><span class="tok-o">,</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">NORTH</span><span class="tok-o">);</span>
<span class="lineno">26 </span>    <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">panel</span><span class="tok-o">);</span>
<span class="lineno">27 </span>    <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">250</span><span class="tok-o">,</span><span class="tok-mi">300</span><span class="tok-o">);</span>
<span class="lineno">28 </span>    <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span><span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">29 </span>    <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">30 </span>  <span class="tok-o">}</span>
<span class="lineno">31 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div id="calculatorLayoutFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/calculatorLayoutFigure.png" alt="calculatorLayoutFigure" width="40%">
</div>
<div class="title">Figure 65. GUI generated by <a href="#CalculatorLayoutProgram">Program 65</a>.</div>
</div>
<div class="paragraph">
<p>This program uses a <code>BorderLayout</code> to put a container with a
<code>GridLayout</code> in a spatial arrangement with other components. First, we
put the ten digit buttons in a panel with a <code>GridLayout</code> having 4 rows
and 3 columns. We put the plus button and the minus button in the
remaining two cells of the grid. We add this grid panel to the larger
panel in the center region. We put the enter button in the south region
and the display in the north region.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>There is no limit to how deeply you can nest containers within each
other. Sometimes you must create a very complex GUI using many
<code>BorderLayout</code> managers to achieve the appearance you want.</p>
</div>
<div class="paragraph">
<p>The three layout managers discussed in this section are the simplest,
but there are others. The <code>BoxLayout</code> manager is a useful tool for
laying out components in a stack or in a row. The <code>GridBagLayout</code>
manager can be used to create complex layouts in a single container
using a grid-based framework that is much more flexible than
<code>GridLayout</code>, but the complexity of programming <code>GridBagLayout</code> is
significant. The <code>SpringLayout</code> and <code>GroupLayout</code> managers are also
powerful, but they are designed for use with a GUI builder utility.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_menus">15.3.6. Menus</h4>
<div class="paragraph">
<p>Menus provide a useful form of interface that is expected from most GUI
applications. In this section we show how to create menus and respond to
the selection of menu items. Menus are placed on a menu bar. Each menu
usually consists of several menu items that could be selected by the
user. In addition to simple text, a menu item can be a button, a radio
button, check box, or an icon. A menu can have one or more sub-menus
opening out of a menu item.</p>
</div>
<div class="sect4">
<h5 id="_creating_menus">Creating menus</h5>
<div class="paragraph">
<p>First we have to create a menu bar.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">JMenuBar</span> <span class="tok-n">bar</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenuBar</span><span class="tok-o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This statement creates an object of type <code>JMenuBar</code> named <code>bar</code> which
can hold menus. A <code>JFrame</code> has only one menu bar. We can create several
menus and add them to the menu bar.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">JMenu</span> <span class="tok-n">type</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenu</span><span class="tok-o">(</span><span class="tok-s">&quot;Type&quot;</span><span class="tok-o">);</span>
<span class="tok-n">JMenu</span> <span class="tok-n">operations</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenu</span><span class="tok-o">(</span><span class="tok-s">&quot;Operations&quot;</span><span class="tok-o">);</span>
<span class="tok-n">bar</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">type</span><span class="tok-o">);</span>
<span class="tok-n">bar</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">operations</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>These statements create two menus named <code>type</code> and <code>operations</code> labeled
“Type” and “Operations,” respectively. The two menus are added to
the existing menu bar using the <code>add()</code> method. Menus can be populated
with menu items as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">JMenuItem</span> <span class="tok-n">addition</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenuItem</span><span class="tok-o">(</span><span class="tok-s">&quot;Addition&quot;</span><span class="tok-o">);</span>
<span class="tok-n">JMenuItem</span> <span class="tok-n">subtraction</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenuItem</span><span class="tok-o">(</span><span class="tok-s">&quot;Subtraction&quot;</span><span class="tok-o">)</span>
<span class="tok-n">operation</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">addition</span><span class="tok-o">);</span>
<span class="tok-n">operation</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">subtraction</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>These statements create two menu items named <code>addition</code> and
<code>subtraction</code>. These menu items are then added to the menu <code>operations</code>.
After having created a menu bar together with its menus and their
respective menu items, we need to add it to a frame.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">JFrame</span> <span class="tok-n">frame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Menu Example&quot;</span><span class="tok-o">);</span>
<span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setJMenuBar</span><span class="tok-o">(</span><span class="tok-n">bar</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>These statements create a frame and set its menu bar to <code>bar</code>. It is
possible to use the <code>add()</code> method instead of the <code>setJMenuBar()</code> method
to add a <code>JMenuBar</code> to a <code>JFrame</code>. However, doing so will add the
<code>JMenuBar</code> to the regular content area, <strong>not</strong> to the menu area.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise15.4">Exercise 15.4</a><br>
<a href="#exercise15.21">Exercise 15.21</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Sometimes you might need to disable a menu item and enable it only under
certain conditions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">JMenuItem</span> <span class="tok-n">subtraction</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenuItem</span><span class="tok-o">(</span><span class="tok-s">&quot;Subtraction&quot;</span><span class="tok-o">);</span>
<span class="tok-n">subtraction</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>These statements create a menu item named <code>subtraction</code> and disable it.
A disabled menu item shows as a gray item and does not respond to
attempts to select it. Note that <code>JButton</code> objects and many other
widgets can be disabled in the same way.</p>
</div>
</div>
<div class="sect4">
<h5 id="_adding_events_to_menus">Adding events to menus</h5>
<div class="paragraph">
<p>An action listener can be added to each menu item, just like a
<code>JButton</code>. Then, when a menu item is clicked by the user, an action
event is generated. A <code>JCheckBoxMenuItem</code> object can be added to a
<code>JMenu</code> as well. This object will have a check box which can be selected
or unselected. A regular <code>JMenuItem</code> object generates an <code>ActionEvent</code>
which is handled by an <code>ActionListener</code>. A <code>JCheckBoxMenuItem</code>, however,
generates an <code>ItemEvent</code> handled by an <code>ItemListener</code>. Here are examples
of both situations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">JMenuItem</span> <span class="tok-n">subtraction</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenuItem</span><span class="tok-o">(</span><span class="tok-s">&quot;Subtraction&quot;</span><span class="tok-o">);</span>
<span class="tok-n">JCheckBoxMenuItem</span> <span class="tok-n">checkBox</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JCheckBoxMenuItem</span><span class="tok-o">(</span><span class="tok-s">&quot;Check yourself&quot;</span><span class="tok-o">);</span>
<span class="tok-n">subtraction</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="tok-n">checkbox</span><span class="tok-o">.</span><span class="tok-na">addItemListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A <code>JMenuItem</code> works just like a <code>JButton</code>. In fact, the same action
listener code could handle events for both buttons and menu items.
However, a <code>JCheckBoxMenuItem</code> generates an <code>ItemEvent</code> (like many other
check box and list widgets that we do not discuss) when the state of its
check box changes. Thus, when you select a check box, a
\(\surd\) sign appears to its left and an <code>ItemEvent</code> is
generated. When you select an already checked check box, the sign
disappears and another <code>ItemEvent</code> is generated. Although an
<code>ActionEvent</code> and an <code>ItemEvent</code> are very similar, Java differentiates
between them because an <code>ItemEvent</code> has more information: By using the
<code>getStateChange()</code> method, it is possible to tell whether the widget
that fired the <code>ItemEvent</code> is now selected or deselected.</p>
</div>
<div class="exampleblock">
<div class="title">Example 124. Math tutor</div>
<div class="content">
<div class="paragraph">
<p>Here we give the code to generate the GUI shown in
<a href="#MathTutorFigure">Figure 66</a> which displays basic (addition and
subtraction) as well as advanced (multiplication and division) problems.
In <a href="#_applets">Section 15.3.7</a> we transform this GUI into an applet
like the one described in <a href="#_problem_math_applet">Section 15.1</a>.</p>
</div>
<div id="MathTutorFigure" class="imageblock">
<div class="content">
<img src="chapters/15-gui/images/mathTutorFigure.svg" alt="mathTutorFigure" width="100%">
</div>
<div class="title">Figure 66. GUI for the <code>MathTutor</code>. (a) No menu selected. (b) Type selected. (c) Operations selected.</div>
</div>
<div class="paragraph">
<p>As shown in <a href="#MathTutorFigure">Figure 66</a>, this GUI has a menu bar
consisting of two menus labeled “Type” and “Operations.” The
“Type” menu contains a check box labeled “Advanced” while the
“Operations” menu contains four menu items labeled “Add,”
“Subtract,” “Multiply,” and “Divide.” Note that the “Multiply”
and “Divide” menu items are disabled. They will be enabled when the
user selects the “Advanced” check box.</p>
</div>
<div class="paragraph">
<p>Before we introduce the program that creates this GUI, we need a helper
class called <code>ProblemGenerator</code> that can randomly generate arithmetic
problems. The class is designed so that the answers are always positive
integers.</p>
</div>
<div id="ProblemGeneratorProgram" class="listingblock">
<div class="title">Program 66. Utility class to generate random addition, subtraction, multiplication, and division problems.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.Random</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">ProblemGenerator</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-n">Random</span> <span class="tok-n">random</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Random</span><span class="tok-o">();</span>
<span class="lineno"> 6 </span>
<span class="lineno"> 7 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">int</span> <span class="tok-nf">addPractice</span><span class="tok-o">(</span> <span class="tok-n">JLabel</span> <span class="tok-n">label</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 8 </span>        <span class="tok-kt">int</span> <span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">(</span><span class="tok-mi">12</span><span class="tok-o">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
<span class="lineno"> 9 </span>        <span class="tok-kt">int</span> <span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">(</span><span class="tok-mi">12</span><span class="tok-o">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
<span class="lineno">10 </span>        <span class="tok-n">label</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span> <span class="tok-n">a</span> <span class="tok-o">+</span> <span class="tok-s">&quot; + &quot;</span> <span class="tok-o">+</span> <span class="tok-n">b</span> <span class="tok-o">+</span> <span class="tok-s">&quot; = &quot;</span><span class="tok-o">);</span>
<span class="lineno">11 </span>        <span class="tok-k">return</span> <span class="tok-n">a</span> <span class="tok-o">+</span> <span class="tok-n">b</span><span class="tok-o">;</span>
<span class="lineno">12 </span>    <span class="tok-o">}</span>
<span class="lineno">13 </span>
<span class="lineno">14 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">int</span> <span class="tok-nf">subtractPractice</span><span class="tok-o">(</span> <span class="tok-n">JLabel</span> <span class="tok-n">label</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">15 </span>        <span class="tok-kt">int</span> <span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">(</span><span class="tok-mi">12</span><span class="tok-o">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
<span class="lineno">16 </span>        <span class="tok-kt">int</span> <span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-n">a</span> <span class="tok-o">+</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">(</span><span class="tok-mi">12</span><span class="tok-o">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
<span class="lineno">17 </span>        <span class="tok-n">label</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span> <span class="tok-n">b</span> <span class="tok-o">+</span> <span class="tok-s">&quot; - &quot;</span> <span class="tok-o">+</span> <span class="tok-n">a</span> <span class="tok-o">+</span> <span class="tok-s">&quot; = &quot;</span><span class="tok-o">);</span>
<span class="lineno">18 </span>        <span class="tok-k">return</span> <span class="tok-n">b</span> <span class="tok-o">-</span> <span class="tok-n">a</span><span class="tok-o">;</span>
<span class="lineno">19 </span>    <span class="tok-o">}</span>
<span class="lineno">20 </span>
<span class="lineno">21 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">int</span> <span class="tok-nf">multiplyPractice</span><span class="tok-o">(</span> <span class="tok-n">JLabel</span> <span class="tok-n">label</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">22 </span>        <span class="tok-kt">int</span> <span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">(</span><span class="tok-mi">12</span><span class="tok-o">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
<span class="lineno">23 </span>        <span class="tok-kt">int</span> <span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">(</span><span class="tok-mi">12</span><span class="tok-o">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
<span class="lineno">24 </span>        <span class="tok-n">label</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span> <span class="tok-n">a</span> <span class="tok-o">+</span> <span class="tok-s">&quot; \u00D7 &quot;</span> <span class="tok-o">+</span> <span class="tok-n">b</span> <span class="tok-o">+</span> <span class="tok-s">&quot; = &quot;</span><span class="tok-o">);</span>
<span class="lineno">25 </span>        <span class="tok-k">return</span> <span class="tok-n">a</span> <span class="tok-o">*</span> <span class="tok-n">b</span><span class="tok-o">;</span>
<span class="lineno">26 </span>    <span class="tok-o">}</span>
<span class="lineno">27 </span>
<span class="lineno">28 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">int</span> <span class="tok-nf">dividePractice</span><span class="tok-o">(</span> <span class="tok-n">JLabel</span> <span class="tok-n">label</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">29 </span>        <span class="tok-kt">int</span> <span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">(</span><span class="tok-mi">12</span><span class="tok-o">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
<span class="lineno">30 </span>        <span class="tok-kt">int</span> <span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-n">a</span><span class="tok-o">*(</span><span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">(</span><span class="tok-mi">12</span><span class="tok-o">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">);</span>
<span class="lineno">31 </span>        <span class="tok-n">label</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span> <span class="tok-n">b</span> <span class="tok-o">+</span> <span class="tok-s">&quot; \u00F7 &quot;</span> <span class="tok-o">+</span> <span class="tok-n">a</span> <span class="tok-o">+</span> <span class="tok-s">&quot; = &quot;</span><span class="tok-o">);</span>
<span class="lineno">32 </span>        <span class="tok-k">return</span> <span class="tok-n">b</span> <span class="tok-o">/</span> <span class="tok-n">a</span><span class="tok-o">;</span>
<span class="lineno">33 </span>    <span class="tok-o">}</span>
<span class="lineno">34 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The code listed above has four static methods <code>addPractice()</code>,
<code>subtractPractice()</code>, <code>multiplyPractice()</code>, and <code>dividePractice()</code>. Each
method generates an appropriate math problem, sets an input <code>JLabel</code> to
display the problem, and returns the solution. Note that <code>\u00D7</code> and
<code>\u00F7</code> are the Unicode values for the multiplication and division
symbols.</p>
</div>
<div class="paragraph">
<p><a href="#MathTutorProgram">Program 67</a> generates the GUI in
<a href="#MathTutorFigure">Figure 66</a>.</p>
</div>
<div id="MathTutorProgram" class="listingblock">
<div class="title">Program 67. Uses menus to generate math problems.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.event.*</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>
<span class="lineno"> 5 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">MathTutor</span> <span class="tok-kd">implements</span> <span class="tok-n">ActionListener</span><span class="tok-o">,</span> <span class="tok-n">ItemListener</span> <span class="tok-o">{</span>
<span class="lineno"> 6 </span>    <span class="tok-kd">private</span> <span class="tok-n">JMenuItem</span> <span class="tok-n">add</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenuItem</span><span class="tok-o">(</span><span class="tok-s">&quot;Addition&quot;</span><span class="tok-o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="lineno"> 7 </span>    <span class="tok-kd">private</span> <span class="tok-n">JMenuItem</span> <span class="tok-n">subtract</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenuItem</span><span class="tok-o">(</span><span class="tok-s">&quot;Subtraction&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 8 </span>    <span class="tok-kd">private</span> <span class="tok-n">JMenuItem</span> <span class="tok-n">multiply</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenuItem</span><span class="tok-o">(</span><span class="tok-s">&quot;Multiply&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 9 </span>    <span class="tok-kd">private</span> <span class="tok-n">JMenuItem</span> <span class="tok-n">divide</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenuItem</span> <span class="tok-o">(</span><span class="tok-s">&quot;Divide&quot;</span><span class="tok-o">);</span>
<span class="lineno">10 </span>    <span class="tok-kd">private</span> <span class="tok-n">JLabel</span> <span class="tok-n">score</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-s">&quot;Score: 0 Correct 0 Incorrect&quot;</span><span class="tok-o">);</span>
<span class="lineno">11 </span>    <span class="tok-kd">private</span> <span class="tok-n">JLabel</span> <span class="tok-n">label</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">();</span>
<span class="lineno">12 </span>    <span class="tok-kd">private</span> <span class="tok-n">JTextField</span> <span class="tok-n">field</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JTextField</span><span class="tok-o">(</span><span class="tok-mi">10</span><span class="tok-o">);</span>
<span class="lineno">13 </span>    <span class="tok-kd">private</span> <span class="tok-n">JButton</span> <span class="tok-n">submit</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Submit&quot;</span><span class="tok-o">);</span>
<span class="lineno">14 </span>
<span class="lineno">15 </span>    <span class="tok-kd">public</span> <span class="tok-nf">MathTutor</span><span class="tok-o">()</span> <span class="tok-o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="lineno">16 </span>        <span class="tok-n">JFrame</span> <span class="tok-n">frame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JFrame</span><span class="tok-o">(</span><span class="tok-s">&quot;Math Tutor&quot;</span><span class="tok-o">);</span>
<span class="lineno">17 </span>        <span class="tok-n">JMenuBar</span> <span class="tok-n">menuBar</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenuBar</span><span class="tok-o">();</span>
<span class="lineno">18 </span>        <span class="tok-n">JMenu</span> <span class="tok-n">type</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenu</span><span class="tok-o">(</span><span class="tok-s">&quot;Type&quot;</span><span class="tok-o">);</span>
<span class="lineno">19 </span>        <span class="tok-n">JMenu</span> <span class="tok-n">operations</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenu</span><span class="tok-o">(</span><span class="tok-s">&quot;Operations&quot;</span><span class="tok-o">);</span>
<span class="lineno">20 </span>        <span class="tok-n">JCheckBoxMenuItem</span> <span class="tok-n">advanced</span> <span class="tok-o">=</span>
<span class="lineno">21 </span>            <span class="tok-k">new</span> <span class="tok-n">JCheckBoxMenuItem</span><span class="tok-o">(</span><span class="tok-s">&quot;Advanced&quot;</span><span class="tok-o">);</span>
<span class="lineno">22 </span>        <span class="tok-c1">// Add ActionListeners to menu items</span>
<span class="lineno">23 </span>        <span class="tok-n">add</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="lineno">24 </span>        <span class="tok-n">subtract</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">25 </span>        <span class="tok-n">multiply</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">26 </span>        <span class="tok-n">divide</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">27 </span>        <span class="tok-c1">// Add ItemListener to checkbox menu item</span>
<span class="lineno">28 </span>        <span class="tok-n">advanced</span><span class="tok-o">.</span><span class="tok-na">addItemListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">29 </span>        <span class="tok-c1">// Fill menu for problem type</span>
<span class="lineno">30 </span>        <span class="tok-n">type</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">advanced</span><span class="tok-o">);</span> <i class="conum" data-value="4"></i><b>(4)</b>
<span class="lineno">31 </span>        <span class="tok-c1">// Fill menu for operations</span>
<span class="lineno">32 </span>        <span class="tok-n">operations</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">add</span><span class="tok-o">);</span>
<span class="lineno">33 </span>        <span class="tok-n">operations</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">subtract</span><span class="tok-o">);</span>
<span class="lineno">34 </span>        <span class="tok-n">operations</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">multiply</span><span class="tok-o">);</span>
<span class="lineno">35 </span>        <span class="tok-n">operations</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">divide</span><span class="tok-o">);</span>
<span class="lineno">36 </span>        <span class="tok-c1">// Disable advanced operations</span>
<span class="lineno">37 </span>        <span class="tok-n">multiply</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span> <i class="conum" data-value="5"></i><b>(5)</b>
<span class="lineno">38 </span>        <span class="tok-n">divide</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
<span class="lineno">39 </span>        <span class="tok-c1">// Fill menu bar set on frame</span>
<span class="lineno">40 </span>        <span class="tok-n">menuBar</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">type</span><span class="tok-o">);</span> <i class="conum" data-value="6"></i><b>(6)</b>
<span class="lineno">41 </span>        <span class="tok-n">menuBar</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">operations</span><span class="tok-o">);</span>
<span class="lineno">42 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setJMenuBar</span><span class="tok-o">(</span><span class="tok-n">menuBar</span><span class="tok-o">);</span>
<span class="lineno">43 </span>        <span class="tok-c1">// Add widgets to frame and display GUI</span>
<span class="lineno">44 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span> <span class="tok-n">score</span><span class="tok-o">,</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">NORTH</span> <span class="tok-o">);</span>
<span class="lineno">45 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span> <span class="tok-n">label</span><span class="tok-o">,</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">WEST</span> <span class="tok-o">);</span>
<span class="lineno">46 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span> <span class="tok-n">field</span><span class="tok-o">,</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">EAST</span> <span class="tok-o">);</span>
<span class="lineno">47 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span> <span class="tok-n">submit</span><span class="tok-o">,</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">SOUTH</span> <span class="tok-o">);</span>
<span class="lineno">48 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">250</span><span class="tok-o">,</span> <span class="tok-mi">125</span><span class="tok-o">);</span>
<span class="lineno">49 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span><span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">50 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">51 </span>    <span class="tok-o">}</span>
<span class="lineno">52 </span>
<span class="lineno">53 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">itemStateChanged</span><span class="tok-o">(</span><span class="tok-n">ItemEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="7"></i><b>(7)</b>
<span class="lineno">54 </span>        <span class="tok-k">if</span><span class="tok-o">(</span><span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">getStateChange</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-n">ItemEvent</span><span class="tok-o">.</span><span class="tok-na">SELECTED</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">55 </span>            <span class="tok-n">add</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
<span class="lineno">56 </span>            <span class="tok-n">subtract</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
<span class="lineno">57 </span>            <span class="tok-n">multiply</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">58 </span>            <span class="tok-n">divide</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">59 </span>        <span class="tok-o">}</span>
<span class="lineno">60 </span>        <span class="tok-k">else</span> <span class="tok-o">{</span>
<span class="lineno">61 </span>            <span class="tok-n">add</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">62 </span>            <span class="tok-n">subtract</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">63 </span>            <span class="tok-n">multiply</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
<span class="lineno">64 </span>            <span class="tok-n">divide</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
<span class="lineno">65 </span>        <span class="tok-o">}</span>
<span class="lineno">66 </span>    <span class="tok-o">}</span>
<span class="lineno">67 </span>
<span class="lineno">68 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">actionPerformed</span><span class="tok-o">(</span><span class="tok-n">ActionEvent</span> <span class="tok-n">e</span><span class="tok-o">){</span> <i class="conum" data-value="8"></i><b>(8)</b>
<span class="lineno">69 </span>        <span class="tok-n">Object</span> <span class="tok-n">menuItem</span> <span class="tok-o">=</span> <span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">getSource</span><span class="tok-o">();</span>
<span class="lineno">70 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">menuItem</span> <span class="tok-o">==</span> <span class="tok-n">add</span> <span class="tok-o">)</span>
<span class="lineno">71 </span>            <span class="tok-n">ProblemGenerator</span><span class="tok-o">.</span><span class="tok-na">addPractice</span><span class="tok-o">(</span> <span class="tok-n">label</span> <span class="tok-o">);</span>
<span class="lineno">72 </span>        <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">menuItem</span> <span class="tok-o">==</span> <span class="tok-n">subtract</span> <span class="tok-o">)</span>
<span class="lineno">73 </span>            <span class="tok-n">ProblemGenerator</span><span class="tok-o">.</span><span class="tok-na">subtractPractice</span><span class="tok-o">(</span> <span class="tok-n">label</span> <span class="tok-o">);</span>
<span class="lineno">74 </span>        <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">menuItem</span> <span class="tok-o">==</span> <span class="tok-n">multiply</span> <span class="tok-o">)</span>
<span class="lineno">75 </span>            <span class="tok-n">ProblemGenerator</span><span class="tok-o">.</span><span class="tok-na">multiplyPractice</span><span class="tok-o">(</span> <span class="tok-n">label</span> <span class="tok-o">);</span>
<span class="lineno">76 </span>        <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">menuItem</span> <span class="tok-o">==</span> <span class="tok-n">divide</span> <span class="tok-o">)</span>
<span class="lineno">77 </span>            <span class="tok-n">ProblemGenerator</span><span class="tok-o">.</span><span class="tok-na">dividePractice</span><span class="tok-o">(</span> <span class="tok-n">label</span> <span class="tok-o">);</span>
<span class="lineno">78 </span>        <span class="tok-n">field</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;&quot;</span><span class="tok-o">);</span>
<span class="lineno">79 </span>    <span class="tok-o">}</span>
<span class="lineno">80 </span>
<span class="lineno">81 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">){</span> <i class="conum" data-value="9"></i><b>(9)</b>
<span class="lineno">82 </span>        <span class="tok-k">new</span> <span class="tok-n">MathTutor</span><span class="tok-o">();</span>
<span class="lineno">83 </span>    <span class="tok-o">}</span>
<span class="lineno">84 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Class <code>MathTutor</code> begins by creating only the objects that need to interact with event handlers: four menu items, a label, a text field, and a button.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Inside the <code>MathTutor</code> constructor, the frame and remaining widgets are
created.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Action listeners are added to the four operations menu items. An item listener is added to the “Advanced” check box menu item, because it requires a different kind of event handler. Note that <code>MathTutor</code> implements both the <code>ActionListener</code> and <code>ItemListener</code> interfaces, allowing it to handle both kinds of events.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The two menus are populated with their respective menu items.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The <code>multiply</code> and <code>divide</code> menu items are disabled because the application starts in basic mode.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>The menus are then added to the menu bar, and the menu bar is set on the frame. Finally, the label and text field are added to the frame, which is made visible. Note that these two widgets are added directly to the frame with the parameters <code>BorderLayout.NORTH</code> and <code>BorderLayout.SOUTH</code>. <code>JFrame</code> objects use the <code>BorderLayout</code> manager by default.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>The <code>itemStateChanged()</code> method enables the <code>multiply</code> and <code>divide</code> menus and disables the <code>add</code> and <code>subtract</code> menus if the <code>advanced</code> check box is selected and does the reverse if it has been unselected.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>The <code>actionPerformed()</code> method is similar to earlier examples. Depending on which menu item fired the event, the appropriate static methods from the <code>ProblemGenerator</code> class are used to display a math problem on <code>label</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>The <code>main()</code> method creates an instance of <code>MathTutor</code>, initiating GUI construction.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_applets">15.3.7. Applets</h4>
<div class="paragraph">
<p>An applet is a Java program that is written to run inside a web browser.
A normal Java application is stored on disk and runs on the command line
or as a window on your desktop (or both), but an applet exists inside of
a webpage. This means that the code that launches an applet is usually
embedded in HTML code.</p>
</div>
<div class="paragraph">
<p>Almost all of the GUI tools we discuss are useful for writing an applet.
For example, you can write an applet that has menus, buttons, text
fields, and any other widget that Swing offers. You can also add
listeners to various objects for the applet to respond to events.</p>
</div>
<div class="paragraph">
<p>A Swing applet is derived from the <code>JApplet</code> class, which is a subclass
of the older AWT class <code>Applet</code>.</p>
</div>
<div class="paragraph">
<p>An applet differs from a stand-alone Java application in several
important ways. The first is that applets are sent across the Internet.
Unless you have increased security settings on your browser, they will
generally run as soon as you visit a page with an applet embedded in it,
without even asking your permission. This poses a huge security risk,
but the designers of Java have worked to protect us. Unsigned applets
(which are the ones we will talk about creating) cannot read, write, or
execute files, make network connections to servers other than the one
they come from, or interact with most other local system settings.
However, applets loaded from a local directory (instead of downloaded
over the Internet) do not have these restrictions. Be sure to remember
these restrictions when you design applets for distribution over the
Internet.</p>
</div>
<div class="paragraph">
<p>Another important and concrete difference from normal Java classes is
that an applet should not define a constructor. Instead, an applet uses
the <code>init()</code> method. When the applet is executed, often through a
browser, its <code>init()</code> method is called first. You can use this method to
set up the applet GUI by adding various widgets and event listeners.</p>
</div>
<div id="rainbowAppletExample" class="exampleblock">
<div class="title">Example 125. <code>RainbowApplet</code></div>
<div class="content">
<div class="paragraph">
<p>We can create a simple applet with a button and a label. Clicking this
button sets the text on the label to contain some information about the
colors in a rainbow. This applet is shown in
<a href="#rainbowAppletFigure">Figure 67</a>. <a href="#RainbowAppletProgram">Program 68</a>
defines the applet.</p>
</div>
<div id="rainbowAppletFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/rainbowAppletFigure.png" alt="rainbowAppletFigure" width="40%">
</div>
<div class="title">Figure 67. A simple applet containing one button.</div>
</div>
<div id="RainbowAppletProgram" class="listingblock">
<div class="title">Program 68. Applet with a button and a label.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.event.*</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>
<span class="lineno"> 5 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">RainbowApplet</span> <span class="tok-kd">extends</span> <span class="tok-n">JApplet</span><span class="tok-o">{</span>
<span class="lineno"> 6 </span>    <span class="tok-kd">private</span> <span class="tok-n">JLabel</span> <span class="tok-n">label</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">();</span>
<span class="lineno"> 7 </span>
<span class="lineno"> 8 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">init</span><span class="tok-o">(){</span>
<span class="lineno"> 9 </span>        <span class="tok-n">JButton</span> <span class="tok-n">button</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Rainbows&quot;</span><span class="tok-o">);</span>
<span class="lineno">10 </span>        <span class="tok-n">add</span><span class="tok-o">(</span><span class="tok-n">button</span><span class="tok-o">,</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">NORTH</span><span class="tok-o">);</span>
<span class="lineno">11 </span>        <span class="tok-n">add</span><span class="tok-o">(</span><span class="tok-n">label</span><span class="tok-o">,</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">SOUTH</span><span class="tok-o">);</span>
<span class="lineno">12 </span>        <span class="tok-n">button</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">ActionListener</span><span class="tok-o">(){</span>
<span class="lineno">13 </span>            <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">actionPerformed</span> <span class="tok-o">(</span> <span class="tok-n">ActionEvent</span> <span class="tok-n">e</span><span class="tok-o">){</span>
<span class="lineno">14 </span>                <span class="tok-n">label</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Have the colors ROYGBIV.&quot;</span><span class="tok-o">);</span>
<span class="lineno">15 </span>            <span class="tok-o">}</span>
<span class="lineno">16 </span>        <span class="tok-o">});</span>
<span class="lineno">17 </span>    <span class="tok-o">}</span>
<span class="lineno">18 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that class <code>RainbowApplet</code> extends <code>JApplet</code>, as will most applets
you write. The label is declared as a field, so that the event handler
can access it. The <code>init()</code> method creates a <code>JButton</code> with the label
“Rainbows,” adds both the label and the button to the applet, and adds
an action listener to the button with an anonymous inner class event
handler.</p>
</div>
<div class="paragraph">
<p>Note that the button and the label were added to the applet just as it
would have been done inside of a <code>JFrame</code> constructor. They were added
with the <code>BorderLayout.WEST</code> and <code>BorderLayout.EAST</code> constants because a
<code>JApplet</code> uses a <code>BorderLayout</code> manager by default.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>As you can see, creating an applet is very similar to creating a GUI
based on a <code>JFrame</code>. In fact, it may be easier. However, we need to
create an HTML file for the applet to be accessible via a browser. HTML
stands for <em>hypertext markup language</em>. HTML is the core language for
writing webpages. HTML is designed for marking up text and images to be
displayed within a browser. It is not as complicated as Java, but we do
not have time or space to describe the language deeply.</p>
</div>
<div class="paragraph">
<p>HTML is a language made up of <em>tags</em> that mark parts of a document with
formatting instructions. All of the tags we will need to embed an applet
will start with the name of the tag in angle brackets and then end with
the same name in angle brackets but preceded by a slash. For example, to
mark text as bold in HTML, you can use the <code>&lt;strong&gt;</code> tag as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-o">&lt;</span><span class="tok-n">strong</span><span class="tok-o">&gt;</span><span class="tok-n">Here</span> <span class="tok-n">is</span> <span class="tok-n">text</span> <span class="tok-n">that</span> <span class="tok-n">will</span> <span class="tok-n">appear</span> <span class="tok-n">in</span> <span class="tok-n">a</span> <span class="tok-n">bold</span> <span class="tok-n">font</span><span class="tok-o">.&lt;/</span><span class="tok-n">strong</span><span class="tok-o">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To run <code>RainbowApplet</code> we need to create an HTML file that includes the
applet’s class file inside the <code>&lt;applet&gt;</code> tag.</p>
</div>
<div class="exampleblock">
<div class="title">Example 126. RainbowApplet HTML</div>
<div class="content">
<div class="paragraph">
<p>We want to make <code>RainbowApplet</code> executable via a browser. In addition,
we would like the source code of the applet to be linked from the same
webpage. The following HTML code embeds the <code>RainbowApplet</code> and links to
its source.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-o">&lt;</span><span class="tok-n">html</span><span class="tok-o">&gt;</span>
    <span class="tok-o">&lt;</span><span class="tok-n">head</span><span class="tok-o">&gt;</span>
        <span class="tok-o">&lt;</span><span class="tok-n">title</span><span class="tok-o">&gt;</span><span class="tok-n">Rainbow</span> <span class="tok-n">Applet</span><span class="tok-o">&lt;/</span><span class="tok-n">title</span><span class="tok-o">&gt;</span>
    <span class="tok-o">&lt;/</span><span class="tok-n">head</span><span class="tok-o">&gt;</span>
    <span class="tok-o">&lt;</span><span class="tok-n">body</span><span class="tok-o">&gt;</span>
        <span class="tok-o">&lt;</span><span class="tok-n">applet</span> <span class="tok-n">code</span><span class="tok-o">=</span><span class="tok-s">&quot;RainbowApplet.class&quot;</span> <span class="tok-n">width</span><span class="tok-o">=</span><span class="tok-s">&quot;200&quot;</span> <span class="tok-n">height</span><span class="tok-o">=</span><span class="tok-s">&quot;100&quot;</span><span class="tok-o">&gt;&lt;/</span><span class="tok-n">applet</span><span class="tok-o">&gt;</span>
        <span class="tok-o">&lt;</span><span class="tok-n">hr</span> <span class="tok-o">/&gt;&lt;</span><span class="tok-n">a</span> <span class="tok-n">href</span><span class="tok-o">=</span><span class="tok-s">&quot;RainbowApplet.java&quot;</span><span class="tok-o">&gt;</span><span class="tok-n">The</span> <span class="tok-n">source</span><span class="tok-o">.&lt;/</span><span class="tok-n">a</span><span class="tok-o">&gt;</span>
    <span class="tok-o">&lt;/</span><span class="tok-n">body</span><span class="tok-o">&gt;</span>
<span class="tok-o">&lt;/</span><span class="tok-n">html</span><span class="tok-o">&gt;</span></code></pre>
</div>
</div>
<div id="rainbowAppletInBrowserFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/rainbowAppletInBrowserFigure.png" alt="rainbowAppletInBrowserFigure" width="60%">
</div>
<div class="title">Figure 68. The <code>RainbowApplet</code> as seen through a web browser. Clicking on the link displays the Java source code of the applet in <a href="#RainbowAppletProgram">Program 68</a>.</div>
</div>
<div class="paragraph">
<p>An <code>&lt;html&gt;</code> tag encloses an entire HTML document. Inside is the <code>&lt;head&gt;</code>
tag, followed by the <code>&lt;body&gt;</code> tag. The <code>&lt;head&gt;</code> tag contains information
about the page such as its title, which is given in the <code>&lt;title&gt;</code> tag.
The <code>&lt;body&gt;</code> tag contains the viewable content of the web page. In this
case, there is an <code>&lt;applet&gt;</code> tag, a <code>&lt;hr/&gt;</code> tag, and an <code>&lt;a&gt;</code> tag in the
body.</p>
</div>
<div class="paragraph">
<p>The <code>&lt;applet&gt;</code> tag is used to embed our applet. The name of the applet
class must be given as the argument, in double quotes, to the <code>code</code>
attribute. The <code>width</code> and <code>height</code> attributes specify the size of the
applet on the screen. The <code>&lt;hr/&gt;</code> tag puts the horizontal line between
the applet and the link. It is the only tag in our example that does not
have both an opening and closing half. Finally, the <code>&lt;a&gt;</code> tag is used to
make a clickable link. On a web page, it will display “The source,”
but it will navigate to the file <code>RainbowApplet.java</code> when clicked.</p>
</div>
<div class="paragraph">
<p>Put this code in an HTML file named <code>RainbowApplet.html</code>. (Note that the
name of your HTML file should be descriptive, but it does not have to
match the name of the applet class.) If your browser is Java compatible
and has the appropriate plug-in installed, you should be able to run the
applet by double-clicking on the HTML file. Of course, if you are able
to upload the HTML file and the class file to a web server, you can view
the applet and share it with anyone with an Internet connection.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise15.22">Exercise 15.22</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Applets can be much more complex than <code>RainbowApplet</code>. We now solve the
problem posed at the beginning of the chapter with an applet with a
fully functional GUI designed to be an arithmetic tutor.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_solution_math_applet">15.4. Solution: Math applet</h3>
<div class="paragraph">
<p>The applet that meets the specification given at the beginning of the
chapter is similar to <a href="#MathTutorProgram">Program 67</a>. Modifications must
be made to convert that program into an applet and add full
functionality to the event handlers. We now go through this rather long
Java program step by step. GUI programs in Java tend to be longer than
their command line versions because of the code needed to set up all the
widgets.</p>
</div>
<div id="menusInArithPracticeFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/menusInArithPracticeFigure.svg" alt="menusInArithPracticeFigure" width="80%">
</div>
<div class="title">Figure 69. The Type (a) and Operations (b) menus in the <code>MathTutorApplet</code>. Note that the “Multiply” and “Divide” operations are disabled because the “Advanced” option is not checked.</div>
</div>
<div class="paragraph">
<p>The <code>MathTutorApplet.java</code> file begins with the usual Swing imports and
the class declaration, followed by a list of its fields.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="tok-kn">import</span> <span class="tok-nn">java.awt.*</span><span class="tok-o">;</span>
<span class="tok-kn">import</span> <span class="tok-nn">java.awt.event.*</span><span class="tok-o">;</span>

<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">MathTutorApplet</span> <span class="tok-kd">extends</span> <span class="tok-n">JApplet</span>
    <span class="tok-kd">implements</span> <span class="tok-n">ActionListener</span><span class="tok-o">,</span> <span class="tok-n">ItemListener</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-n">JMenuItem</span> <span class="tok-n">add</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenuItem</span><span class="tok-o">(</span><span class="tok-s">&quot;Addition&quot;</span><span class="tok-o">);</span>
    <span class="tok-kd">private</span> <span class="tok-n">JMenuItem</span> <span class="tok-n">subtract</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenuItem</span><span class="tok-o">(</span><span class="tok-s">&quot;Subtraction&quot;</span><span class="tok-o">);</span>
    <span class="tok-kd">private</span> <span class="tok-n">JMenuItem</span> <span class="tok-n">multiply</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenuItem</span><span class="tok-o">(</span><span class="tok-s">&quot;Multiply&quot;</span><span class="tok-o">);</span>
    <span class="tok-kd">private</span> <span class="tok-n">JMenuItem</span> <span class="tok-n">divide</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenuItem</span> <span class="tok-o">(</span><span class="tok-s">&quot;Divide&quot;</span><span class="tok-o">);</span>
    <span class="tok-kd">private</span> <span class="tok-n">JLabel</span> <span class="tok-n">score</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-s">&quot;Score: 0 Correct 0 Incorrect&quot;</span><span class="tok-o">);</span>
    <span class="tok-kd">private</span> <span class="tok-n">JLabel</span> <span class="tok-n">label</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">();</span>
    <span class="tok-kd">private</span> <span class="tok-n">JTextField</span> <span class="tok-n">field</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JTextField</span><span class="tok-o">(</span><span class="tok-mi">10</span><span class="tok-o">);</span>
    <span class="tok-kd">private</span> <span class="tok-n">JButton</span> <span class="tok-n">submit</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Submit&quot;</span><span class="tok-o">);</span>
    <span class="tok-kd">private</span> <span class="tok-kt">int</span> <span class="tok-n">correct</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-kt">int</span> <span class="tok-n">incorrect</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-kt">int</span> <span class="tok-n">answer</span> <span class="tok-o">=</span> <span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the <code>int</code> variables <code>correct</code>, <code>incorrect</code>, and <code>answer</code> have
been added to the fields to keep track of the correct and incorrect
answers and the current answer that the user is trying to find.</p>
</div>
<div class="paragraph">
<p>Following the field declarations is the definition of the <code>init()</code>
method. As you can see, this method is almost identical to the
constructor in the <code>MathTutor</code> stand-alone application. Indeed, the
<code>init()</code> method is very much like the constructor for an applet.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">init</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-n">JMenuBar</span> <span class="tok-n">menuBar</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenuBar</span><span class="tok-o">();</span>
        <span class="tok-n">JMenu</span> <span class="tok-n">type</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenu</span><span class="tok-o">(</span><span class="tok-s">&quot;Type&quot;</span><span class="tok-o">);</span>
        <span class="tok-n">JMenu</span> <span class="tok-n">operations</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JMenu</span><span class="tok-o">(</span><span class="tok-s">&quot;Operations&quot;</span><span class="tok-o">);</span>
        <span class="tok-n">JCheckBoxMenuItem</span> <span class="tok-n">advanced</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JCheckBoxMenuItem</span><span class="tok-o">(</span><span class="tok-s">&quot;Advanced&quot;</span><span class="tok-o">);</span>
        <span class="tok-c1">// Add ActionListeners to menu items and buttons</span>
        <span class="tok-n">add</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
        <span class="tok-n">subtract</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
        <span class="tok-n">multiply</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
        <span class="tok-n">divide</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
        <span class="tok-n">submit</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
        <span class="tok-c1">// Add ItemListener to checkbox menu item</span>
        <span class="tok-n">advanced</span><span class="tok-o">.</span><span class="tok-na">addItemListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
        <span class="tok-c1">// Fill menu for problem type</span>
        <span class="tok-n">type</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">advanced</span><span class="tok-o">);</span>
        <span class="tok-c1">// Fill menu for operations</span>
        <span class="tok-n">operations</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">add</span><span class="tok-o">);</span>
        <span class="tok-n">operations</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">subtract</span><span class="tok-o">);</span>
        <span class="tok-n">operations</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">multiply</span><span class="tok-o">);</span>
        <span class="tok-n">operations</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">divide</span><span class="tok-o">);</span>
        <span class="tok-c1">// Disable advanced operations and submit</span>
        <span class="tok-n">multiply</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
        <span class="tok-n">divide</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
        <span class="tok-n">submit</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
        <span class="tok-c1">// Fill menu bar and set on applet</span>
        <span class="tok-n">menuBar</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">type</span><span class="tok-o">);</span>
        <span class="tok-n">menuBar</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">operations</span><span class="tok-o">);</span>
        <span class="tok-n">setJMenuBar</span><span class="tok-o">(</span><span class="tok-n">menuBar</span><span class="tok-o">);</span>
        <span class="tok-c1">//Add widgets to applet content</span>
        <span class="tok-n">add</span><span class="tok-o">(</span><span class="tok-n">score</span><span class="tok-o">,</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">NORTH</span><span class="tok-o">);</span>
        <span class="tok-n">add</span><span class="tok-o">(</span><span class="tok-n">label</span><span class="tok-o">,</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">WEST</span><span class="tok-o">);</span>
        <span class="tok-n">add</span><span class="tok-o">(</span><span class="tok-n">field</span><span class="tok-o">,</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">EAST</span><span class="tok-o">);</span>
        <span class="tok-n">add</span><span class="tok-o">(</span><span class="tok-n">submit</span><span class="tok-o">,</span> <span class="tok-n">BorderLayout</span><span class="tok-o">.</span><span class="tok-na">SOUTH</span><span class="tok-o">);</span>
    <span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Just like the <code>MathTutor</code> constructor, this method creates the menu bar,
the menus, and the menu items. Then, it adds action listeners to the
menu items and the button and an item listener to the check box menu
item. Next it adds <code>advanced</code> to the “Type” menu and the four
operation menu items to the “Operations” menu. It disables the
advanced menu items (since the applet starts in basic mode) and the
button (since it is impossible to submit an answer before a problem has
been given). Finally, it puts the menus on the menu bar, sets the menu
bar on the applet, and adds the two text fields, the label, and the
button to the applet content area using appropriate <code>BorderLayout</code>
constants.</p>
</div>
<div class="paragraph">
<p>One big difference between the <code>MathTutor</code> constructor and the
<code>MathTutorApplet</code> <code>init()</code> method is that the <code>MathTutor</code> constructor
creates a <code>JFrame</code> object. In <code>MathTutorApplet</code> no <code>JFrame</code> is necessary
because the class itself is a child of <code>JApplet</code> and thus is a GUI
container.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">itemStateChanged</span><span class="tok-o">(</span><span class="tok-n">ItemEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span><span class="tok-o">(</span><span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">getStateChange</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-n">ItemEvent</span><span class="tok-o">.</span><span class="tok-na">SELECTED</span><span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-n">add</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
            <span class="tok-n">subtract</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
            <span class="tok-n">multiply</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
            <span class="tok-n">divide</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
        <span class="tok-o">}</span>
        <span class="tok-k">else</span> <span class="tok-o">{</span>
            <span class="tok-n">add</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
            <span class="tok-n">subtract</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
            <span class="tok-n">multiply</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
            <span class="tok-n">divide</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>itemStateChanged()</code> method is the same as its counterpart in
<code>MathTutor</code>. If the state change is <code>ItemEvent.SELECTED</code>, we enable the
advanced menus and disable the basic ones. Otherwise, we do the reverse.
Note that this method would be more complicated if we were listening to
more than one object. Since we are only listening to the <code>advanced</code>
check box menu item, we know that it is what is being selected or
deselected.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">actionPerformed</span><span class="tok-o">(</span><span class="tok-n">ActionEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-n">Object</span> <span class="tok-n">object</span> <span class="tok-o">=</span> <span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">getSource</span><span class="tok-o">();</span>
        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">object</span> <span class="tok-o">==</span> <span class="tok-n">submit</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
            <span class="tok-kt">int</span> <span class="tok-n">response</span> <span class="tok-o">=</span> <span class="tok-n">Integer</span><span class="tok-o">.</span><span class="tok-na">parseInt</span><span class="tok-o">(</span><span class="tok-n">field</span><span class="tok-o">.</span><span class="tok-na">getText</span><span class="tok-o">());</span>
            <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">response</span> <span class="tok-o">==</span> <span class="tok-n">answer</span> <span class="tok-o">)</span>
                <span class="tok-n">correct</span><span class="tok-o">++;</span>
            <span class="tok-k">else</span>
                <span class="tok-n">incorrect</span><span class="tok-o">++;</span>
            <span class="tok-n">label</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;&quot;</span><span class="tok-o">);</span>
            <span class="tok-n">score</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Score: &quot;</span> <span class="tok-o">+</span> <span class="tok-n">correct</span> <span class="tok-o">+</span> <span class="tok-s">&quot; Correct &quot;</span> <span class="tok-o">+</span>
                <span class="tok-n">incorrect</span> <span class="tok-o">+</span> <span class="tok-s">&quot; Incorrect&quot;</span><span class="tok-o">);</span>
            <span class="tok-n">submit</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">false</span><span class="tok-o">);</span>
        <span class="tok-o">}</span>
        <span class="tok-k">else</span> <span class="tok-o">{</span>
            <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">object</span> <span class="tok-o">==</span> <span class="tok-n">add</span> <span class="tok-o">)</span>
                <span class="tok-n">answer</span> <span class="tok-o">=</span> <span class="tok-n">ProblemGenerator</span><span class="tok-o">.</span><span class="tok-na">addPractice</span><span class="tok-o">(</span><span class="tok-n">label</span><span class="tok-o">);</span>
            <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">object</span> <span class="tok-o">==</span> <span class="tok-n">subtract</span> <span class="tok-o">)</span>
                <span class="tok-n">answer</span> <span class="tok-o">=</span> <span class="tok-n">ProblemGenerator</span><span class="tok-o">.</span><span class="tok-na">subtractPractice</span><span class="tok-o">(</span><span class="tok-n">label</span><span class="tok-o">);</span>
            <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">object</span> <span class="tok-o">==</span> <span class="tok-n">multiply</span> <span class="tok-o">)</span>
                <span class="tok-n">answer</span> <span class="tok-o">=</span> <span class="tok-n">ProblemGenerator</span><span class="tok-o">.</span><span class="tok-na">multiplyPractice</span><span class="tok-o">(</span><span class="tok-n">label</span><span class="tok-o">);</span>
            <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">object</span> <span class="tok-o">==</span> <span class="tok-n">divide</span> <span class="tok-o">)</span>
                <span class="tok-n">answer</span> <span class="tok-o">=</span> <span class="tok-n">ProblemGenerator</span><span class="tok-o">.</span><span class="tok-na">dividePractice</span><span class="tok-o">(</span><span class="tok-n">label</span><span class="tok-o">);</span>
            <span class="tok-n">submit</span><span class="tok-o">.</span><span class="tok-na">setEnabled</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
        <span class="tok-o">}</span>
        <span class="tok-n">field</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;&quot;</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, the <code>actionPerformed()</code> method deals with the menu item and
button clicks. If <code>submit</code> was clicked, we parse the text in the text
field to get an <code>int</code> value and compare it to the answer. Depending on
its correctness, we update the correct and incorrect counts, clear the
problem label, and update the <code>score</code> label. Finally, we disable the
<code>submit</code> button so that the user can’t submit an answer until another
problem has been given.</p>
</div>
<div class="paragraph">
<p>The next part of the <code>actionPerformed()</code> method has the same
functionality as the <code>actionPerformed()</code> method from <code>MathTutor</code>. It
updates <code>label</code> to contain a randomly generated problem with an
operation that matches whichever menu item was picked. It also saves the
answer into the <code>answer</code> field so that we can check the user’s response
later. Then, it enables the <code>submit</code> button since there is a problem to
answer. No matter what object triggered the action, the last line of the
method clears the text field.</p>
</div>
<div class="paragraph">
<p>We need some HTML to test the applet. Here is a suitable HTML file
similar to the <code>RainbowApplet.html</code> file presented before.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-o">&lt;</span><span class="tok-n">html</span><span class="tok-o">&gt;</span>
    <span class="tok-o">&lt;</span><span class="tok-n">head</span><span class="tok-o">&gt;</span>
        <span class="tok-o">&lt;</span><span class="tok-n">title</span><span class="tok-o">&gt;</span><span class="tok-n">Math</span> <span class="tok-n">Tutor</span> <span class="tok-n">Applet</span><span class="tok-o">&lt;/</span><span class="tok-n">title</span><span class="tok-o">&gt;</span>
    <span class="tok-o">&lt;/</span><span class="tok-n">head</span><span class="tok-o">&gt;</span>
    <span class="tok-o">&lt;</span><span class="tok-n">body</span><span class="tok-o">&gt;</span>
        <span class="tok-o">&lt;</span><span class="tok-n">applet</span> <span class="tok-n">code</span><span class="tok-o">=</span><span class="tok-s">&quot;MathTutorApplet.class&quot;</span> <span class="tok-n">width</span><span class="tok-o">=</span><span class="tok-s">&quot;250&quot;</span> <span class="tok-n">height</span><span class="tok-o">=</span><span class="tok-s">&quot;125&quot;</span><span class="tok-o">&gt;&lt;/</span><span class="tok-n">applet</span><span class="tok-o">&gt;</span>
        <span class="tok-o">&lt;</span><span class="tok-n">hr</span> <span class="tok-o">/&gt;&lt;</span><span class="tok-n">a</span> <span class="tok-n">href</span><span class="tok-o">=</span><span class="tok-s">&quot;MathTutorApplet.java&quot;</span><span class="tok-o">&gt;</span><span class="tok-n">The</span> <span class="tok-n">source</span> <span class="tok-n">code</span><span class="tok-o">.&lt;/</span><span class="tok-n">a</span><span class="tok-o">&gt;</span>
    <span class="tok-o">&lt;/</span><span class="tok-n">body</span><span class="tok-o">&gt;</span>
<span class="tok-o">&lt;/</span><span class="tok-n">html</span><span class="tok-o">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the stand-alone <code>MathTutor</code> application, we created a <code>JFrame</code> and
set its size to 250 × 125 pixels. The <code>width</code> and
<code>height</code> attributes in the HTML allow us to accomplish something
similar. Note that the widgets in the applet have more room than in the
<code>JFrame</code> version because the size of the <code>JFrame</code> includes the title bar
and window borders.</p>
</div>
<div class="paragraph">
<p>The functionality of this applet is limited, but it still shows off
menus, buttons, labels, text fields, applet creation, and two different
kinds of event listeners.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concurrency_guis">15.5. Concurrency: GUIs</h3>
<div class="paragraph">
<p>Stand-alone Java programs have at least one thread, the main thread.
Applets have a similar thread that calls its <code>init()</code> and <code>start()</code>
methods. Applications with GUIs (including applets) create additional
threads to manage the GUI behind the scenes.</p>
</div>
<div class="paragraph">
<p>Although a GUI will create several threads, the most important for the
programmer to worry about is called the <em>event dispatch thread</em> (EDT).
This thread handles events like button clicks. When you write your
<code>actionPerformed()</code> method, remember that the EDT is the one that will
actually execute the code inside.</p>
</div>
<div class="paragraph">
<p>If you are writing a complex program, the EDT may interact with many
other threads, and the synchronization issues discussed in
<a href="chap13.html#_synchronization">Chapter 14</a> will become important. However, only
the EDT is allowed to change the state of widgets in a GUI. Using other
threads to do so will work some of the time, but it is not thread-safe
and violates the design of Swing.</p>
</div>
<div class="sect3">
<h4 id="_worker_threads">15.5.1. Worker threads</h4>
<div class="paragraph">
<p>Thread safety is not the most common multi-threaded GUI problem,
however. Unresponsive GUIs can be found on almost every platform, as you
have no doubt experienced. In Java, unresponsive GUIs usually happen
because the programmer is using the event dispatch thread to do some
task that takes too long. Because the EDT is responsible for updating
the GUI, the GUI freezes, and the user has to wait.</p>
</div>
<div class="paragraph">
<p>This is quite a conundrum. On the one hand, the EDT is the only thread
allowed to update widgets. On the other, it has to do its work quickly
so that the GUI is responsive. The solution is to spawn <em>worker threads</em>
to do the job. When they are done, they inform the EDT so that it is
able to update the GUI.</p>
</div>
<div class="paragraph">
<p>Let’s look at a GUI with two <code>JButton</code> widgets and two <code>JLabel</code> widgets.
When one button is pressed, the EDT goes to sleep for 5 seconds before
displaying an answer on the first label (in this case, approximately
\(\sqrt{2}\)). When the other button is pressed, it increments
a counter and displays the value in the second label.</p>
</div>
<div id="UnresponsiveGUIProgram" class="listingblock">
<div class="title">Program 69. GUI that becomes unresponsive when the “Compute” button is pressed.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.event.*</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>
<span class="lineno"> 5 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">UnresponsiveGUI</span> <span class="tok-kd">extends</span> <span class="tok-n">JFrame</span>
<span class="lineno"> 6 </span>    <span class="tok-kd">implements</span> <span class="tok-n">ActionListener</span> <span class="tok-o">{</span>
<span class="lineno"> 7 </span>    <span class="tok-n">JLabel</span> <span class="tok-n">label</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-s">&quot;Answer:&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 8 </span>    <span class="tok-n">JButton</span> <span class="tok-n">compute</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Compute&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 9 </span>    <span class="tok-n">JLabel</span> <span class="tok-n">counter</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-s">&quot;0&quot;</span><span class="tok-o">);</span>
<span class="lineno">10 </span>    <span class="tok-n">JButton</span> <span class="tok-n">increment</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Increment&quot;</span><span class="tok-o">);</span>
<span class="lineno">11 </span>    <span class="tok-kt">int</span> <span class="tok-n">count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="lineno">12 </span>
<span class="lineno">13 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">args</span><span class="tok-o">[])</span> <span class="tok-o">{</span>
<span class="lineno">14 </span>        <span class="tok-n">UnresponsiveGUI</span> <span class="tok-n">frame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">UnresponsiveGUI</span><span class="tok-o">();</span>
<span class="lineno">15 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span><span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">16 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">250</span><span class="tok-o">,</span><span class="tok-mi">150</span><span class="tok-o">);</span>
<span class="lineno">17 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">18 </span>    <span class="tok-o">}</span>
<span class="lineno">19 </span>
<span class="lineno">20 </span>    <span class="tok-kd">public</span> <span class="tok-nf">UnresponsiveGUI</span><span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno">21 </span>        <span class="tok-n">setLayout</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">GridLayout</span><span class="tok-o">(</span><span class="tok-mi">4</span><span class="tok-o">,</span><span class="tok-mi">1</span><span class="tok-o">));</span>
<span class="lineno">22 </span>        <span class="tok-n">setTitle</span><span class="tok-o">(</span><span class="tok-s">&quot;Unresponsive GUI&quot;</span><span class="tok-o">);</span>
<span class="lineno">23 </span>        <span class="tok-n">add</span><span class="tok-o">(</span><span class="tok-n">label</span><span class="tok-o">);</span>
<span class="lineno">24 </span>        <span class="tok-n">compute</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">25 </span>        <span class="tok-n">add</span><span class="tok-o">(</span><span class="tok-n">compute</span><span class="tok-o">);</span>
<span class="lineno">26 </span>        <span class="tok-n">add</span><span class="tok-o">(</span><span class="tok-n">counter</span><span class="tok-o">);</span>
<span class="lineno">27 </span>        <span class="tok-n">increment</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">28 </span>        <span class="tok-n">add</span><span class="tok-o">(</span><span class="tok-n">increment</span><span class="tok-o">);</span>
<span class="lineno">29 </span>    <span class="tok-o">}</span>
<span class="lineno">30 </span>
<span class="lineno">31 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">actionPerformed</span><span class="tok-o">(</span><span class="tok-n">ActionEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">32 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">getSource</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-n">compute</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">33 </span>            <span class="tok-n">label</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Computing...&quot;</span><span class="tok-o">);</span>
<span class="lineno">34 </span>            <span class="tok-k">try</span> <span class="tok-o">{</span>
<span class="lineno">35 </span>                <span class="tok-n">Thread</span><span class="tok-o">.</span><span class="tok-na">sleep</span><span class="tok-o">(</span><span class="tok-mi">5000</span><span class="tok-o">);</span><span class="tok-cm">/*@\label{unresponsive sleep}@*/</span>
<span class="lineno">36 </span>            <span class="tok-o">}</span> <span class="tok-k">catch</span><span class="tok-o">(</span> <span class="tok-n">Exception</span> <span class="tok-n">ignore</span> <span class="tok-o">)</span> <span class="tok-o">{</span> <span class="tok-o">}</span>
<span class="lineno">37 </span>            <span class="tok-n">label</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Answer: &quot;</span> <span class="tok-o">+</span> <span class="tok-n">Math</span><span class="tok-o">.</span><span class="tok-na">sqrt</span><span class="tok-o">(</span><span class="tok-mf">2.0</span><span class="tok-o">));</span>
<span class="lineno">38 </span>        <span class="tok-o">}</span>
<span class="lineno">39 </span>        <span class="tok-k">else</span> <span class="tok-o">{</span>
<span class="lineno">40 </span>            <span class="tok-n">count</span><span class="tok-o">++;</span>
<span class="lineno">41 </span>            <span class="tok-n">counter</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;&quot;</span> <span class="tok-o">+</span> <span class="tok-n">count</span><span class="tok-o">);</span>
<span class="lineno">42 </span>        <span class="tok-o">}</span>
<span class="lineno">43 </span>    <span class="tok-o">}</span>
<span class="lineno">44 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div id="unresponsiveGUIFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/unresponsiveGUIFigure.png" alt="unresponsiveGUIFigure" width="40%">
</div>
<div class="title">Figure 70. GUI generated by <a href="#UnresponsiveGUIProgram">Program 69</a>.</div>
</div>
<div class="paragraph">
<p>If you click the “Compute” button, the GUI becomes unresponsive.
Specifically, you cannot click on the “Increment” button, but you
should still be able to move the frame around the desktop on most
systems. Furthermore, some thread in the GUI is registering the clicks
you do on the “Increment” button, but events triggered by those clicks
are not handled until after the EDT wakes up. At that point, the counter
will shoot up in value unpredictably.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise15.23">Exercise 15.23</a><br>
<a href="#exercise15.24">Exercise 15.24</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>One solution is to create an anonymous inner class that extends
<code>SwingWorker</code>. The <code>SwingWorker</code> class is abstract, but it is also
<em>generic</em>, meaning that it has type parameters (given in angle brackets)
which specify what type of objects it interacts with. Generic classes
are often containers like <code>LinkedList</code> where the type parameter says
what kind of objects will be kept in the list. <a href="chap17.html#_dynamic_data_structures">Chapter 18</a> covers generics in some depth. The reason we need
generics for <code>SwingWorker</code> is so that it can specify what kind of object
it will return when it finishes its work. The first type parameter
specifies the type that the worker will return when it completes its
work. The second specifies the type that the worker will return
periodically in the process of doing work (which can be useful for
updating progress bars). Examine the following program which has added a
<code>SwingWorker</code> to its <code>actionPerformed()</code> method but is otherwise the
same as <a href="#UnresponsiveGUIProgram">Program 69</a>.</p>
</div>
<div id="WorkerGUIProgram" class="listingblock">
<div class="title">Program 70. GUI that uses <code>SwingWorker</code> to avoid becoming unresponsive.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">javax.swing.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.*</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span><span class="tok-kn">import</span> <span class="tok-nn">java.awt.event.*</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>
<span class="lineno"> 5 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">WorkerGUI</span> <span class="tok-kd">extends</span> <span class="tok-n">JFrame</span> <span class="tok-kd">implements</span> <span class="tok-n">ActionListener</span> <span class="tok-o">{</span>
<span class="lineno"> 6 </span>    <span class="tok-n">JLabel</span> <span class="tok-n">label</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-s">&quot;Answer:&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>    <span class="tok-n">JButton</span> <span class="tok-n">compute</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Compute&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 8 </span>    <span class="tok-n">JLabel</span> <span class="tok-n">counter</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JLabel</span><span class="tok-o">(</span><span class="tok-s">&quot;0&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 9 </span>    <span class="tok-n">JButton</span> <span class="tok-n">increment</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">JButton</span><span class="tok-o">(</span><span class="tok-s">&quot;Increment&quot;</span><span class="tok-o">);</span>
<span class="lineno">10 </span>    <span class="tok-kt">int</span> <span class="tok-n">count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="lineno">11 </span>
<span class="lineno">12 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">args</span><span class="tok-o">[])</span> <span class="tok-o">{</span>
<span class="lineno">13 </span>        <span class="tok-n">WorkerGUI</span> <span class="tok-n">frame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">WorkerGUI</span><span class="tok-o">();</span>
<span class="lineno">14 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setDefaultCloseOperation</span><span class="tok-o">(</span><span class="tok-n">JFrame</span><span class="tok-o">.</span><span class="tok-na">DISPOSE_ON_CLOSE</span><span class="tok-o">);</span>
<span class="lineno">15 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setSize</span><span class="tok-o">(</span><span class="tok-mi">250</span><span class="tok-o">,</span><span class="tok-mi">150</span><span class="tok-o">);</span>
<span class="lineno">16 </span>        <span class="tok-n">frame</span><span class="tok-o">.</span><span class="tok-na">setVisible</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>
<span class="lineno">17 </span>    <span class="tok-o">}</span>
<span class="lineno">18 </span>
<span class="lineno">19 </span>    <span class="tok-kd">public</span> <span class="tok-nf">WorkerGUI</span><span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno">20 </span>        <span class="tok-n">setLayout</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-n">GridLayout</span><span class="tok-o">(</span><span class="tok-mi">4</span><span class="tok-o">,</span><span class="tok-mi">1</span><span class="tok-o">));</span>
<span class="lineno">21 </span>        <span class="tok-n">setTitle</span><span class="tok-o">(</span><span class="tok-s">&quot;Worker GUI&quot;</span><span class="tok-o">);</span>
<span class="lineno">22 </span>        <span class="tok-n">add</span><span class="tok-o">(</span><span class="tok-n">label</span><span class="tok-o">);</span>
<span class="lineno">23 </span>        <span class="tok-n">compute</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">24 </span>        <span class="tok-n">add</span><span class="tok-o">(</span><span class="tok-n">compute</span><span class="tok-o">);</span>
<span class="lineno">25 </span>        <span class="tok-n">add</span><span class="tok-o">(</span><span class="tok-n">counter</span><span class="tok-o">);</span>
<span class="lineno">26 </span>        <span class="tok-n">increment</span><span class="tok-o">.</span><span class="tok-na">addActionListener</span><span class="tok-o">(</span><span class="tok-k">this</span><span class="tok-o">);</span>
<span class="lineno">27 </span>        <span class="tok-n">add</span><span class="tok-o">(</span><span class="tok-n">increment</span><span class="tok-o">);</span>
<span class="lineno">28 </span>    <span class="tok-o">}</span>
<span class="lineno">29 </span>
<span class="lineno">30 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">actionPerformed</span><span class="tok-o">(</span><span class="tok-n">ActionEvent</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">31 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">getSource</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-n">compute</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">32 </span>            <span class="tok-n">SwingWorker</span> <span class="tok-n">worker</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">SwingWorker</span><span class="tok-o">&lt;</span><span class="tok-n">String</span><span class="tok-o">,</span> <span class="tok-n">Void</span><span class="tok-o">&gt;()</span> <span class="tok-o">{</span>
<span class="lineno">33 </span>                <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">doInBackground</span><span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno">34 </span>                    <span class="tok-k">try</span> <span class="tok-o">{</span>
<span class="lineno">35 </span>                        <span class="tok-n">Thread</span><span class="tok-o">.</span><span class="tok-na">sleep</span><span class="tok-o">(</span><span class="tok-mi">5000</span><span class="tok-o">);</span>
<span class="lineno">36 </span>                    <span class="tok-o">}</span> <span class="tok-k">catch</span><span class="tok-o">(</span> <span class="tok-n">Exception</span> <span class="tok-n">ignore</span> <span class="tok-o">)</span> <span class="tok-o">{}</span>
<span class="lineno">37 </span>                    <span class="tok-k">return</span> <span class="tok-s">&quot;Answer: &quot;</span> <span class="tok-o">+</span> <span class="tok-n">Math</span><span class="tok-o">.</span><span class="tok-na">sqrt</span><span class="tok-o">(</span><span class="tok-mf">2.0</span><span class="tok-o">);</span>
<span class="lineno">38 </span>                <span class="tok-o">}</span>
<span class="lineno">39 </span>
<span class="lineno">40 </span>                <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">done</span><span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno">41 </span>                    <span class="tok-k">try</span> <span class="tok-o">{</span>
<span class="lineno">42 </span>                        <span class="tok-n">label</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-n">get</span><span class="tok-o">());</span>
<span class="lineno">43 </span>                    <span class="tok-o">}</span> <span class="tok-k">catch</span> <span class="tok-o">(</span><span class="tok-n">Exception</span> <span class="tok-n">ignore</span><span class="tok-o">)</span> <span class="tok-o">{}</span>
<span class="lineno">44 </span>                <span class="tok-o">}</span>
<span class="lineno">45 </span>            <span class="tok-o">};</span>
<span class="lineno">46 </span>
<span class="lineno">47 </span>            <span class="tok-n">worker</span><span class="tok-o">.</span><span class="tok-na">execute</span><span class="tok-o">();</span>
<span class="lineno">48 </span>            <span class="tok-n">label</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;Computing...&quot;</span><span class="tok-o">);</span>
<span class="lineno">49 </span>        <span class="tok-o">}</span>
<span class="lineno">50 </span>        <span class="tok-k">else</span> <span class="tok-o">{</span>
<span class="lineno">51 </span>            <span class="tok-n">count</span><span class="tok-o">++;</span>
<span class="lineno">52 </span>            <span class="tok-n">counter</span><span class="tok-o">.</span><span class="tok-na">setText</span><span class="tok-o">(</span><span class="tok-s">&quot;&quot;</span> <span class="tok-o">+</span> <span class="tok-n">count</span><span class="tok-o">);</span>
<span class="lineno">53 </span>        <span class="tok-o">}</span>
<span class="lineno">54 </span>    <span class="tok-o">}</span>
<span class="lineno">55 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this program, the first type parameter for the <code>SwingWorker</code> is
<code>String</code> because we are going to set the text in a <code>JLabel</code> with its
result. The second parameter is <code>Void</code>, meaning that we do not intend to
return any values periodically. Most child classes of <code>SwingWorker</code>
should override the <code>doInBackground()</code> and <code>done()</code> methods.</p>
</div>
<div class="paragraph">
<p>The <code>doInBackground()</code> method performs the time-consuming work that we
want done on another thread. In our example, the “work” is going to
sleep, but it will generally be some CPU or I/O intensive process.
Afterwards, it returns the answer it found. The <code>done()</code> method is
called automatically by the EDT after <code>doInBackground()</code> finishes. After
the <code>SwingWorker</code> object has been created, the <code>execute()</code> method starts
it working. The GUI will look identical to the unresponsive version
(except for the title), but it will remain responsive.</p>
</div>
<div class="paragraph">
<p>This syntax is not particularly elegant, but it accomplishes a complex
task. It spawns a thread transparently, and then the EDT is given work
when the thread gives back its answer. Using a <code>SwingWorker</code> is not
always required, but it is a useful tool to have in your arsenal if you
plan on writing industrial-strength GUIs.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise15.25">Exercise 15.25</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_summary_6">15.6. Summary</h3>
<div class="paragraph">
<p>In this chapter we introduce the basics of constructing a GUI to allow
users to interact with an application. We show how to add widgets such
as buttons and text boxes and use layout managers to organize their
appearance. We show how you can add action listeners and other event
handlers so that user actions can perform useful tasks. Finally, we show
how these techniques can be applied to GUIs on stand-alone applications
as well as applets that run inside of a web browser.</p>
</div>
<div class="paragraph">
<p>While Java offers a large variety of widgets and listeners, this
introduction is limited to a few of the most commonly used. Once you
understand the basics of GUI construction as described in this chapter,
it should be easy to understand the extensive Java tutorial at the Oracle
<a href="http://download.oracle.com/javase/tutorial/uiswing/components" target="_blank" rel="noopener">Swing Components tutorial site</a> or other
reference sources.</p>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_15">15.7. Exercises</h3>
<div class="paragraph">
<p><strong>Conceptual Problems</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a id="exercise15.1"></a> In
<a href="#FrameWithPanelAndActionsProgram">Program 55</a>, why have we declared the
buttons and the text box to be <code>final</code>?</p>
</li>
<li>
<p><a id="exercise15.2"></a> Note that both <code>ActionListener</code>
and <code>MouseListener</code> interfaces can be used to process button clicks.
Under which circumstances is <code>ActionListener</code> better? Under which is
<code>MouseListener</code> better?</p>
</li>
<li>
<p><a id="exercise15.3"></a> Why is the <code>MouseAdapter</code>
abstract class useful?</p>
</li>
<li>
<p><a id="exercise15.4"></a> What do you expect will happen if you
used <code>setJMenuBar()</code> to set two different menu bars on a single <code>JFrame</code>
object?</p>
</li>
<li>
<p><a id="exercise15.5"></a> Describe the situations that the
following event listeners are useful for: <code>ActionListener</code>,
<code>MouseListener</code>, <code>ItemListener</code>, and <code>KeyListener</code></p>
<div class="paragraph">
<p><strong>Programming Practice</strong></p>
</div>
</li>
<li>
<p><a id="exercise15.6"></a> Remove the two
instances of the keyword <code>final</code> from
<a href="#FrameWithPanelAndActionsProgram">Program 55</a> and try to compile it. Why
does the compiler complain? What do you conclude regarding the use of
<code>final</code> with respect to local variables used in the <code>actionPerformed()</code>
method of an anonymous inner class? Why is this not a concern for
top-level, named classes used as an <code>ActionListener</code>?</p>
</li>
<li>
<p><a id="exercise15.7"></a> Write a program that creates a
GUI containing two buttons labeled “Start” and “Done.” The GUI frame
should be labeled “Start and Done.”</p>
</li>
<li>
<p><a id="exercise15.8"></a> Modify
<a href="#SimpleMouseEventsProgram">Program 57</a> by implementing the
<code>mouseExited()</code>, <code>mousePressed()</code>, and <code>mouseReleased()</code> methods. Each
method must display a suitable message in the text box when the
corresponding event occurs. For example, when the mouse exits button
<code>one</code>, the text box should display “Mouse exits One.”</p>
</li>
<li>
<p><a id="exercise15.9"></a> Modify
<a href="#IconExampleProgram">Program 60</a> such that clicking the icon-decorated
button generates a roaring sound. Note that this will require you to add
an <code>ActionListener</code> to the button, create an audio clip for the desired
sound, and then play this click when the button is clicked. Consider
visiting <a href="http://www.freesound.org" target="_blank" rel="noopener">freesound</a> for free sound files.</p>
</li>
<li>
<p><a id="exercise15.10"></a> Write a Java program that
creates a GUI containing a label with a picture of yourself.</p>
</li>
<li>
<p><a id="exercise15.11"></a> Extend the <code>SoundGame</code> class
developed in <a href="#soundGameExample">Example 117</a> to include sounds for
various animals. You may find a variety of publicly available sounds
files for use in your program. The Freesound link above is only one
source.</p>
<div class="paragraph">
<p>Note that some sites explicitly ask you not to embed the sound file URL
into your program. In those cases, download the sound file into your
local directory and load it from there into your application.</p>
</div>
</li>
<li>
<p><a id="exercise15.12"></a> In <a href="#soundGameExample">Example 117</a> we stopped both the chirp and the bark sounds because the action
listener corresponding to the “Stop Playing” button does not know
which sound is playing. Modify <a href="#SoundGameProgram">Program 59</a> so that
only the sound that is playing is stopped. You may need to declare
another variable to keep track of which is playing.</p>
</li>
<li>
<p><a id="exercise15.13"></a> Modify
<a href="#AnimalIdentifierProgram">Program 63</a> so that it plays a sound associated
with an animal when the mouse is clicked over its label. Note that this
is an example of a situation where a <code>MouseListener</code> can be used to
listen for mouse click events though an <code>ActionListener</code> cannot. As in
<a href="#exercise15.9">Exercise 15.9</a> and <a href="#exercise15.11">Exercise 15.11</a>, you may need to download sounds from
the Internet.</p>
</li>
<li>
<p><a id="exercise15.14"></a> Modify the applet from
<a href="#_solution_math_applet">Section 15.4</a> to display the problem number the user
is working on. The first problem is numbered “Problem 1” with
subsequent problems 2, 3, and so on. The number should increase each
time the user hits the Submit button. Find a suitable place on the GUI
to display this information. You may need to add a panel to reorganize
the GUI.</p>
</li>
<li>
<p><a id="exercise15.15"></a> Remove the <code>actionPerformed()</code> and
<code>itemStateChanged()</code> methods from the <code>MathTutorApplet</code> class given in
<a href="#_solution_math_applet">Section 15.4</a>. Move the code from these methods into
individual anonymous inner classes added to the <code>add</code>, <code>subtract</code>,
<code>multiply</code>, <code>divide</code>, <code>submit</code>, and <code>advanced</code> objects.</p>
<div class="paragraph">
<p>Note that you are now able to remove <code>ActionListener</code> and <code>ItemListener</code>
from the list of implemented interfaces for the <code>MathTutorApplet</code> class.
Reorganizing the code this way should have no impact on the
functionality of the applet. Is doing so a good idea or not? Why?</p>
</div>
</li>
<li>
<p><a id="exercise15.16"></a> In
<a href="#FrameWithPanelAndActionsProgram">Program 55</a> exchange the first two
<code>add()</code> method calls on the <code>soundPanel</code> so that <code>bark</code> is added to the
panel before the <code>chirp</code>. Explain how the appearance of the GUI is
changed.</p>
</li>
<li>
<p><a id="exercise15.17"></a> Modify
<a href="#FrameWithPanelProgram">Program 54</a> by adding a second panel named
<code>secondPanel</code>. Create a new button named <code>train</code> with the label
“Train.” Add <code>train</code> to <code>secondPanel</code>. Now add <code>secondPanel</code> to
<code>soundCheck</code> and look at the GUI generated. Can you explain why only one
panel is visible?</p>
</li>
<li>
<p><a id="exercise15.18"></a> Remove the line <code>frame.setResizable(false);</code> from <a href="#FlowLayoutExampleProgram">Program 62</a>. Run the modified program and
resize the frame to various sizes. How does the placement of the buttons
change?</p>
</li>
<li>
<p><a id="exercise15.19"></a> Modify
<a href="#FlowLayoutExampleProgram">Program 62</a> by deleting the lines that set the
frame size. What does the resulting GUI look like? Now add the following
code just before the line <code>frame.setResizable(false);</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">demo</span><span class="tok-o">.</span><span class="tok-na">pack</span><span class="tok-o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When you run the modified program, what is the impact of using the
<code>pack()</code> method?</p>
</div>
</li>
<li>
<p><a id="exercise15.20"></a> Create a GUI with a frame that uses
<code>GridLayout</code> and has a suitable size. Use a 3 × 2
layout with a horizontal and vertical spacing of 5 pixels each. Use a
loop to add eight buttons to your frame, labeled 1 through 8. Observe
how the frame expands to include all the buttons even though the
initially specified <code>GridLayout</code> had only 6 cells. Depending on the
frame size, you might have to resize the window to see all cells and
buttons. What happens if you add fewer than 6?</p>
</li>
<li>
<p><a id="exercise15.21"></a> Write a Java program that creates
a GUI with a frame and a menu bar containing a single menu. Add a menu
item to this menu. Use the <code>add()</code> method, not the <code>setJMenuBar()</code>
method, to add the menu bar to the frame. What is the difference between
using the <code>add()</code> method and the <code>setJMenuBar()</code> method to add a menu
bar to a <code>JFrame</code>?</p>
</li>
<li>
<p><a id="exercise15.22"></a> Use the example from the book to
create a suitable HTML file that embeds the <code>RainbowApplet</code> class from
<a href="#rainbowAppletExample">Example 125</a> and links to the Java source code. Now
upload the class file, the source code, and the HTML file to a web
server so that you can run the applet over the Internet. Have a friend
test out your code on a computer in another location to make sure that
it works.</p>
<div class="paragraph">
<p><strong>Experiments</strong></p>
</div>
</li>
<li>
<p><a id="exercise15.23"></a> Recall that
<a href="#UnresponsiveGUIProgram">Program 69</a> is unresponsive because the event
dispatch thread goes to sleep for 5 seconds (5,000 milliseconds). Experiment with this value to determine
what is a reasonable amount of time for the EDT to be blocked before the
GUI feels unresponsive.</p>
</li>
<li>
<p><a id="exercise15.24"></a> <a href="#UnresponsiveGUIProgram">Program 69</a> is
unrealistic because the EDT simply goes to sleep. Normally, a GUI
becomes unresponsive because the EDT is performing extensive
calculations or doing slow I/O operations. Replace the line that sleeps with a short loop that performs significant calculations. One
simple way to spend a lot of computational time is by summing the sines
of random numbers, similar to the work done in <a href="chap12.html#arraySummationExample">Example 103</a>. How many sines do you need to compute to make the GUI
unresponsive for 5 seconds?</p>
</li>
<li>
<p><a id="exercise15.25"></a> Take the computationally expensive loop
from <a href="#exercise15.24">Exercise 15.24</a> and use it to replace
the line that sleeps in <a href="#WorkerGUIProgram">Program 70</a>, the
<code>SwingWorker</code> version of the program. Does the program become
unresponsive if you run it? If possible, run the program on Windows,
Mac, and Linux environments. If it is unresponsive in some environments
but not others, why do you think that might be?</p>
</li>
</ol>
</div>
</div>
</div>
</div></div>
<div id="footer">
<div id="footer-text">
Last updated 2018-08-16 13:36:09 EDT
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>