<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<meta name="author" content="Barry Wittman, Tim Korb, Aditya Mathur">
<title>Start Concurrent: A Gentle Introduction to Concurrent Programming</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments, .listingblock .pygments code { background: #f8f8f8; }
.listingblock .pygments .tok-c { color: #408080; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-o { color: #666666 } /* Operator */
.listingblock .pygments .tok-ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.listingblock .pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
.listingblock .pygments .tok-cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.listingblock .pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #FF0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #B00040 } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #666666 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #BA2121 } /* Literal.String */
.listingblock .pygments .tok-na { color: #7D9029 } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #008000 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
.listingblock .pygments .tok-no { color: #880000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #0000FF } /* Name.Function */
.listingblock .pygments .tok-nl { color: #A0A000 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #19177C } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
.listingblock .pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
.listingblock .pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
.listingblock .pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #008000 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
.listingblock .pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
.listingblock .pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
.listingblock .pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Start Concurrent: A Gentle Introduction to Concurrent Programming</h1>
<div class="details">
<span id="author" class="author">Barry Wittman</span><br>
<span id="email" class="email"><a href="mailto:wittman1@otterbein.edu">wittman1@otterbein.edu</a></span><br>
<span id="author2" class="author">Tim Korb</span><br>
<span id="email2" class="email"><a href="mailto:jtk@purdue.edu">jtk@purdue.edu</a></span><br>
<span id="author3" class="author">Aditya Mathur</span><br>
<span id="email3" class="email"><a href="mailto:apm@purdue.edu">apm@purdue.edu</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html#_computer_basics">1. Computer Basics</a>
<ul class="sectlevel2">
<li><a href="index.html#_problem_buying_a_computer">1.1. Problem: Buying a computer</a></li>
<li><a href="index.html#_concepts_hardware_and_software">1.2. Concepts: Hardware and software</a></li>
<li><a href="index.html#_syntax_data_representation">1.3. Syntax: Data representation</a></li>
<li><a href="index.html#_solution_buying_a_computer">1.4. Solution: Buying a computer</a></li>
<li><a href="index.html#_summary">1.5. Summary</a></li>
<li><a href="index.html#_exercises">1.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap1.html#_problem_solving_and_programming">2. Problem Solving and Programming</a>
<ul class="sectlevel2">
<li><a href="chap1.html#_problem_how_to_solve_problems">2.1. Problem: How to solve problems</a></li>
<li><a href="chap1.html#_concepts_developing_software">2.2. Concepts: Developing software</a></li>
<li><a href="chap1.html#_syntax_java_basics">2.3. Syntax: Java basics</a></li>
<li><a href="chap1.html#_solution_how_to_solve_problems">2.4. Solution: How to solve problems</a></li>
<li><a href="chap1.html#_concurrency_solving_problems_in_parallel">2.5. Concurrency: Solving problems in parallel</a></li>
<li><a href="chap1.html#_summary_2">2.6. Summary</a></li>
<li><a href="chap1.html#_exercises_2">2.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap2.html#_primitive_types_and_strings">3. Primitive Types and Strings</a>
<ul class="sectlevel2">
<li><a href="chap2.html#_problem_college_cost_calculator">3.1. Problem: College cost calculator</a></li>
<li><a href="chap2.html#_concepts_types">3.2. Concepts: Types</a></li>
<li><a href="chap2.html#_syntax_types_in_java">3.3. Syntax: Types in Java</a></li>
<li><a href="chap2.html#_syntax_useful_libraries">3.4. Syntax: Useful libraries</a></li>
<li><a href="chap2.html#_solution_college_cost_calculator">3.5. Solution: College cost calculator</a></li>
<li><a href="chap2.html#_concurrency_expressions">3.6. Concurrency: Expressions</a></li>
<li><a href="chap2.html#_summary_3">3.7. Summary</a></li>
<li><a href="chap2.html#_exercises_3">3.8. Exercises</a></li>
</ul>
</li>
<li><a href="chap3.html#_selection">4. Selection</a>
<ul class="sectlevel2">
<li><a href="chap3.html#_problem_monty_hall_simulation">4.1. Problem: Monty Hall simulation</a></li>
<li><a href="chap3.html#_concepts_choosing_between_options">4.2. Concepts: Choosing between options</a></li>
<li><a href="chap3.html#_syntax_selection_in_java">4.3. Syntax: Selection in Java</a></li>
<li><a href="chap3.html#_solution_monty_hall">4.4. Solution: Monty Hall</a></li>
<li><a href="chap3.html#_concurrency_selection">4.5. Concurrency: Selection</a></li>
<li><a href="chap3.html#_exercises_4">4.6. Exercises</a></li>
</ul>
</li>
<li><a href="#_repetition">5. Repetition</a>
<ul class="sectlevel2">
<li><a href="#_problem_dna_searching">5.1. Problem: DNA searching</a></li>
<li><a href="#_concepts_repetition">5.2. Concepts: Repetition</a></li>
<li><a href="#_syntax_loops_in_java">5.3. Syntax: Loops in Java</a></li>
<li><a href="#_solution_dna_searching">5.4. Solution: DNA searching</a></li>
<li><a href="#_concurrency_loops">5.5. Concurrency: Loops</a></li>
<li><a href="#_exercises_5">5.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap5.html#_arrays">6. Arrays</a>
<ul class="sectlevel2">
<li><a href="chap5.html#_introduction">6.1. Introduction</a></li>
<li><a href="chap5.html#_problem_game_of_life">6.2. Problem: Game of Life</a></li>
<li><a href="chap5.html#_concepts_lists_of_data">6.3. Concepts: Lists of data</a></li>
<li><a href="chap5.html#_syntax_arrays_in_java">6.4. Syntax: Arrays in Java</a></li>
<li><a href="chap5.html#_examples_array_usage">6.5. Examples: Array usage</a></li>
<li><a href="chap5.html#_concepts_multidimensional_lists">6.6. Concepts: Multidimensional lists</a></li>
<li><a href="chap5.html#_syntax_advanced_arrays_in_java">6.7. Syntax: Advanced arrays in Java</a></li>
<li><a href="chap5.html#_examples_two_dimensional_arrays">6.8. Examples: Two-dimensional arrays</a></li>
<li><a href="chap5.html#_advanced_special_array_tools_in_java">6.9. Advanced: Special array tools in Java</a></li>
<li><a href="chap5.html#_solution_game_of_life">6.10. Solution: Game of Life</a></li>
<li><a href="chap5.html#_concurrency_arrays">6.11. Concurrency: Arrays</a></li>
<li><a href="chap5.html#_exercises_6">6.12. Exercises</a></li>
</ul>
</li>
<li><a href="chap6.html#_simple_graphical_user_interfaces">7. Simple Graphical User Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap6.html#_problem_codon_extractor">7.1. Problem: Codon extractor</a></li>
<li><a href="chap6.html#GUIBasicsIntroductionSection">7.2. Concepts: User interaction</a></li>
<li><a href="chap6.html#_syntax_dialogs_and_the_joptionpane_class">7.3. Syntax: Dialogs and the <code>JOptionPane</code> class</a></li>
<li><a href="chap6.html#_solution_codon_extractor">7.4. Solution: Codon extractor</a></li>
<li><a href="chap6.html#_concurrency_simple_guis">7.5. Concurrency: Simple GUIs</a></li>
<li><a href="chap6.html#_summary_4">7.6. Summary</a></li>
<li><a href="chap6.html#_exercises_7">7.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap7.html#_methods">8. Methods</a>
<ul class="sectlevel2">
<li><a href="chap7.html#_problem_three_card_poker">8.1. Problem: Three card poker</a></li>
<li><a href="chap7.html#_concepts_dividing_work_into_segments">8.2. Concepts: Dividing work into segments</a></li>
<li><a href="chap7.html#_syntax_methods">8.3. Syntax: Methods</a></li>
<li><a href="chap7.html#_examples_defining_methods">8.4. Examples: Defining methods</a></li>
<li><a href="chap7.html#_solution_three_card_poker">8.5. Solution: Three card poker</a></li>
<li><a href="chap7.html#_concurrency_methods">8.6. Concurrency: Methods</a></li>
<li><a href="chap7.html#_exercises_8">8.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap8.html#_classes">9. Classes</a>
<ul class="sectlevel2">
<li><a href="chap8.html#_problem_nested_expressions">9.1. Problem: Nested expressions</a></li>
<li><a href="chap8.html#_concepts_object_oriented_programming">9.2. Concepts: Object-oriented programming</a></li>
<li><a href="chap8.html#_syntax_classes_in_java">9.3. Syntax: Classes in Java</a></li>
<li><a href="chap8.html#_examples_classes">9.4. Examples: Classes</a></li>
<li><a href="chap8.html#_advanced_nested_classes">9.5. Advanced: Nested classes</a></li>
<li><a href="chap8.html#_solution_nested_expressions">9.6. Solution: Nested expressions</a></li>
<li><a href="chap8.html#_concurrency_objects">9.7. Concurrency: Objects</a></li>
<li><a href="chap8.html#_exercises_9">9.8. Exercises</a></li>
</ul>
</li>
<li><a href="chap9.html#_interfaces">10. Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap9.html#_problem_sort_it_out">10.1. Problem: Sort it out</a></li>
<li><a href="chap9.html#_concepts_making_a_promise">10.2. Concepts: Making a promise</a></li>
<li><a href="chap9.html#_syntax_interfaces">10.3. Syntax: Interfaces</a></li>
<li><a href="chap9.html#_advanced_local_and_anonymous_classes">10.4. Advanced: Local and anonymous classes</a></li>
<li><a href="chap9.html#_solution_sort_it_out">10.5. Solution: Sort it out</a></li>
<li><a href="chap9.html#_concurrency_interfaces">10.6. Concurrency: Interfaces</a></li>
<li><a href="chap9.html#_exercises_10">10.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap10.html#_inheritance">11. Inheritance</a>
<ul class="sectlevel2">
<li><a href="chap10.html#_problem_boolean_circuits">11.1. Problem: Boolean circuits</a></li>
<li><a href="chap10.html#_concepts_refining_classes">11.2. Concepts: Refining classes</a></li>
<li><a href="chap10.html#_syntax_inheritance_in_java">11.3. Syntax: Inheritance in Java</a></li>
<li><a href="chap10.html#_examples_problem_solving_with_inheritance">11.4. Examples: Problem solving with inheritance</a></li>
<li><a href="chap10.html#_solution_boolean_circuits">11.5. Solution: Boolean circuits</a></li>
<li><a href="chap10.html#_concurrency_inheritance">11.6. Concurrency: Inheritance</a></li>
<li><a href="chap10.html#_exercises_11">11.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap11.html#_exceptions">12. Exceptions</a>
<ul class="sectlevel2">
<li><a href="chap11.html#_problem_bank_burglary">12.1. Problem: Bank burglary</a></li>
<li><a href="chap11.html#_concepts_error_handling">12.2. Concepts: Error handling</a></li>
<li><a href="chap11.html#_syntax_exceptions_in_java">12.3. Syntax: Exceptions in Java</a></li>
<li><a href="chap11.html#_solution_bank_burglary">12.4. Solution: Bank burglary</a></li>
<li><a href="chap11.html#_concurrency_exceptions">12.5. Concurrency: Exceptions</a></li>
<li><a href="chap11.html#_exercises_12">12.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap12.html#_concurrent_programming">13. Concurrent Programming</a>
<ul class="sectlevel2">
<li><a href="chap12.html#_introduction_2">13.1. Introduction</a></li>
<li><a href="chap12.html#_problem_deadly_virus">13.2. Problem: Deadly virus</a></li>
<li><a href="chap12.html#_concepts_splitting_up_work">13.3. Concepts: Splitting up work</a></li>
<li><a href="chap12.html#_syntax_threads_in_java">13.4. Syntax: Threads in Java</a></li>
<li><a href="chap12.html#_examples_concurrency_and_speedup">13.5. Examples: Concurrency and speedup</a></li>
<li><a href="chap12.html#_concepts_thread_scheduling">13.6. Concepts: Thread scheduling</a></li>
<li><a href="chap12.html#_syntax_thread_states">13.7. Syntax: Thread states</a></li>
<li><a href="chap12.html#_solution_deadly_virus">13.8. Solution: Deadly virus</a></li>
<li><a href="chap12.html#_summary_5">13.9. Summary</a></li>
<li><a href="chap12.html#_exercises_13">13.10. Exercises</a></li>
</ul>
</li>
<li><a href="chap13.html#_synchronization">14. Synchronization</a>
<ul class="sectlevel2">
<li><a href="chap13.html#_introduction_3">14.1. Introduction</a></li>
<li><a href="chap13.html#_problem_dining_philosophers">14.2. Problem: Dining philosophers</a></li>
<li><a href="chap13.html#_concepts_thread_interaction">14.3. Concepts: Thread interaction</a></li>
<li><a href="chap13.html#_syntax_thread_synchronization">14.4. Syntax: Thread synchronization</a></li>
<li><a href="chap13.html#_pitfalls_synchronization_challenges">14.5. Pitfalls: Synchronization challenges</a></li>
<li><a href="chap13.html#_solution_dining_philosophers">14.6. Solution: Dining philosophers</a></li>
<li><a href="chap13.html#_exercises_14">14.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap14.html#_constructing_graphical_user_interfaces">15. Constructing Graphical User Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap14.html#_problem_math_applet">15.1. Problem: Math applet</a></li>
<li><a href="chap14.html#_concepts_graphical_user_interfaces">15.2. Concepts: Graphical user interfaces</a></li>
<li><a href="chap14.html#_syntax_guis_in_java">15.3. Syntax: GUIs in Java</a></li>
<li><a href="chap14.html#_solution_math_applet">15.4. Solution: Math applet</a></li>
<li><a href="chap14.html#_concurrency_guis">15.5. Concurrency: GUIs</a></li>
<li><a href="chap14.html#_summary_6">15.6. Summary</a></li>
<li><a href="chap14.html#_exercises_15">15.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap15.html#_testing_and_debugging">16. Testing and Debugging</a>
<ul class="sectlevel2">
<li><a href="chap15.html#_fixing_bugs">16.1. Fixing bugs</a></li>
<li><a href="chap15.html#_concepts_approaches_to_debugging">16.2. Concepts: Approaches to debugging</a></li>
<li><a href="chap15.html#_syntax_java_debugging_tools">16.3. Syntax: Java debugging tools</a></li>
<li><a href="chap15.html#_concurrency_parallel_bugs">16.4. Concurrency: Parallel bugs</a></li>
<li><a href="chap15.html#_finding_and_avoiding_bugs">16.5. Finding and avoiding bugs</a></li>
<li><a href="chap15.html#_concepts_design_implementation_and_testing">16.6. Concepts: Design, implementation, and testing</a></li>
<li><a href="chap15.html#_syntax_java_testing_tools">16.7. Syntax: Java testing tools</a></li>
<li><a href="chap15.html#_concurrency_testing_tools">16.8. Concurrency: Testing tools</a></li>
<li><a href="chap15.html#_examples_testing_a_class">16.9. Examples: Testing a class</a></li>
<li><a href="chap15.html#_exercises_16">16.10. Exercises</a></li>
</ul>
</li>
<li><a href="chap16.html#_polymorphism">17. Polymorphism</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_problem_banking_account_with_a_vengeance">17.1. Problem: Banking account with a vengeance</a></li>
<li><a href="chap16.html#_concepts_polymorphism">17.2. Concepts: Polymorphism</a></li>
<li><a href="chap16.html#_syntax_inheritance_tools_in_java">17.3. Syntax: Inheritance tools in Java</a></li>
<li><a href="chap16.html#_solution_banking_account_with_a_vengeance">17.4. Solution: Banking account with a vengeance</a></li>
<li><a href="chap16.html#_concurrency_atomic_libraries">17.5. Concurrency: Atomic libraries</a></li>
<li><a href="chap16.html#_exercises_17">17.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap17.html#_dynamic_data_structures">18. Dynamic Data Structures</a>
<ul class="sectlevel2">
<li><a href="chap17.html#_problem_infix_conversion">18.1. Problem: Infix conversion</a></li>
<li><a href="chap17.html#_concepts_dynamic_data_structures">18.2. Concepts: Dynamic data structures</a></li>
<li><a href="chap17.html#_syntax_dynamic_arrays_and_linked_lists">18.3. Syntax: Dynamic arrays and linked lists</a></li>
<li><a href="chap17.html#_syntax_abstract_data_types_adt">18.4. Syntax: Abstract data types (ADT)</a></li>
<li><a href="chap17.html#_advanced_generic_data_structures">18.5. Advanced: Generic data structures</a></li>
<li><a href="chap17.html#_solution_infix_conversion">18.6. Solution: Infix conversion</a></li>
<li><a href="chap17.html#_concurrency_linked_lists_and_thread_safety">18.7. Concurrency: Linked lists and thread safety</a></li>
<li><a href="chap17.html#_concurrency_thread_safe_libraries">18.8. Concurrency: Thread-safe libraries</a></li>
<li><a href="chap17.html#_exercises_18">18.9. Exercises</a></li>
</ul>
</li>
<li><a href="chap18.html#_recursion">19. Recursion</a>
<ul class="sectlevel2">
<li><a href="chap18.html#_problem_maze_of_doom">19.1. Problem: Maze of doom</a></li>
<li><a href="chap18.html#_concepts_recursive_problem_solving">19.2. Concepts: Recursive problem solving</a></li>
<li><a href="chap18.html#_syntax_recursive_methods">19.3. Syntax: Recursive methods</a></li>
<li><a href="chap18.html#_syntax_recursive_data_structures">19.4. Syntax: Recursive data structures</a></li>
<li><a href="chap18.html#_solution_maze_of_doom">19.5. Solution: Maze of doom</a></li>
<li><a href="chap18.html#_concurrency_futures">19.6. Concurrency: Futures</a></li>
<li><a href="chap18.html#_exercises_19">19.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap19.html#_file_io">20. File I/O</a>
<ul class="sectlevel2">
<li><a href="chap19.html#_problem_a_picture_is_worth_1000_bytes">20.1. Problem: A picture is worth 1,000 bytes</a></li>
<li><a href="chap19.html#_concepts_file_io">20.2. Concepts: File I/O</a></li>
<li><a href="chap19.html#_syntax_file_operations_in_java">20.3. Syntax: File operations in Java</a></li>
<li><a href="chap19.html#_examples_file_examples">20.4. Examples: File examples</a></li>
<li><a href="chap19.html#_solution_a_picture_is_worth_1000_bytes">20.5. Solution: A picture is worth 1,000 bytes</a></li>
<li><a href="chap19.html#_concurrency_file_io">20.6. Concurrency: File I/O</a></li>
<li><a href="chap19.html#_exercises_20">20.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap20.html#_network_communication">21. Network Communication</a>
<ul class="sectlevel2">
<li><a href="chap20.html#_problem_web_server">21.1. Problem: Web server</a></li>
<li><a href="chap20.html#_concepts_tcpip_communication">21.2. Concepts: TCP/IP communication</a></li>
<li><a href="chap20.html#_syntax_networking_in_java">21.3. Syntax: Networking in Java</a></li>
<li><a href="chap20.html#_solution_web_server">21.4. Solution: Web server</a></li>
<li><a href="chap20.html#_concurrency_networking">21.5. Concurrency: Networking</a></li>
<li><a href="chap20.html#_exercises_21">21.6. Exercises</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content"><div class="sect1">
<h2 id="_repetition">5. Repetition</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>Q-Tip:</strong> You on point, Phife?<br>
<strong>Phife Dawg:</strong> All the time, Tip.<br>
<strong>Q-Tip:</strong> You on point, Phife?<br>
<strong>Phife Dawg:</strong> All the time, Tip.<br>
<strong>Q-Tip:</strong> You on point, Phife?<br>
<strong>Phife Dawg:</strong> All the time, Tip.<br>
<strong>Q-Tip:</strong> Well, then grab the microphone and let your words rip.</p>
</div>
</blockquote>
<div class="attribution">
— A Tribe Called Quest
</div>
</div>
<div class="sect2">
<h3 id="_problem_dna_searching">5.1. Problem: DNA searching</h3>
<div class="paragraph">
<p>The world of bioinformatics is the intersection between biology and
computer science. Mapping the human genome would have been impossible
without computers. Sequencing genomes, determining the function of
specific genes, the analysis and prediction of protein structures, and
biomedical imaging are just a few of the areas under the umbrella of
bioinformatics. Much fascinating research is being done in this area as
biologists become better programmers and computer scientists learn more
about biology.</p>
</div>
<div class="paragraph">
<p>Because of its fundamental importance and the incredible amount of
information involved, with tens or hundreds of millions of base pairs of
DNA in each human chromosome, DNA is a central focus of bioinformatics.
As you may know, a DNA strand is made up of a sequence of four
nucleotide bases: adenine, cytosine, guanine, and thymine. These bases
are usually abbreviated as A, C, G, and T, respectively.</p>
</div>
<div class="paragraph">
<p>Searching for a specific DNA subsequence within a larger sequence is a
common task for biologists to perform. Your goal is to write a program
that will search for a subsequence and report how many times it was
found within the sequence. For example, if you are given the sequence
ATTAGACCATATA and asked to search for CAT, your program should output 1,
since there is exactly 1 occurrence of CAT within ATTAGACCATATA. One
feature of this problem that makes it more interesting is that
occurrences can overlap. For example, given the sequence TATTATTAGATTA
and asked to search for TATTA, the correct answer is 2. The sequence
begins with a TATTA, but the third T in the sequence is also the first T
in a second instance of TATTA.</p>
</div>
<div class="paragraph">
<p>In <a href="chap3.html#_selection">Chapter 4</a>, you learned tools that allow you to do
comparisons and make choices based on the results. These tools will
still be useful. For example, when you come across a <code>char</code> in the
sequence, you know how to compare it to a <code>char</code> in the subsequence you
are searching for. The tools you do not yet have are those that allow
repetition. Because this problem requires the program to process a DNA
sequence of arbitrary length, we will need some way to perform a
repetitive action.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concepts_repetition">5.2. Concepts: Repetition</h3>
<div class="paragraph">
<p>You now know how to write choices into a Java program, but, so far, each
choice can only be made once. So, if you want the computer to do a lot
of things, you have to type a lot of things. One of the big
disadvantages of computers is that they have no intelligence: They can
follow instructions blindly, but they cannot do anything else. One of
the big advantages of computers is that they are fast. Modern computers
can perform mathematical operations billions of times faster than human
beings. So, we need to give it some instructions that allow it to do
tasks over and over. Such an instruction must have two components to be
useful: It must have a way to change the task slightly each time so that
each task is useful. It must also have a way to decide when to stop,
otherwise it will continue forever.</p>
</div>
<div class="paragraph">
<p>The first component is the more subtle one. Crafting a set of
instructions so that each repetition of the task does the appropriate
thing will be different for every problem. The second component is
easier to describe: We are going to rely on Boolean logic, just as we
did for conditional statements. The main tool for repetition in Java and
many other languages is called a <em>loop</em>. The body of a loop contains the
task to be performed by the loop. The rest of the loop, at the very
least, contains a condition. Every time we finish the task given in the
body of the loop, we will check the condition. If the condition is true,
we will do the task again. If the condition is false, we are done with
the loop and can move on to the code that comes afterward.</p>
</div>
<div class="paragraph">
<p>One of the difficulties of programming a computer is that we must be
very explicit. Even the most obvious tasks must be spelled out
meticulously. Let’s consider a simple task, one that we perform every
day. If we are in a room and we want to leave, we simply walk out of the
nearest door. Assuming there is only one door in the room, how can we
describe this process by breaking it down into the steps we (literally)
take? Perhaps we could say the following.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><em>Walk toward the door until you reach it.</em></p>
</div>
</div>
</div>
<div class="paragraph">
<p>This statement is a little more specific than <em>Leave the room</em>, but it
does not conform nicely to the paradigm of a loop, that is, a clearly
separated task and a condition. The following is better.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><em>While you are not at the door,</em></p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><em>Take a step toward the door.</em></p>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Now we have good separation between the work done and the condition for
repeating. What is the task performed in the body of this loop and what
is the condition? The task is taking a step towards the door. The
condition is <strong>not</strong> being at the door. It seems a little awkward to
include that “not,” but, in our definition of loops, the body is
executed as long as the condition is true.</p>
</div>
<div class="paragraph">
<p>In a loop, we call each execution of the body of the loop an
<em>iteration</em>. When we say that a program <em>iterates</em> over the statements
in a loop, we are referring to a single pass through the body of a loop.
In this case, the loop will iterate however many times there are steps
to the door from the starting position. It is even possible that the
loop will iterate zero times: The person following this set of
instructions might already be at the door.</p>
</div>
<div class="paragraph">
<p>It’s hard to get away from numbers in a computer program, especially
since everything is fundamentally stored as numbers inside of a
computer. So, the most common kind of loop is one that iterates a fixed
number of times. For example, your morning exercise routine might
include jumping rope 100 times. We could formulate a loop to do that
like so.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><em>Set your counter to 0.</em><br>
<em>While your counter is less than 100,</em></p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><em>Jump rope.</em><br>
<em>Increase your counter by 1.</em></p>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>This loop required some set up to make sure that the counter value
started at the right place. Then, the work done by the loop is the
actual rope jumping and the counter increment. The condition is the
counter being less than 100. Note that this is strictly <strong>less</strong> than 100.
After the first jump, the counter will be incremented to 1. After the
100<sup>th</sup> jump, the counter will be incremented to 100. Since 100 is <strong>not</strong>
less than 100, the loop will exit. If the condition was the counter
being less than or equal to 100, the person following the instructions
would jump 101 times.</p>
</div>
<div class="paragraph">
<p>Input can also be a factor in loop repetitions. For example, you might
be a soldier training in the U.S. Marine Corps. Perhaps your drill
sergeant has commanded you to do push-ups until he says you can stop. We
might formulate a loop to do this as follows.<br></p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><em>Do:</em></p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><em>Push-up.</em><br>
<em>Ask the drill sergeant if you can stop.</em></p>
</div>
</div>
</div>
<div class="paragraph">
<p><em>While the answer is “no.”</em></p>
</div>
</div>
</div>
<div class="paragraph">
<p>As is the case with user input, you must often go into the loop at least
once to get the input. This loop requires the soldier to do at least one
push-up before asking to stop. Some systems might use input but have
other constraints. A more realistic version of this loop might be the
following.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><em>Do:</em></p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><em>Push-up.</em><br>
<em>Ask the drill sergeant if you can stop.</em></p>
</div>
</div>
</div>
<div class="paragraph">
<p><em>While the answer is “no” and you haven’t collapsed.</em></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Remember, the condition for a loop should be a Boolean, and the loop
runs as long as the condition is true. However, there is no reason why
the Boolean cannot be a complicated expression using all the Boolean
logic we have come to know and love.</p>
</div>
<div class="paragraph">
<p>Of course it is possible to <em>nest</em> loops. Nesting loops means putting
one loop inside of another, similar to the way that conditional
statements could be nested inside of other conditional statements. Just
like any other statement, an inner loop will be run as many times as the
outer loop runs. Of course, the statements inside of the inner loop will
be run according to the conditions of that loop. So, if an outer loop
runs 10 times and an inner loop runs 50 times, a statement in the body
of an inner loop would run 500 times!</p>
</div>
<div class="paragraph">
<p>As an example, if you are working out, you might do several sets of
bench presses with a fixed number of reps in each set. If you did 3 sets
of 15 bench presses each, your workout program might look like this:<br></p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><em>Set your set counter to 0.</em><br>
<em>While your set counter is less than 3,</em><br></p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><em>Set your rep counter to 0.</em><br>
<em>While your rep counter is less than 15,</em></p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><em>Do a bench press.</em><br>
<em>Increase your rep counter by 1.</em></p>
</div>
</div>
</div>
<div class="paragraph">
<p><em>Rest for 2 minutes.</em><br>
<em>Increase your set counter.</em></p>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>This way of describing the work out program seems tedious. Most of the
description is structural: conditions for the loops and increments for
the counters. The only “real” activities are the bench press and the
resting. As you can see, the bench press is inside the inner rep loop
and will be executed 15 times each time for each complete execution of
the inner rep loop. Since the inner rep loop sits inside the outer set
loop, it will be executed 3 times, giving a grand total of 45 bench
presses. Resting, however, is after the inner rep loop but still
contained in the outer set loop and will be executed 3 times, totaling 6
minutes of rest.</p>
</div>
<div class="paragraph">
<p>As with conditionals, writing out loops in English is tedious and
imprecise. In the next section, we will discuss the tools for writing
loops in Java. Because Java was designed with loops as a central tool,
we can write loops much more succinctly than in English, squeezing a lot
of information into a small space. Because we pack so much information
into them, loops can look daunting at first. Remember that the syntax we
will introduce is only the formal Java way of expressing a condition and
a list of instructions to execute repeatedly.</p>
</div>
</div>
<div class="sect2">
<h3 id="_syntax_loops_in_java">5.3. Syntax: Loops in Java</h3>
<div class="paragraph">
<p>The Java programming language contains three differently named kinds of
loops: <code>while</code> loops, <code>for</code> loops, and <code>do-while</code> loops. All of them
allow you to write code that will be executed repeatedly. In fact, any
program that uses one style of loops to solve a problem could be
converted to use either of the other two kinds. The three kinds are
provided in Java partly so that it is easy to code certain typical kinds
of repetition and partly because the C language, an ancestor of Java,
contained these three. We will begin by describing <code>while</code> loops because
they have the simplest form and then move on to the other two kinds. We
will then explain the syntax for nesting together multiple loops and
finally discuss several of the common pitfalls encountered by
programmers who are coding loops.</p>
</div>
<div class="sect3">
<h4 id="_while_loops">5.3.1. <code>while</code> loops</h4>
<div class="paragraph">
<p>Superficially, the syntax of a <code>while</code> loop resembles an <code>if</code> statement.
It starts with the keyword <code>while</code> followed by a <code>boolean</code> condition in
parentheses with a block of code surrounded by braces (<code>\{\}</code>)
afterward. This similarity is not accidental. The only difference
between the two is that the body of the <code>if</code> statement will run a only
single time, while the body of the <code>while</code> loop will run as long as the
condition remains <code>true</code>. <a href="#figure-while">Figure 20</a> shows the pattern of
execution for <code>while</code> loops.</p>
</div>
<div id="figure-while" class="imageblock text-center">
<div class="content">
<img src="chapters/05-repetition/images/while.svg" alt="while" width="75%">
</div>
<div class="title">Figure 20. If the condition is <code>true</code>, all of the statements in the body of the loop are executed, and then the condition is checked again. When the check is <code>false</code>, execution skips past the body of the loop.</div>
</div>
<div class="paragraph">
<p>If we assume that the <code>boolean</code> value <code>atDoor</code> says whether or not we
have reached the door and the method <code>walkTowardsDoor()</code> allows us to
take one step closer to the door, we could formulate our example from
the beginning of the previous section as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-o">!</span><span class="tok-n">atDoor</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">atDoor</span> <span class="tok-o">=</span> <span class="tok-n">walkTowardsDoor</span><span class="tok-o">();</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we assume that the <code>walkTowardsDoor()</code> method gives back a
<code>boolean</code> value that is <code>true</code> if we have reached the door and <code>false</code>
otherwise. Unless the <code>walkTowardsDoor()</code> method is able to change the
value of <code>atDoor</code>, the loop will repeat forever, a phenomenon known as
an <em>infinite loop</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-kc">true</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Help me!&quot;</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This loop is an example of an infinite loop. If you run this code inside
of a program, it will print out an endless succession of <code>Help me!</code>
messages. Be prepared to stop the program by typing <code>Ctrl-C</code> (hold down
the <code>Control</code> key and press <code>C</code>) because it will not end otherwise. Not
all infinite loops are this obvious. A programmer will not usually use
<code>true</code> as the condition of a loop, but doing so is not always wrong.
Some loops are expected to continue for quite some time with no definite
end. To leave a loop abruptly, you can use the <code>break</code> command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-kc">true</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Help me!&quot;</span><span class="tok-o">);</span>
    <span class="tok-k">break</span><span class="tok-o">;</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This loop will only print out a single <code>Help me!</code> before exiting. A
<code>break</code> command can be used with an <code>if</code> statement to make a loop that
repeats more than once.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kt">int</span> <span class="tok-n">counter</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-kc">true</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;the loop &quot;</span><span class="tok-o">);</span>
    <span class="tok-n">counter</span><span class="tok-o">++;</span>
    <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">counter</span> <span class="tok-o">&gt;=</span> <span class="tok-mi">3</span> <span class="tok-o">)</span>
        <span class="tok-k">break</span><span class="tok-o">;</span>
<span class="tok-o">}</span>
<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;is on fire!&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This loop will print out <code>the loop the loop the loop is on fire!</code> Of
course, the <code>break</code> statement unnecessarily complicates the code. We
could have written equivalent code as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kt">int</span> <span class="tok-n">counter</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-n">counter</span> <span class="tok-o">&lt;</span> <span class="tok-mi">3</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;the loop &quot;</span><span class="tok-o">);</span>
    <span class="tok-n">counter</span><span class="tok-o">++;</span>
<span class="tok-o">}</span>
<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;is on fire!&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we move on to a more complicated example that can print out the
binary equivalent of a number.</p>
</div>
<div class="exampleblock">
<div class="title">Example 57. Binary Conversion</div>
<div class="content">
<div class="paragraph">
<p>As we discussed in <a href="index.html#_computer_basics">Chapter 1</a>, binary numbers
are the building blocks of every piece of data inside of a modern
computer’s memory. Integers are stored in binary. The representation of
floating point numbers is more complicated, but it also uses 1s and 0s.
Even the <code>char</code> data type and the <code>String</code> values built from them are
fundamentally stored as binary numbers. For this reason, computer
scientists tend to be familiar with the base 2 number system and how to
convert between it and base 10, our usual number system.</p>
</div>
<div class="paragraph">
<p>In base 10, the number 379 is equal to
3 · 100 + 7 · 10 + 9 · 1 = 3 · 10<sup>2</sup> + 7 · 10<sup>1</sup> + 9 · 10<sup>0</sup>.
Moving from right to left, the value of each place increases by a factor
of 10. A binary number is the same, except that the increase is by a
factor of 2 and no single digit is greater than 1. Thus, the number
101011<sub>2</sub> = 1 · 2<sup>5</sup> + 0 · 2<sup>4</sup> + 1 · 2<sup>3</sup> + 0 · 2<sup>2</sup> + 1 · 2 + 1 · 2<sup>0</sup> = 1 · 32 + 0 · 16 + 1 · 8 + 0 · 4 + 1 · 2 + 1 · 0 = 43.
In binary, the number 379 = 101111011<sub>2</sub>.</p>
</div>
<div class="paragraph">
<p>To convert a number \(n\) to binary, we first find the largest
power of 2 that is not larger than \(n\). Then, we begin a
repetitive process that stops when the power of 2 under consideration is
0. If 2 raised to the current power is bigger than \(n\), we
print out a 0 because that power is too big for \(n\).
Otherwise, we print out a 1, subtract 2 raised to that power from
\(n\), and move on to the next smaller power of 2. This
process will print a 0 for every power of 2 that is not in
\(n\) and a 1 for every one that is, giving exactly the
definition of a number written in base 2.</p>
</div>
<div id="DecimalToBinaryProgram" class="listingblock">
<div class="title">Program 18. Outputs a binary representation of a decimal number.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">DecimalToBinary</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>        <span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span> <span class="tok-o">);</span>
<span class="lineno"> 6 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;Please enter a base 10 number: &quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>        <span class="tok-kt">int</span> <span class="tok-n">number</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">();</span>
<span class="lineno"> 8 </span>        <span class="tok-kt">int</span> <span class="tok-n">power</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
<span class="lineno"> 9 </span>        <span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-n">power</span> <span class="tok-o">&lt;=</span> <span class="tok-n">number</span><span class="tok-o">/</span><span class="tok-mi">2</span> <span class="tok-o">)</span>
<span class="lineno">10 </span>            <span class="tok-n">power</span> <span class="tok-o">*=</span> <span class="tok-mi">2</span><span class="tok-o">;</span>
<span class="lineno">11 </span>        <span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-n">power</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">12 </span>            <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">power</span> <span class="tok-o">&gt;</span> <span class="tok-n">number</span> <span class="tok-o">)</span>
<span class="lineno">13 </span>                <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-mi">0</span><span class="tok-o">);</span>
<span class="lineno">14 </span>            <span class="tok-k">else</span> <span class="tok-o">{</span>
<span class="lineno">15 </span>                <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-mi">1</span><span class="tok-o">);</span>
<span class="lineno">16 </span>                <span class="tok-n">number</span> <span class="tok-o">-=</span> <span class="tok-n">power</span><span class="tok-o">;</span>
<span class="lineno">17 </span>            <span class="tok-o">}</span>
<span class="lineno">18 </span>            <span class="tok-n">power</span> <span class="tok-o">/=</span> <span class="tok-mi">2</span><span class="tok-o">;</span>
<span class="lineno">19 </span>        <span class="tok-o">}</span>
<span class="lineno">20 </span>    <span class="tok-o">}</span>
<span class="lineno">21 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The first <code>while</code> loop in this program doubles the value of <code>power</code>
until doubling it again would make it larger than <code>number</code>. We go up to
and including <code>number/2</code>, otherwise we would stop when <code>power</code> was
larger than <code>number</code>. After that loop, we begin repeatedly checking to
see if a given power of 2 is bigger than the value left in <code>number</code>. If
it is, we know that we do not use that power. If it is not, we do and
must remove that power from the value of <code>number</code>.</p>
</div>
<div class="paragraph">
<p>You may have been tempted to solve this problem by determining if a
given number is even or odd. If it is even, then you record a 0, and if
it is odd, then you record a 1. You could then divide the number by two
and repeat the process of determining whether it is even or odd. You
could continue this process until the number became 0. This procedure
requires only a single <code>while</code> loop and would give the digits of the
number in base 2. Unfortunately, you would get the digits in reverse
order. Because we write our numbers with the most significant digit on
the left, we had to use the code given above to first find the largest
value and work backwards, in order to determine the binary digits in the
correct sequence.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_for_loops">5.3.2. <code>for</code> loops</h4>
<div class="paragraph">
<p>Let’s return to our code that prints out
<code>the loop the loop the loop is on fire!</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kt">int</span> <span class="tok-n">counter</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-n">counter</span> <span class="tok-o">&lt;</span> <span class="tok-mi">3</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;the loop &quot;</span><span class="tok-o">);</span>
    <span class="tok-n">counter</span><span class="tok-o">++;</span>
<span class="tok-o">}</span>
<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;is on fire!&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This code involves some initialization, a condition, and an update, as
many loops do. The initialization sets <code>counter</code> to <code>0</code>. The condition
checks to make sure that <code>counter</code> is less than <code>3</code>. The update
increments <code>counter</code> by 1 every iteration of the loop. These three
elements are so common that a special kind of loop called the <code>for</code> loop
was designed with them explicitly in mind. Most <code>for</code> loops are
dependent on a single counting variable. To make the loop easy to read,
the initialization, condition, and update, all of which relate to this
variable, are pulled into the header of the loop. We could code the
previous <code>while</code> loop example more cleanly, using a <code>for</code> loop, as
follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-mi">3</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;the loop &quot;</span><span class="tok-o">);</span>
<span class="tok-o">}</span>
<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;is on fire!&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The header of a <code>for</code> loop consists of those three parts: the
initialization, the condition, and the update, all separated by
semicolons. <a href="#figure-for">Figure 21</a> shows the pattern of execution for
<code>for</code> loops.</p>
</div>
<div id="figure-for" class="imageblock text-center">
<div class="content">
<img src="chapters/05-repetition/images/for.svg" alt="for" width="75%">
</div>
<div class="title">Figure 21. The loop is initialized. If the condition is <code>true</code>, all of the statements in the body of the loop are executed, followed by the increment step. Then the condition is checked again. When the check is <code>false</code>, execution skips past the body of the loop.</div>
</div>
<div class="paragraph">
<p>You may have noticed that we have changed the variable name used within
the loop from <code>counter</code> to <code>i</code>. Doing so does not change the function of
the code. We did so because using the variables <code>i</code>, <code>j</code>, and sometimes
<code>k</code> is a very common practice with <code>for</code> loops. By using variables named
like this, we are indicating that the variable is just a dummy counter
that we are using to make the loop work, not some variable with a
grander purpose. Also, with three uses of a single variable in the
header of a <code>for</code> loop, a long variable name will take up a lot of
space.</p>
</div>
<div class="paragraph">
<p><code>for</code> loops are used in Java programs more than the other two loops.
They work well when you know how many times you want to iterate through
the loop, which you often do. You can think of the first part of the
<code>for</code> loop header as the starting point, the second part as the ending
point, and the third part as how you get from the start to the end. Many
beginning programmers get stuck on the idea that every <code>for</code> loop starts
with <code>int i = 0</code> and ends with <code>i++</code>. While this pattern is often true,
there are many other ways to use a for loop. For example, we could print
the powers of 2 that are less than 1000.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-mi">1000</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">*=</span> <span class="tok-mi">2</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This segment of code prints out <code>1</code>, <code>2</code>, <code>4</code>, <code>8</code>, <code>16</code>, <code>32</code>, <code>64</code>,
<code>128</code>, <code>256</code>, and <code>512</code> on separate lines, which are the powers of
\(2\) from \(2^0\) up to \(2^9\). As you
know from discussion about binary numbers, powers of two have a special
interest to computer scientists. Both of the examples of <code>for</code> loops we
have given have only had a single executable line in the body of the
loop. Like <code>if</code> statements, loops only require braces if their bodies
have more than one executable line. Many of the <code>while</code> loops from the
previous subsection could have been written without braces.</p>
</div>
<div class="paragraph">
<p>Just because a <code>for</code> loop already has a counting mechanism doesn’t mean
that we will not need other variables to perform useful tasks. For
example, given a <code>String</code>, we could try to find the letter of the
alphabet in the <code>String</code> which is closest to the end of the alphabet.
For the <code>String</code> <code>&quot;Pluto is no longer a planet&quot;</code>, the latest letter in
the alphabet is <code>'u'</code>. To write code that will do this job, we must use
the counting variable from the <code>for</code> loop as an <em>index</em> into the
<code>String</code>. Then, we must also have a temporary variable where we keep the
latest letter found so far. To get the \(i\)<sup>th</sup> <code>char</code> from a
<code>String</code>, we can use the <code>charAt()</code> method. The index of the first
<code>char</code> in a <code>String</code> is 0, and the index of the last <code>char</code> is one less
than the length of the <code>String</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">String</span> <span class="tok-n">s</span> <span class="tok-o">=</span> <span class="tok-s">&quot;The quick brown fox jumps over the lazy dog.&quot;</span><span class="tok-o">;</span>
<span class="tok-n">String</span> <span class="tok-n">lower</span> <span class="tok-o">=</span> <span class="tok-n">s</span><span class="tok-o">.</span><span class="tok-na">toLowerCase</span><span class="tok-o">();</span>
<span class="tok-kt">char</span> <span class="tok-n">latest</span> <span class="tok-o">=</span> <span class="tok-sc">' '</span><span class="tok-o">;</span>
<span class="tok-kt">char</span> <span class="tok-n">c</span><span class="tok-o">;</span>
<span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">lower</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">();</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">c</span> <span class="tok-o">=</span> <span class="tok-n">lower</span><span class="tok-o">.</span><span class="tok-na">charAt</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span>
    <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">c</span> <span class="tok-o">&gt;=</span> <span class="tok-sc">'a'</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">c</span> <span class="tok-o">&lt;=</span> <span class="tok-sc">'z'</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">c</span> <span class="tok-o">&gt;</span> <span class="tok-n">latest</span> <span class="tok-o">)</span>
        <span class="tok-n">latest</span> <span class="tok-o">=</span> <span class="tok-n">c</span><span class="tok-o">;</span>
<span class="tok-o">}</span>
<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;The latest character in the alphabet &quot;</span> <span class="tok-o">+</span>
    <span class="tok-s">&quot;from your message is: '&quot;</span> <span class="tok-o">+</span> <span class="tok-n">latest</span> <span class="tok-o">+</span> <span class="tok-s">&quot;'.&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The first thing we do in this example is convert <code>s</code> to lower case, so
that we are comparing all <code>char</code> values in the same case. Next, we run
through <code>lower</code>, starting at index 0 and going until we reach the end of
the <code>String</code>. For each <code>char</code>, we check to see if it is an alphabetic
character and then if it is later in the alphabet than our current
latest. If it is, we store it into <code>latest</code>. After the loop, we print
out the value in <code>latest</code>. We have chosen the <code>char</code> <code>' '</code> because it is
numerically earlier than all the letters in the alphabet. If the output
is a space, we would know that none of the characters in <code>s</code> were
alphabetic.</p>
</div>
<div class="paragraph">
<p>For the example given, the latest character in the alphabet is <code>'z'</code>
because of the word <code>&quot;lazy&quot;</code>. One weakness in this code is that it will
always search through the entire <code>String</code>, even if the letter <code>'z'</code> has
already been found. For the <code>String</code>
<code>&quot;The quick brown fox jumps over the lazy dog.&quot;</code>, we are not wasting too
much time. However, if the <code>String</code> were <code>&quot;Zanzibar!&quot;</code> followed by the
full text of <em>War and Peace</em>, we would be wasting thousands and
thousands of operations reading characters when we knew that <code>'z'</code> was
going to be the latest letter, no matter what. So, we can rewrite our
<code>for</code> loop so that it quits early if it reaches a <code>'z'</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">lower</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">();</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">c</span> <span class="tok-o">=</span> <span class="tok-n">lower</span><span class="tok-o">.</span><span class="tok-na">charAt</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span>
    <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">c</span> <span class="tok-o">&gt;=</span> <span class="tok-sc">'a'</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">c</span> <span class="tok-o">&lt;=</span> <span class="tok-sc">'z'</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">c</span> <span class="tok-o">&gt;</span> <span class="tok-n">latest</span> <span class="tok-o">)</span>
        <span class="tok-n">latest</span> <span class="tok-o">=</span> <span class="tok-n">c</span><span class="tok-o">;</span>
    <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">latest</span> <span class="tok-o">==</span> <span class="tok-sc">'z'</span> <span class="tok-o">)</span>
        <span class="tok-k">break</span><span class="tok-o">;</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This version of the <code>for</code> loop will break out immediately if the latest
is already a <code>'z'</code>. This code will work efficiently, but many
professional programmers discourage the use of <code>break</code> except when
absolutely necessary (like in a <code>switch</code> statement). If a <code>break</code> is
used to exit the loop, this logic can be encoded into the condition of
the loop. Thus, the same loop written with better style would be the
following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">lower</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">()</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">latest</span> <span class="tok-o">!=</span> <span class="tok-sc">'z'</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">c</span> <span class="tok-o">=</span> <span class="tok-n">lower</span><span class="tok-o">.</span><span class="tok-na">charAt</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span>
    <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">c</span> <span class="tok-o">&gt;=</span> <span class="tok-sc">'a'</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">c</span> <span class="tok-o">&lt;=</span> <span class="tok-sc">'z'</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">c</span> <span class="tok-o">&gt;</span> <span class="tok-n">latest</span> <span class="tok-o">)</span>
        <span class="tok-n">latest</span> <span class="tok-o">=</span> <span class="tok-n">c</span><span class="tok-o">;</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For this final version of the loop, we have made the conditional portion
of the header more complex. The comparison using <code>&lt;</code> gives a <code>boolean</code>
that we combine using <code>\&amp;\&amp;</code> with the <code>boolean</code> from the comparison
using <code>!=</code>. As always, remember that the loop will continue iterating as
long as the condition is <code>true</code>. Since we need both parts of the
condition to be <code>true</code> to continue executing, we use the <code>\&amp;\&amp;</code> operator
to connect them.</p>
</div>
<div class="paragraph">
<p>We apologize to international readers for focusing on the Latin alphabet
used by English and many other Western European languages. It should be
possible to make a localized version of this example with any alphabet
by checking the return value of <code>Character.isLetter(c)</code>, which is valid
for all single-character Unicode values, although the idea of
alphabetical order does not really apply to some character systems like
the hanzi and kanji of Chinese and Japanese. Regardless, using the
<code>Character.isLetter()</code> method is recommended for almost all
applications, since it is more general and more readable.</p>
</div>
<div id="primalityTestingExample" class="exampleblock">
<div class="title">Example 58. Primality testing</div>
<div class="content">
<div class="paragraph">
<p>Prime numbers are numbers whose only factors are 1 and themselves. If
you have encountered prime numbers before, they probably seemed like a
mathematical curiosity and nothing more. In fact, prime numbers are the
basis of a very practical application of mathematics: cryptography. With
the use of some math and very large prime numbers, computer scientists
have devised techniques that make shopping online safer.</p>
</div>
<div class="paragraph">
<p>These techniques are beyond the scope of this book, but we can at least
write some code to determine if a number \(n\) is prime. To do
so, we can simply divide \(n\) by all the numbers between 2
and \(n - 1\). If none of the numbers divide it evenly, it
must be prime. Here is this basic solution.</p>
</div>
<div id="PrimalityTester0Program" class="listingblock">
<div class="title">Program 19. Gives a naive approach for testing if a number is prime.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">PrimalityTester0</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>        <span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span> <span class="tok-o">);</span>
<span class="lineno"> 6 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;Please enter a number: &quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>        <span class="tok-kt">long</span> <span class="tok-n">number</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextLong</span><span class="tok-o">();</span>
<span class="lineno"> 8 </span>        <span class="tok-kt">boolean</span> <span class="tok-n">prime</span> <span class="tok-o">=</span> <span class="tok-kc">true</span><span class="tok-o">;</span>
<span class="lineno"> 9 </span>        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">long</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">2</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">number</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">prime</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
<span class="lineno">10 </span>            <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">number</span> <span class="tok-o">%</span> <span class="tok-n">i</span>  <span class="tok-o">==</span>  <span class="tok-mi">0</span> <span class="tok-o">)</span>
<span class="lineno">11 </span>                <span class="tok-n">prime</span> <span class="tok-o">=</span> <span class="tok-kc">false</span><span class="tok-o">;</span>
<span class="lineno">12 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">prime</span> <span class="tok-o">)</span>
<span class="lineno">13 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;&quot;</span> <span class="tok-o">+</span> <span class="tok-n">number</span> <span class="tok-o">+</span> <span class="tok-s">&quot; is prime.&quot;</span><span class="tok-o">);</span>
<span class="lineno">14 </span>        <span class="tok-k">else</span>
<span class="lineno">15 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;&quot;</span> <span class="tok-o">+</span> <span class="tok-n">number</span> <span class="tok-o">+</span> <span class="tok-s">&quot; is not prime.&quot;</span><span class="tok-o">);</span>
<span class="lineno">16 </span>    <span class="tok-o">}</span>
<span class="lineno">17 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This program has a <code>for</code> loop that runs from <code>2</code> up to <code>number - 1</code>,
provided that we don’t find a number that evenly divides <code>number</code>. This
optimization means that the program will output the moment that it knows
that the number is not prime, but we will still have to wait for it to
check all the other possibilities before it is sure that the number is
prime.</p>
</div>
<div class="paragraph">
<p>One insight that we can use to make the program more efficient is that,
after checking 2, we don’t have to divide it by any even numbers. So, we
can do half the checking with a few simple modifications.</p>
</div>
<div id="PrimalityTester1Program" class="listingblock">
<div class="title">Program 20. Gives a slightly cleverer approach for testing if a number is prime.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">PrimalityTester1</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>        <span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span> <span class="tok-o">);</span>
<span class="lineno"> 6 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;Please enter a number: &quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>        <span class="tok-kt">long</span> <span class="tok-n">number</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextLong</span><span class="tok-o">();</span>
<span class="lineno"> 8 </span>        <span class="tok-kt">boolean</span> <span class="tok-n">prime</span> <span class="tok-o">=</span> <span class="tok-o">(</span><span class="tok-n">number</span> <span class="tok-o">%</span> <span class="tok-mi">2</span> <span class="tok-o">!=</span> <span class="tok-mi">0</span><span class="tok-o">);</span>
<span class="lineno"> 9 </span>        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">long</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">3</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">number</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">prime</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">+=</span> <span class="tok-mi">2</span>  <span class="tok-o">)</span>
<span class="lineno">10 </span>            <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">number</span> <span class="tok-o">%</span> <span class="tok-n">i</span>  <span class="tok-o">==</span>  <span class="tok-mi">0</span> <span class="tok-o">)</span>
<span class="lineno">11 </span>                <span class="tok-n">prime</span> <span class="tok-o">=</span> <span class="tok-kc">false</span><span class="tok-o">;</span>
<span class="lineno">12 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">prime</span> <span class="tok-o">)</span>
<span class="lineno">13 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;&quot;</span> <span class="tok-o">+</span> <span class="tok-n">number</span> <span class="tok-o">+</span> <span class="tok-s">&quot; is prime.&quot;</span><span class="tok-o">);</span>
<span class="lineno">14 </span>        <span class="tok-k">else</span>
<span class="lineno">15 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;&quot;</span> <span class="tok-o">+</span> <span class="tok-n">number</span> <span class="tok-o">+</span> <span class="tok-s">&quot; is not prime.&quot;</span><span class="tok-o">);</span>
<span class="lineno">16 </span>    <span class="tok-o">}</span>
<span class="lineno">17 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This version of the program sets the <code>boolean</code> variable <code>prime</code> to
<code>false</code> if <code>number</code> is divisible by 2 and <code>true</code> otherwise. Then, it
starts the search at 3 and continues in jumps of 2. Although we are
saving half the time, we can still do better. Note that if a number
\(n\) is divisible by 2, then it is also divisible by
\(\frac{n}{2}\). So, if a number is <strong>not</strong> divisible by 2, it
is not divisible by any number larger than \(\frac{n}{2}\). If
it is not divisible by 2 or 3, then it is not divisible by any number
larger than \(\frac{n}{3}\). If it is not divisible by 2 or 3
or 4, it is not divisible by any number larger than
\(\frac{n}{4}\), and so on. Thus, we do not have to check all
the way up to \(n - 1\). If we are checking to see if
\(n\) is divisible by \(x\) and learning that
\(n\) is not divisible by anything larger than
\(\frac{n}{x}\), the point where \(x = \frac{n}{x}\)
is when \(x = \sqrt{n}\). Thus, we only need to search up to
\(\sqrt{n}\), which will save even more time.</p>
</div>
<div id="PrimalityTester2Program" class="listingblock">
<div class="title">Program 21. Gives a much faster approach for testing if a number is prime.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">PrimalityTester2</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>        <span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span> <span class="tok-o">);</span>
<span class="lineno"> 6 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;Please enter a number: &quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>        <span class="tok-kt">long</span> <span class="tok-n">number</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextLong</span><span class="tok-o">();</span>
<span class="lineno"> 8 </span>        <span class="tok-kt">boolean</span> <span class="tok-n">prime</span> <span class="tok-o">=</span> <span class="tok-o">(</span><span class="tok-n">number</span> <span class="tok-o">%</span> <span class="tok-mi">2</span> <span class="tok-o">!=</span> <span class="tok-mi">0</span><span class="tok-o">);</span>
<span class="lineno"> 9 </span>        <span class="tok-kt">long</span> <span class="tok-n">root</span> <span class="tok-o">=</span> <span class="tok-o">(</span><span class="tok-kt">long</span><span class="tok-o">)</span><span class="tok-n">Math</span><span class="tok-o">.</span><span class="tok-na">sqrt</span><span class="tok-o">(</span><span class="tok-n">number</span><span class="tok-o">);</span>
<span class="lineno">10 </span>        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">long</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">3</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;=</span> <span class="tok-n">root</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">prime</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">+=</span> <span class="tok-mi">2</span>  <span class="tok-o">)</span>
<span class="lineno">11 </span>            <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">number</span> <span class="tok-o">%</span> <span class="tok-n">i</span>  <span class="tok-o">==</span>  <span class="tok-mi">0</span> <span class="tok-o">)</span>
<span class="lineno">12 </span>                <span class="tok-n">prime</span> <span class="tok-o">=</span> <span class="tok-kc">false</span><span class="tok-o">;</span>
<span class="lineno">13 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">prime</span> <span class="tok-o">)</span>
<span class="lineno">14 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;&quot;</span> <span class="tok-o">+</span> <span class="tok-n">number</span> <span class="tok-o">+</span> <span class="tok-s">&quot; is prime.&quot;</span><span class="tok-o">);</span>
<span class="lineno">15 </span>        <span class="tok-k">else</span>
<span class="lineno">16 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;&quot;</span> <span class="tok-o">+</span> <span class="tok-n">number</span> <span class="tok-o">+</span> <span class="tok-s">&quot; is not prime.&quot;</span><span class="tok-o">);</span>
<span class="lineno">17 </span>    <span class="tok-o">}</span>
<span class="lineno">18 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note in this version of the program we do go up to and including <code>root</code>,
because there is the possibility that <code>number</code> is a perfect square.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise5.2">Exercise 5.2</a></p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 59. DNA reverse complement</div>
<div class="content">
<div class="paragraph">
<p>DNA is usually double stranded, with each base paired to another
specific base, called its complementary base. The following table shows
the association between each base and its complementary base.</p>
</div>
<table class="tableblock frame-all grid-all fit-content center">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Base</th>
<th class="tableblock halign-center valign-top">Abbreviation</th>
<th class="tableblock halign-center valign-top">Complementary Base</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Adenine</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">T</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Cytosine</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">C</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Guanine</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">C</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Thymine</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">T</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A simple but common task is finding the reverse complement of a DNA
sequence. The reverse complement of a DNA sequence is its sequence of
complementary bases given in reverse order. For example, the reverse
complement of ACATGAG is CTCATGT. This sequence is found by first
finding the complement of ACATGAG, which is TGTACTC, and then reversing
its order.</p>
</div>
<div class="paragraph">
<p>We will write a program that finds the reverse complement of a DNA
sequence entered by a user. This sequence will be entered as a sequence
of characters made up of the four abbreviations for the bases: A, C, G,
and T. We will store this sequence as a <code>String</code> and perform some
manipulations on it to get the reverse complement.</p>
</div>
<div id="ReverseComplementProgram" class="listingblock">
<div class="title">Program 22. Finds the reverse complement of a DNA sequence.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">ReverseComplement</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>        <span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span> <span class="tok-o">);</span>
<span class="lineno"> 6 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;Please enter a DNA sequence: &quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>        <span class="tok-n">String</span> <span class="tok-n">sequence</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">().</span><span class="tok-na">toUpperCase</span><span class="tok-o">();</span>
<span class="lineno"> 8 </span>        <span class="tok-n">String</span> <span class="tok-n">complement</span> <span class="tok-o">=</span> <span class="tok-s">&quot;&quot;</span><span class="tok-o">;</span>
<span class="lineno"> 9 </span>        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">sequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">();</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
<span class="lineno">10 </span>            <span class="tok-k">switch</span><span class="tok-o">(</span> <span class="tok-n">sequence</span><span class="tok-o">.</span><span class="tok-na">charAt</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">)</span> <span class="tok-o">)</span> <span class="tok-o">{</span> <span class="tok-c1">//get complements</span>
<span class="lineno">11 </span>                <span class="tok-k">case</span> <span class="tok-sc">'A'</span><span class="tok-o">:</span> <span class="tok-n">complement</span> <span class="tok-o">+=</span> <span class="tok-s">&quot;T&quot;</span><span class="tok-o">;</span> <span class="tok-k">break</span><span class="tok-o">;</span>
<span class="lineno">12 </span>                <span class="tok-k">case</span> <span class="tok-sc">'C'</span><span class="tok-o">:</span> <span class="tok-n">complement</span> <span class="tok-o">+=</span> <span class="tok-s">&quot;G&quot;</span><span class="tok-o">;</span> <span class="tok-k">break</span><span class="tok-o">;</span>
<span class="lineno">13 </span>                <span class="tok-k">case</span> <span class="tok-sc">'G'</span><span class="tok-o">:</span> <span class="tok-n">complement</span> <span class="tok-o">+=</span> <span class="tok-s">&quot;C&quot;</span><span class="tok-o">;</span> <span class="tok-k">break</span><span class="tok-o">;</span>
<span class="lineno">14 </span>                <span class="tok-k">case</span> <span class="tok-sc">'T'</span><span class="tok-o">:</span> <span class="tok-n">complement</span> <span class="tok-o">+=</span> <span class="tok-s">&quot;A&quot;</span><span class="tok-o">;</span> <span class="tok-k">break</span><span class="tok-o">;</span>
<span class="lineno">15 </span>            <span class="tok-o">}</span>
<span class="lineno">16 </span>        <span class="tok-n">String</span> <span class="tok-n">reverseComplement</span> <span class="tok-o">=</span> <span class="tok-s">&quot;&quot;</span><span class="tok-o">;</span>
<span class="lineno">17 </span>        <span class="tok-c1">//reverse the complement</span>
<span class="lineno">18 </span>        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">complement</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">()</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&gt;=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">--</span> <span class="tok-o">)</span>
<span class="lineno">19 </span>            <span class="tok-n">reverseComplement</span> <span class="tok-o">+=</span> <span class="tok-n">complement</span><span class="tok-o">.</span><span class="tok-na">charAt</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span>
<span class="lineno">20 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Reverse complement: &quot;</span> <span class="tok-o">+</span>
<span class="lineno">21 </span>            <span class="tok-n">reverseComplement</span><span class="tok-o">);</span>
<span class="lineno">22 </span>    <span class="tok-o">}</span>
<span class="lineno">23 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This example first creates a <code>String</code> filled with the complement of the
base pairs from the input <code>String</code>. Then, in a second step, it creates a
new <code>String</code> that is the reverse of the complement sequence. Note how
<code>complement</code> is created by appending the <code>char</code> corresponding to the
complementary base at the <strong>end</strong> of <code>complement</code>. If we inserted each
<code>char</code> at the beginning of <code>complement</code>, we would not need to reverse in
a separate step.</p>
</div>
<div id="CleverReverseComplementProgram" class="listingblock">
<div class="title">Program 23. More cleverly finds the reverse complement of a DNA sequence.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">CleverReverseComplement</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>        <span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span> <span class="tok-o">);</span>
<span class="lineno"> 6 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;Please enter a DNA sequence: &quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>        <span class="tok-n">String</span> <span class="tok-n">sequence</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">().</span><span class="tok-na">toUpperCase</span><span class="tok-o">();</span>
<span class="lineno"> 8 </span>        <span class="tok-n">String</span> <span class="tok-n">reverseComplement</span> <span class="tok-o">=</span> <span class="tok-s">&quot;&quot;</span><span class="tok-o">;</span>
<span class="lineno"> 9 </span>        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">sequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">();</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
<span class="lineno">10 </span>            <span class="tok-k">switch</span><span class="tok-o">(</span> <span class="tok-n">sequence</span><span class="tok-o">.</span><span class="tok-na">charAt</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">)</span> <span class="tok-o">)</span> <span class="tok-o">{</span> <span class="tok-c1">//get complements</span>
<span class="lineno">11 </span>                <span class="tok-k">case</span> <span class="tok-sc">'A'</span><span class="tok-o">:</span> <span class="tok-n">reverseComplement</span> <span class="tok-o">=</span> <span class="tok-s">&quot;T&quot;</span> <span class="tok-o">+</span>
<span class="lineno">12 </span>                    <span class="tok-n">reverseComplement</span><span class="tok-o">;</span> <span class="tok-k">break</span><span class="tok-o">;</span>
<span class="lineno">13 </span>                <span class="tok-k">case</span> <span class="tok-sc">'C'</span><span class="tok-o">:</span> <span class="tok-n">reverseComplement</span> <span class="tok-o">=</span> <span class="tok-s">&quot;G&quot;</span> <span class="tok-o">+</span>
<span class="lineno">14 </span>                    <span class="tok-n">reverseComplement</span><span class="tok-o">;</span> <span class="tok-k">break</span><span class="tok-o">;</span>
<span class="lineno">15 </span>                <span class="tok-k">case</span> <span class="tok-sc">'G'</span><span class="tok-o">:</span> <span class="tok-n">reverseComplement</span> <span class="tok-o">=</span> <span class="tok-s">&quot;C&quot;</span> <span class="tok-o">+</span>
<span class="lineno">16 </span>                    <span class="tok-n">reverseComplement</span><span class="tok-o">;</span> <span class="tok-k">break</span><span class="tok-o">;</span>
<span class="lineno">17 </span>                <span class="tok-k">case</span> <span class="tok-sc">'T'</span><span class="tok-o">:</span> <span class="tok-n">reverseComplement</span> <span class="tok-o">=</span> <span class="tok-s">&quot;A&quot;</span> <span class="tok-o">+</span>
<span class="lineno">18 </span>                    <span class="tok-n">reverseComplement</span><span class="tok-o">;</span> <span class="tok-k">break</span><span class="tok-o">;</span>
<span class="lineno">19 </span>            <span class="tok-o">}</span>
<span class="lineno">20 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Reverse complement: &quot;</span> <span class="tok-o">+</span>
<span class="lineno">21 </span>            <span class="tok-n">reverseComplement</span><span class="tok-o">);</span>
<span class="lineno">22 </span>    <span class="tok-o">}</span>
<span class="lineno">23 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_do_while_loops">5.3.3. <code>do-while</code> loops</h4>
<div class="paragraph">
<p>Use this rule of thumb for deciding which kind of loop to use: If you
know how many times you want the loop to execute, use a <code>for</code> loop. If
you don’t know how many times you want it to execute, use a <code>while</code>
loop. Clearly, this rule is not iron-clad. In the previous example, we
used a <code>for</code> loop even though it would stop executing as soon as a <code>'z'</code>
was encountered. Nevertheless, it seems like we have covered all of the
possible situations with <code>while</code> and <code>for</code> loops. When should we use
<code>do-while</code> loops? The simple answer is: never.</p>
</div>
<div class="paragraph">
<p>You never <strong>have</strong> to use a <code>do-while</code> loop. With a little bit of effort,
you use a single kind of loop for every job. The key difference between
a <code>do-while</code> loop and a regular <code>while</code> loop is that a <code>do-while</code> loop
will always run at least once. Neither of the other two loops give you
that guarantee. The syntax for a <code>do-while</code> loop is a <code>do</code> at the top of
a loop body enclosed in braces, with a normal <code>while</code> header at the end,
including a condition in parentheses, followed by a semicolon.
<a href="#figure-do-while">Figure 22</a> shows the pattern of execution for <code>do-while</code>
loops.</p>
</div>
<div id="figure-do-while" class="imageblock text-center">
<div class="content">
<img src="chapters/05-repetition/images/dowhile.svg" alt="dowhile" width="75%">
</div>
<div class="title">Figure 22. The statements in the body of the loop are executed, and then the condition is checked. When the check is <code>false</code>, execution skips past the body of the loop. A <code>do-while</code> loop is guaranteed to run at least once.</div>
</div>
<div class="paragraph">
<p>We can use a <code>do-while</code> loop to print out the first 10 perfect squares
as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kt">int</span> <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
<span class="tok-k">do</span> <span class="tok-o">{</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">x</span><span class="tok-o">*</span><span class="tok-n">x</span><span class="tok-o">);</span>
    <span class="tok-n">x</span><span class="tok-o">++;</span>
<span class="tok-o">}</span> <span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-n">x</span> <span class="tok-o">&lt;=</span> <span class="tok-mi">10</span> <span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This loop behaves exactly the same as the following loop.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kt">int</span> <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
<span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-n">x</span> <span class="tok-o">&lt;=</span> <span class="tok-mi">10</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">x</span><span class="tok-o">*</span><span class="tok-n">x</span><span class="tok-o">);</span>
    <span class="tok-n">x</span><span class="tok-o">++;</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The time when a <code>do-while</code> loop is really going to shine is when your
program will work incorrectly if the loop doesn’t run at least once.
This situation often occurs with input, when the loop must run at least
once before checking the condition. For example, imagine that you want
to write a program that picks a random number between 1 and 100 and lets
the user guess what it is until the user gets it right. You need a loop
because it is a repetitive activity, but you need to let the user guess
at least once so that you can check to see if he or she was right. The
following program fragment does exactly that.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span> <span class="tok-o">);</span>
<span class="tok-n">Random</span> <span class="tok-n">random</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Random</span><span class="tok-o">();</span>
<span class="tok-kt">int</span> <span class="tok-n">guess</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="tok-kt">int</span> <span class="tok-n">number</span> <span class="tok-o">=</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">(</span><span class="tok-mi">100</span><span class="tok-o">)</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
<span class="tok-k">do</span> <span class="tok-o">{</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;What is your guess? &quot;</span><span class="tok-o">);</span>
    <span class="tok-n">guess</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">();</span>
<span class="tok-o">}</span> <span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-n">guess</span> <span class="tok-o">!=</span> <span class="tok-n">number</span> <span class="tok-o">);</span>
<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;You got it! The number was &quot;</span> <span class="tok-o">+</span> <span class="tok-n">number</span> <span class="tok-o">+</span> <span class="tok-s">&quot;.&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You could perform the same function with a <code>while</code> loop, but you will
need to get some input from the user before the loop starts. Using the
<code>do-while</code> loop is a little more elegant.</p>
</div>
</div>
<div class="sect3">
<h4 id="_nested_loops">5.3.4. Nested loops</h4>
<div class="paragraph">
<p>As with <code>if</code> statements, it is possible to nest loops inside of other
loops. In the simplest case, you may have some repetitive activity that
itself needs to be performed several times. For example, when you were
younger, you probably had to learn your multiplication tables. For each
number, a multiplication table gave the value of the product of that
number by every integer between 1 and 12. We can write code to print out
out the multiplication table for every number from 1 to 10 by simply
repeating the process.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">number</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">number</span> <span class="tok-o">&lt;=</span> <span class="tok-mi">10</span><span class="tok-o">;</span> <span class="tok-n">number</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">factor</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">factor</span> <span class="tok-o">&lt;=</span> <span class="tok-mi">12</span><span class="tok-o">;</span> <span class="tok-n">factor</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span> <span class="tok-n">number</span> <span class="tok-o">+</span> <span class="tok-s">&quot; x &quot;</span> <span class="tok-o">+</span> <span class="tok-n">factor</span> <span class="tok-o">+</span>
            <span class="tok-s">&quot; = &quot;</span> <span class="tok-o">+</span> <span class="tok-o">(</span><span class="tok-n">number</span><span class="tok-o">*</span><span class="tok-n">factor</span><span class="tok-o">));</span>
    <span class="tok-o">}</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">();</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The outer loop incrementing <code>number</code> will run 10 times. The inner loop
incrementing <code>factor</code> runs 12 times for each iteration of the outer
loop. So, the code in the inner loop will run a total of 120 times.
Every 12 iterations, the inner loop will stop, and an extra blank line
will be added by the <code>System.out.println()</code> method in the outer loop.</p>
</div>
<div class="exampleblock">
<div class="title">Example 60. Triangular numbers</div>
<div class="content">
<div class="paragraph">
<p>The sequence consisting of 1, 3, 6, 10, 15, and so on is known as the
triangular numbers. The \(i\)<sup>th</sup> triangular number is the sum
of the first \(i\) integers. They are called triangular
numbers because they can be drawn as equilateral triangles in a very
natural way, if you use a number of dots equal to the number.</p>
</div>
<div class="paragraph">
<p>We can use nested loops to print out the first \(n\)
triangular numbers, where \(n\) is specified by the user.</p>
</div>
<div id="TriangularNumbersProgram" class="listingblock">
<div class="title">Program 24. Prints out triangular numbers.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">TriangularNumbers</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>        <span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span> <span class="tok-o">);</span>
<span class="lineno"> 6 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;How many triangular numbers? &quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>        <span class="tok-kt">int</span> <span class="tok-n">n</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">();</span>
<span class="lineno"> 8 </span>        <span class="tok-kt">int</span> <span class="tok-n">sum</span><span class="tok-o">;</span>
<span class="lineno"> 9 </span>        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;=</span> <span class="tok-n">n</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">10 </span>            <span class="tok-n">sum</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="lineno">11 </span>            <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">j</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">j</span> <span class="tok-o">&lt;=</span> <span class="tok-n">i</span><span class="tok-o">;</span> <span class="tok-n">j</span><span class="tok-o">++</span> <span class="tok-o">)</span>
<span class="lineno">12 </span>                <span class="tok-n">sum</span> <span class="tok-o">+=</span> <span class="tok-n">j</span><span class="tok-o">;</span>
<span class="lineno">13 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">sum</span><span class="tok-o">);</span>
<span class="lineno">14 </span>        <span class="tok-o">}</span>
<span class="lineno">15 </span>    <span class="tok-o">}</span>
<span class="lineno">16 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the outer loop iterates through each of the <code>n</code>
different triangular numbers. Then, the inner loop does the summation
needed to compute the given triangular number. Producing a sequence of
triangular numbers this way is, unfortunately, not the most efficient
way to do it. Nested loops are an effective way to solve many problems,
particularly certain types of problems using arrays, but we can generate
triangular numbers using only a single <code>for</code> loop. The key insight is
that we can keep track of the previous triangular number and add
\(i\) to it, as \(i\) increases.</p>
</div>
<div id="CleverTriangularNumbersProgram" class="listingblock">
<div class="title">Program 25. Prints out triangular numbers more cleverly.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">CleverTriangularNumbers</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>        <span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span> <span class="tok-o">);</span>
<span class="lineno"> 6 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;How many triangular numbers? &quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>        <span class="tok-kt">int</span> <span class="tok-n">n</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">();</span>
<span class="lineno"> 8 </span>        <span class="tok-kt">int</span> <span class="tok-n">triangular</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="lineno"> 9 </span>        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;=</span> <span class="tok-n">n</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">10 </span>            <span class="tok-n">triangular</span> <span class="tok-o">+=</span> <span class="tok-n">i</span><span class="tok-o">;</span>
<span class="lineno">11 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">triangular</span><span class="tok-o">);</span>
<span class="lineno">12 </span>        <span class="tok-o">}</span>
<span class="lineno">13 </span>    <span class="tok-o">}</span>
<span class="lineno">14 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>By removing the inner <code>for</code> loop, the total amount of work needed is
greatly reduced.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_common_pitfalls">5.3.5. Common pitfalls</h4>
<div class="paragraph">
<p>With great power comes great responsibility. The power to repeat things
a large number of times means that we can also repeat our mistakes a
large number of times. Many classic bugs occur as a result of logical or
typographical errors in loops. Below we will list a few of the most
common.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Pitfall: Infinite loops</div>
<div class="paragraph">
<p>It is possible to create a loop that never terminates. Your program may
be taking a long time to finish, but if it takes much longer than you
expect, an infinite loop might be the culprit. Infinite loops might
occur because you forgot to include an appropriate statement to advance
a counter.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kt">int</span> <span class="tok-n">number</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
<span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-n">number</span> <span class="tok-o">&lt;=</span> <span class="tok-mi">100</span> <span class="tok-o">)</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">number</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This code is presumably intended to print out the first 100 integers,
but there is no code that increases the value of <code>number</code>. As a
consequence, the number <code>1</code> will be printed out over and over until the
user stops the program from executing. Usually, the cause is more
subtle, as in the following code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-mi">10</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">+=</span> <span class="tok-mf">0.5</span> <span class="tok-o">)</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Half a step forward, half a step back...&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>One might expect this code to print out 20 lines of output. However,
remember that <code>i</code> is an <code>int</code>. Adding <code>0.5</code> to <code>0</code> and then casting it
to an <code>int</code> gives <code>0</code> again. What is particularly insidious about this
loop is that it compiles without even a warning in Java. Usually
conversion from a <code>double</code> to an <code>int</code> requires an explicit cast, but
the <code>+=</code> operator (and other similar operators) behave a little
differently for technical reasons.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Pitfall: Almost infinite loops</div>
<div class="paragraph">
<p>Many loops are truly infinite; others take a really long time. For
example, if you intended to run a loop down from 10 to 0, but increment
your counter instead of decrementing it, overflow means that you will
eventually get to a number less than 0, but it will take more than 2
billion increments instead of the expected 10 decrements.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">10</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span>
<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Blast off!&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This loop will significantly slow your code. Everyone will be so tired
of waiting that they might leave the space shuttle launch. Of course,
another problem with almost infinite loops is that you are dealing with
the wrong values. No one expects to hear the number <code>2147483647</code> in a
countdown.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Pitfall: Fencepost errors</div>
<div class="paragraph">
<p>Perhaps the most common loop errors are fencepost errors, often known as
off-by-one errors. The name “fencepost” comes from a related mistake
that someone might make when putting up a fence. Imagine that you want
to erect a 10 meter long chain link fence and you need to have a support
post every meter, how many posts do you need? In fact, we have not given
you enough information to answer the question correctly. If your fence
is built in a straight line, then you will need 11 posts so that you
have a post at each end. However, if your fence is a rectangular
enclosure, say 3 meters by 2 meters, you will only need 10 posts.</p>
</div>
<div class="paragraph">
<p>In loops, fencepost errors are often due to zero-based counting. A <code>for</code>
loop that iterates 10 times is below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-mi">10</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course, sometimes we need one-based counting instead. After being
used to zero-based counting, a programmer might make the following loop
that incorrectly iterates 9 times.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-mi">10</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The correct version that iterates 10 times is below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;=</span> <span class="tok-mi">10</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to iterate \(n\) times, start at 0 and go up to
but not including \(n\) or start at 1 and go up to and
including \(n\). To keep loop headers consistent, some
programmers always start at 0 and then adjust the values inside the
loop, printing out <code>i + 1</code> in this case.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Pitfall: Skipped loops</div>
<div class="paragraph">
<p>A loop runs as long as its condition is <code>true</code>. For <code>for</code> loops and
<code>while</code> loops, this could mean that the loop is never even entered.
Sometimes, that behavior is intended by the programmer. Sometimes, the
programmer made a mistake.</p>
</div>
<div class="paragraph">
<p>For example, we can write a program that will add any number of positive
values. When the user is finished using the adder, he or she enters a
negative number. This negative number, called a <em>sentinel value</em>, tells
the program to stop executing the loop. Below is an incorrect
implementation of such a program.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span> <span class="tok-o">);</span>
<span class="tok-kt">int</span> <span class="tok-n">number</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="tok-kt">int</span> <span class="tok-n">sum</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-n">number</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">sum</span> <span class="tok-o">+=</span> <span class="tok-n">number</span><span class="tok-o">;</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;Enter the next number to add: &quot;</span><span class="tok-o">);</span>
    <span class="tok-n">number</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">();</span>
<span class="tok-o">}</span>
<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;The total sum is &quot;</span> <span class="tok-o">+</span> <span class="tok-n">sum</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This loop will never be executed because <code>0</code> is not greater than <code>0</code>.
The program could be changed by making the condition of the <code>while</code> loop
<code>number &gt;= 0</code>. Doing so will allow the user to enter <code>0</code> as input, which
is fine since it does not change the value of the <code>sum</code>. If you want to
force the user to enter only numbers greater than zero, you could change
the loop into a <code>do-while</code> loop.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Pitfall: Misplaced semicolons</div>
<div class="paragraph">
<p>The idea of a statement in Java is often amorphous in the minds of
beginning programmers. An entire loop (with any number of loops nested
inside of it) is just one statement. An executable statement ending with
a semicolon is one statement as well, even when that executable
statement is empty. Thus, the following is a legal (but infinite) loop.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">100</span><span class="tok-o">;</span>
<span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-n">i</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span> <span class="tok-o">);</span> <span class="tok-o">{</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span>
    <span class="tok-n">i</span><span class="tok-o">--;</span>
<span class="tok-o">}</span>
<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Ready or not, here I come!&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This code was supposed to count down from 100, just like in the game of
Hide and Seek; however, there is a semicolon after the condition of the
<code>while</code> loop. This semicolon is treated like an executable statement
that does nothing. As a consequence, the <code>while</code> loop does the single
statement, checks if the condition is <code>true</code> (which it is), and
continues to do the empty statement and check the condition, forever.
The extra braces enclose two statements unnecessarily, but Java allows
extra braces, as long as they are evenly matched.</p>
</div>
<div class="paragraph">
<p>This error is common especially for those new to loops and conditional
statements and are in the habit of putting semicolons after everything.
A misplaced semicolon does not always result in an infinite loop. Here
is the <code>for</code> loop version of the same code, also with a semicolon
inserted after the loop header.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">100</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">--</span> <span class="tok-o">);</span> <span class="tok-o">{</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span>
<span class="tok-o">}</span>
<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Ready or not, here I come!&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This version of the code will execute similarly, except the decrement is
built into the header of the loop. So, the loop will execute the empty
statement, but it will also decrement <code>i</code>. This code will decrement <code>i</code>
100 times, then print out <code>0</code> exactly once, then print
<code>Ready or not, here I come!</code>.</p>
</div>
<div class="paragraph">
<p>There are some cases when an empty statement for a loop body is actually
useful, although it is never necessary. In future chapters, we will
point out situations in which you may wish to use an empty statement
this way.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_solution_dna_searching">5.4. Solution: DNA searching</h3>
<div class="paragraph">
<p>Below we give a solution to the DNA searching problem posed at the
beginning of the second half of this chapter. Our solution prints out
the index within the main <code>String</code> when it finds a match with the
pattern it is looking for. Afterwards, it prints out the total number of
matches. Our code also does error checking to make sure that the user
only enters valid DNA sequences containing the letters A, C, G, and T.
We begin our code with the standard <code>import</code> statement and class
definition.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno">1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.*</span><span class="tok-o">;</span>
<span class="lineno">2 </span>
<span class="lineno">3 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">DNASearch</span> <span class="tok-o">{</span>
<span class="lineno">4 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">5 </span>        <span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span> <span class="tok-o">);</span>
<span class="lineno">6 </span>        <span class="tok-n">String</span> <span class="tok-n">sequence</span><span class="tok-o">,</span> <span class="tok-n">subsequence</span><span class="tok-o">;</span>
<span class="lineno">7 </span>        <span class="tok-kt">boolean</span> <span class="tok-n">valid</span><span class="tok-o">;</span>
<span class="lineno">8 </span>        <span class="tok-kt">char</span> <span class="tok-n">c</span><span class="tok-o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>main()</code> method instantiates a <code>Scanner</code> object and declares both of
the <code>String</code> variables we’ll need to store the DNA sequences. The method
also declares a <code>boolean</code> and a <code>char</code> we will use for input checking.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span>        <span class="tok-k">do</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span>
<span class="lineno"> 3 </span>                <span class="tok-s">&quot;Enter the DNA sequence you wish to search in: &quot;</span><span class="tok-o">);</span>
<span class="lineno"> 4 </span>            <span class="tok-n">sequence</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">().</span><span class="tok-na">toUpperCase</span><span class="tok-o">();</span>
<span class="lineno"> 5 </span>            <span class="tok-n">valid</span> <span class="tok-o">=</span> <span class="tok-kc">true</span><span class="tok-o">;</span>
<span class="lineno"> 6 </span>            <span class="tok-k">for</span><span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">sequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">()</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">valid</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++)</span> <span class="tok-o">{</span>
<span class="lineno"> 7 </span>                <span class="tok-n">c</span> <span class="tok-o">=</span> <span class="tok-n">sequence</span><span class="tok-o">.</span><span class="tok-na">charAt</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span>
<span class="lineno"> 8 </span>                <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">c</span> <span class="tok-o">!=</span> <span class="tok-sc">'A'</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">c</span> <span class="tok-o">!=</span> <span class="tok-sc">'C'</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">c</span> <span class="tok-o">!=</span> <span class="tok-sc">'G'</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">c</span> <span class="tok-o">!=</span> <span class="tok-sc">'T'</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 9 </span>                    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Invalid DNA sequence!&quot;</span><span class="tok-o">);</span>
<span class="lineno">10 </span>                    <span class="tok-n">valid</span> <span class="tok-o">=</span> <span class="tok-kc">false</span><span class="tok-o">;</span>
<span class="lineno">11 </span>                <span class="tok-o">}</span>
<span class="lineno">12 </span>            <span class="tok-o">}</span>
<span class="lineno">13 </span>        <span class="tok-o">}</span> <span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-o">!</span><span class="tok-n">valid</span> <span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, the user is prompted for a DNA sequence to search in. This
<code>String</code> stored in <code>sequence</code> is converted to upper case just in case
the user is not being consistent. The inner <code>for</code> loop in this code is
checking each <code>char</code> inside of <code>sequence</code>. If any <code>char</code> is not an
<code>'A'</code>, <code>'C'</code>, <code>'G'</code>, or <code>'T'</code>, then <code>valid</code> is set to <code>false</code>. As a
result, the <code>for</code> loop terminates. Also, the <code>do-while</code> loop repeats the
prompt and gets a new <code>String</code> for <code>sequence</code> from the user. This outer
<code>do-while</code> loop continues as long as the user keeps entering invalid DNA
sequences.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span>        <span class="tok-k">do</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span>
<span class="lineno"> 3 </span>                <span class="tok-s">&quot;Enter the subsequence you wish to search for: &quot;</span><span class="tok-o">);</span>
<span class="lineno"> 4 </span>            <span class="tok-n">subsequence</span>  <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">().</span><span class="tok-na">toUpperCase</span><span class="tok-o">();</span>
<span class="lineno"> 5 </span>            <span class="tok-n">valid</span> <span class="tok-o">=</span> <span class="tok-kc">true</span><span class="tok-o">;</span>
<span class="lineno"> 6 </span>            <span class="tok-k">for</span><span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">subsequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">()</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">valid</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++)</span> <span class="tok-o">{</span>
<span class="lineno"> 7 </span>                <span class="tok-n">c</span> <span class="tok-o">=</span> <span class="tok-n">subsequence</span><span class="tok-o">.</span><span class="tok-na">charAt</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span>
<span class="lineno"> 8 </span>                <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">c</span> <span class="tok-o">!=</span> <span class="tok-sc">'A'</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">c</span> <span class="tok-o">!=</span> <span class="tok-sc">'C'</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">c</span> <span class="tok-o">!=</span> <span class="tok-sc">'G'</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">c</span> <span class="tok-o">!=</span> <span class="tok-sc">'T'</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 9 </span>                    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Invalid DNA sequence!&quot;</span><span class="tok-o">);</span>
<span class="lineno">10 </span>                    <span class="tok-n">valid</span> <span class="tok-o">=</span> <span class="tok-kc">false</span><span class="tok-o">;</span>
<span class="lineno">11 </span>                <span class="tok-o">}</span>
<span class="lineno">12 </span>            <span class="tok-o">}</span>
<span class="lineno">13 </span>        <span class="tok-o">}</span> <span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-o">!</span><span class="tok-n">valid</span> <span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The code used to input <code>subsequence</code> while doing error checking is
virtually identical to the code to input <code>sequence</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span>        <span class="tok-kt">int</span> <span class="tok-n">found</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span>        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">sequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">()</span> <span class="tok-o">-</span>
<span class="lineno"> 3 </span>            <span class="tok-n">subsequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">()</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>            <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">j</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">j</span> <span class="tok-o">&lt;</span> <span class="tok-n">subsequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">();</span> <span class="tok-n">j</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>                <span class="tok-k">if</span><span class="tok-o">(</span><span class="tok-n">subsequence</span><span class="tok-o">.</span><span class="tok-na">charAt</span><span class="tok-o">(</span><span class="tok-n">j</span><span class="tok-o">)</span> <span class="tok-o">!=</span> <span class="tok-n">sequence</span><span class="tok-o">.</span><span class="tok-na">charAt</span><span class="tok-o">(</span><span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-n">j</span><span class="tok-o">))</span>
<span class="lineno"> 6 </span>                    <span class="tok-k">break</span><span class="tok-o">;</span>
<span class="lineno"> 7 </span>                <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">j</span> <span class="tok-o">==</span> <span class="tok-n">subsequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">()</span> <span class="tok-o">-</span> <span class="tok-mi">1</span> <span class="tok-o">)</span> <span class="tok-o">{</span> <span class="tok-c1">//matches</span>
<span class="lineno"> 8 </span>                    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Match found at index &quot;</span> <span class="tok-o">+</span> <span class="tok-n">i</span><span class="tok-o">);</span>
<span class="lineno"> 9 </span>                    <span class="tok-n">found</span><span class="tok-o">++;</span>
<span class="lineno">10 </span>                <span class="tok-o">}</span>
<span class="lineno">11 </span>            <span class="tok-o">}</span>
<span class="lineno">12 </span>        <span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The actual workhorse of the search is found in these nested <code>for</code> loops.
The outer loop iterates through every index in <code>sequence</code>, until it
comes to an index that is too late to be the start of a new subsequence
(since the subsequence would be too long to fit anymore). This happens
to be when the value of <code>i</code> is greater than or equal to
<code>sequence.length() - subsequence.length() + 1</code>. It may take some thought
to verify that this condition is the correct one. One way to think about
this problem is by noting that, when <code>sequence</code> and <code>subsequence</code> have
the same length, you need to check starting at index <code>0</code> of <code>sequence</code>
but not any later indexes. Also, if <code>subsequence</code> is one <code>char</code> longer
than <code>sequence</code>, there can never be a match. In that case, the value of
<code>sequence.length() - subsequence.length() + 1</code> would be <code>0</code>. Since <code>0</code>
is not less than <code>0</code>, the outer <code>for</code> loop would never execute.</p>
</div>
<div class="paragraph">
<p>The inner <code>for</code> loop iterates through the length of <code>subsequence</code>,
making sure that every <code>char</code> in <code>sequence</code>, starting at the appropriate
offset, exactly matches a <code>char</code> in <code>subsequence</code>. If, at any point, the
two <code>char</code> values do not match, the inner <code>for</code> loop will immediately
exit, using the <code>break</code> command. However, on the last iteration of the
inner <code>for</code> loop, when <code>j</code> is one less than the length of <code>subsequence</code>,
we know that all of <code>subsequence</code> matched a part of <code>sequence</code>. As a
result, we print out the index of <code>sequence</code> where <code>subsequence</code> started
and increment the <code>found</code> counter.</p>
</div>
<div class="paragraph">
<p>If you know the <code>String</code> class well, you can use the <code>indexOf()</code> method
to replace the inner <code>for</code> loop. We leave that approach as an exercise.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise5.8">Exercise 5.8</a></p>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno">1 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">found</span> <span class="tok-o">==</span> <span class="tok-mi">1</span> <span class="tok-o">)</span>
<span class="lineno">2 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;One match found.&quot;</span><span class="tok-o">);</span>
<span class="lineno">3 </span>        <span class="tok-k">else</span>
<span class="lineno">4 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">found</span> <span class="tok-o">+</span> <span class="tok-s">&quot; matches found.&quot;</span><span class="tok-o">);</span>
<span class="lineno">5 </span>    <span class="tok-o">}</span>
<span class="lineno">6 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, we print out the total number of matches found. In order to
avoid awkward output like <code>1 matches found.</code>, we used an <code>if</code>-<code>else</code> to
customize the output based on the value of <code>found</code>.</p>
</div>
<div class="paragraph">
<p>The ideas needed to correctly implement the solution are not difficult,
but catching all the off-by-one errors and getting every detail right
takes care. There is also more than one way to code this solution. For
example, we could have written the nested loops that do the searching as
follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kt">int</span> <span class="tok-n">found</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">sequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">()</span> <span class="tok-o">-</span>
    <span class="tok-n">subsequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">()</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">j</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">j</span> <span class="tok-o">&lt;</span> <span class="tok-n">subsequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">()</span> <span class="tok-o">&amp;&amp;</span>
        <span class="tok-n">subsequence</span><span class="tok-o">.</span><span class="tok-na">charAt</span><span class="tok-o">(</span><span class="tok-n">j</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-n">sequence</span><span class="tok-o">.</span><span class="tok-na">charAt</span><span class="tok-o">(</span><span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-n">j</span><span class="tok-o">);</span> <span class="tok-n">j</span><span class="tok-o">++</span> <span class="tok-o">)</span>
        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">j</span> <span class="tok-o">==</span> <span class="tok-n">subsequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">()</span> <span class="tok-o">-</span> <span class="tok-mi">1</span> <span class="tok-o">)</span> <span class="tok-o">{</span> <span class="tok-c1">//matches</span>
            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Match found at index &quot;</span> <span class="tok-o">+</span> <span class="tok-n">i</span><span class="tok-o">);</span>
            <span class="tok-n">found</span><span class="tok-o">++;</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This design is preferred by many since it removes the <code>break</code>. By using
an empty statement, it is possible to move the check to see if the
matching process is done outside of the inner <code>for</code> loop.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kt">int</span> <span class="tok-n">found</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="tok-kt">int</span> <span class="tok-n">j</span><span class="tok-o">;</span>
<span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">sequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">()</span> <span class="tok-o">-</span>
    <span class="tok-n">subsequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">()</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-n">j</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">j</span> <span class="tok-o">&lt;</span> <span class="tok-n">subsequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">()</span> <span class="tok-o">&amp;&amp;</span>
        <span class="tok-n">subsequence</span><span class="tok-o">.</span><span class="tok-na">charAt</span><span class="tok-o">(</span><span class="tok-n">j</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-n">sequence</span><span class="tok-o">.</span><span class="tok-na">charAt</span><span class="tok-o">(</span><span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-n">j</span><span class="tok-o">);</span> <span class="tok-n">j</span><span class="tok-o">++</span> <span class="tok-o">);</span>
    <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">j</span> <span class="tok-o">==</span> <span class="tok-n">subsequence</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">()</span> <span class="tok-o">)</span> <span class="tok-o">{</span> <span class="tok-c1">//matches</span>
        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Match found at index &quot;</span> <span class="tok-o">+</span> <span class="tok-n">i</span><span class="tok-o">);</span>
        <span class="tok-n">found</span><span class="tok-o">++;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, note that we must declare <code>j</code> outside of the inner <code>for</code>
loop, since it will be used outside. This approach is more efficient
because we only need to perform the check once. Notice also that the
condition of the <code>if</code> statement has changed. Now, we know that all of
<code>subsequence</code> matches because the loop ran to completion. If the loop
did not run to completion, then <code>j</code> would be smaller than
<code>subsequence.length()</code> and the loop must have terminated because the two
<code>char</code> values did not match. Although more efficient, some programmers
would avoid this approach because it uses the confusing syntax in which
the body of the <code>for</code> loop is a single empty statement followed by a
semicolon. Likewise, the logic about exiting the loop and the condition
of the <code>if</code> statement is murkier.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concurrency_loops">5.5. Concurrency: Loops</h3>
<div class="paragraph">
<p>Many programmers use concurrency for speedup. They want their programs
to run faster. Most programs that run for a long time use loops to do
repetitive tasks. If these loops are doing the same operation to many
different pieces of data, we may be able to speed up the process by
splitting up the data and letting different threads operate on their own
segment of the data. Splitting up data this way is called <em>domain
decomposition</em> which allows us to achieve <em>data parallelism</em>. These
topics are discussed further in <a href="chap12.html#_concepts_splitting_up_work">Section 13.3</a>.</p>
</div>
<div class="paragraph">
<p>Performing repetitive tasks is one of the great strengths of computers.
For most programs that run a long time, incredible amounts of
computation are being done inside of (usually nested) loops. Domain
decomposition will not work for all of these programs. Some cannot be
parallelized at all, but this book is about finding problems that can
have parallel and concurrent solutions.</p>
</div>
<div class="paragraph">
<p>In <a href="chap12.html#_concurrent_programming">Chapter 13</a>, we will introduce tools
for writing a concurrent program with different threads of execution
running at the exactly the same time and potentially interacting. Using
only the power of loops, you can see parallelism in action now.</p>
</div>
<div id="parallelismWithoutThreadsExample" class="exampleblock">
<div class="title">Example 61. Parallelism without threads</div>
<div class="content">
<div class="paragraph">
<p>Consider the problem of computing the sum of the sines of a range of
integers. At its heart is a loop from the start of the range to the end.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">start</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;=</span> <span class="tok-n">end</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
    <span class="tok-n">sum</span> <span class="tok-o">+=</span> <span class="tok-n">Math</span><span class="tok-o">.</span><span class="tok-na">sin</span><span class="tok-o">(</span><span class="tok-n">start</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If we want to allow the user to specify the start and the end and print
out the sum, we need to make a program with a little bit of input and
output around this loop.</p>
</div>
<div id="SumSinesProgram" class="listingblock">
<div class="title">Program 26. Adds the sines of all integers in a range specified by the user.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.Scanner</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">SumSines</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>        <span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span><span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span><span class="tok-o">);</span>
<span class="lineno"> 6 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;Enter starting value: &quot;</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>        <span class="tok-kt">int</span> <span class="tok-n">start</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">();</span>
<span class="lineno"> 8 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;Enter ending value: &quot;</span><span class="tok-o">);</span>
<span class="lineno"> 9 </span>        <span class="tok-kt">int</span> <span class="tok-n">end</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">();</span>
<span class="lineno">10 </span>
<span class="lineno">11 </span>        <span class="tok-kt">double</span> <span class="tok-n">sum</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="lineno">12 </span>        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">start</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;=</span> <span class="tok-n">end</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
<span class="lineno">13 </span>            <span class="tok-n">sum</span> <span class="tok-o">+=</span> <span class="tok-n">Math</span><span class="tok-o">.</span><span class="tok-na">sin</span><span class="tok-o">(</span><span class="tok-n">start</span><span class="tok-o">);</span>
<span class="lineno">14 </span>
<span class="lineno">15 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Sum of sines: &quot;</span> <span class="tok-o">+</span> <span class="tok-n">sum</span> <span class="tok-o">);</span>
<span class="lineno">16 </span>    <span class="tok-o">}</span>
<span class="lineno">17 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you compile and run this program with <code>1</code> as the start value and
<code>100000000</code> as the end, the answer should be <code>1.7136493465700542</code>. One
hundred million values is a lot to find the sine for. Depending on your
machine, this task should take between 10 seconds and over a minute. Try
to time how long this takes as accurately as possible.</p>
</div>
<div class="paragraph">
<p>Now, open a total of four console windows and navigate them all to the
directory with <code>SumSines.class</code> in it. Run <code>SumSines</code> in each one. For
the first console, enter <code>1</code> as the start and <code>25000000</code> as the end. For
the second, enter <code>25000001</code> and <code>50000000</code>. For the third, enter
<code>50000001</code> and <code>75000000</code>. For the last, enter <code>75000000</code> and
<code>100000000</code>. Once they have run, you should get, respectively,
<code>1.4912473269134603</code>, <code>-0.6795491754132104</code>, <code>-0.2893142602684644</code>, and
<code>1.1912654553381272</code>. If you add these together using a calculator, you
should get <code>1.7136493465699127</code>, which is almost exactly the same answer
we got before. (Floating point rounding errors cause the slight
difference.)</p>
</div>
<div class="paragraph">
<p>If you try to start them computing at about the same time, you can try
to see how long it takes for all of them to complete. SDid it take less
time than before? If you have a single core processor, it might have
taken just as long or longer. If you have a dual-core processor, it
should have taken less time, and if you have a quad core processor, even
less. Since we are dividing the problem into four pieces, we will not
expect to see any improvement with more than four cores.</p>
</div>
<div class="paragraph">
<p>Most operating systems provide a graphical way of viewing the load on
each processor. If you examine your CPU usage while running those
programs, you should see it spike up when the programs start and then
come down when they finish. For multiple cores, how did we say which
core we wanted each program to run on? We didn’t. In general, it is
difficult to specify which core we want to run a program, process, or
thread on. The OS does the job of scheduling and picks a free processor
when it needs to run a program. It is even possible for programs and
threads to change from one core to another while running if the OS needs
to balance out the workload.</p>
</div>
<div class="paragraph">
<p>This sines example is similar to <a href="chap12.html#arraySummationExample">Example 103</a>
which we will cover in in <a href="chap12.html#_concurrent_programming">Chapter 13</a>. As
you may have noticed, running four programs is not convenient. You have
to open several windows, you have to type starting and ending points
very carefully, and you have to combine the answers at the end since
your programs cannot interact directly with each other. Features of Java
will make this job easier, allowing us to run more than one thread of
execution at a time without the need to run multiple programs by hand.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#exercise5.15">Exercise 5.15</a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_5">5.6. Exercises</h3>
<div class="paragraph">
<p><strong>Conceptual Problems</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a id="exercise5.1"></a> If you have a <code>String</code> containing a long text and you want to count
the number of words in the text that begin with the letter <code>'m'</code>, which
of the three kinds of loops would you use, and why?</p>
</li>
<li>
<p><a id="exercise5.2"></a> In <a href="#primalityTestingExample">Example 58</a>,
our last version of the primality tester <code>PrimalityTester2</code> computes the
square root of the number being tested. Instead of computing this value
before the loop, how would performance be affected by changing the head
of the <code>for</code> loop to the following?</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">for</span><span class="tok-o">(</span><span class="tok-kt">long</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">3</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;=</span> <span class="tok-n">Math</span><span class="tok-o">.</span><span class="tok-na">sqrt</span><span class="tok-o">(</span><span class="tok-n">number</span><span class="tok-o">)</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">prime</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">+=</span> <span class="tok-mi">2</span><span class="tok-o">)</span></code></pre>
</div>
</div>
</li>
<li>
<p><a id="exercise5.3"></a> How many different DNA sequences of length \(n\) are
there?</p>
</li>
<li>
<p><a id="exercise5.4"></a> There are three different errors in the following loop intended to
print out the numbers 1 through 10. What are they?</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-mi">10</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">--</span> <span class="tok-o">);</span>
<span class="tok-o">{</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</li>
<li>
<p><a id="exercise5.5"></a>  Consider the following code containing nested <code>for</code> loops.</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span><span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span><span class="tok-o">);</span>
<span class="tok-kt">int</span> <span class="tok-n">n</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">();</span>
<span class="tok-kt">int</span> <span class="tok-n">count</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;=</span> <span class="tok-n">n</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span>
    <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">j</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-n">j</span> <span class="tok-o">&lt;=</span> <span class="tok-n">i</span><span class="tok-o">;</span> <span class="tok-n">j</span><span class="tok-o">++</span> <span class="tok-o">)</span>
        <span class="tok-n">count</span><span class="tok-o">++;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In terms of the value of <code>n</code>, how many times is <code>count</code> incremented? If
it is not immediately obvious, trace through the execution of the
program by hand or run the code for several different values of <code>n</code> and
try to detect a pattern.</p>
</div>
<div class="paragraph">
<p><strong>Programming Practice</strong></p>
</div>
</li>
<li>
<p><a id="exercise5.6"></a> Write a program that converts base 10 numbers into base 3 numbers.
If you find that task too easy, write a program that will convert base
10 numbers to any base in the range 2 to 16. Hint: Use letters A through
F, in order, to represent digits larger than 9.</p>
</li>
<li>
<p><a id="exercise5.7"></a> The greatest common divisor (GCD) of two integers is the largest
integer that divides both of them evenly. The GCD for any two positive
integers is at least 1 and at most the smaller of the two numbers. Write
a program that prompts a user for two <code>int</code> values and finds their GCD.
Although there are more efficient methods, you can count down from
either number. If the counter ever divides <strong>both</strong> numbers evenly, it is
the GCD. The counter is guaranteed to divide them both if it reaches 1.</p>
</li>
<li>
<p><a id="exercise5.8"></a> In the solution to the DNA searching
problem given in <a href="#_solution_dna_searching">Section 5.4</a>, we used two <code>for</code>
loops to find occurrences of a DNA subsequence inside of a larger
sequence. Professional Java developers would have used a single <code>for</code>
loop and the <code>indexOf()</code> method in the <code>String</code> class. One version of
this method returns the index of a substring within a <code>String</code> object,
starting from a particular offset, as shown below.</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">String</span> <span class="tok-n">text</span> <span class="tok-o">=</span> <span class="tok-s">&quot;fun dysfunction&quot;</span><span class="tok-o">;</span>
<span class="tok-n">String</span> <span class="tok-n">search</span> <span class="tok-o">=</span> <span class="tok-s">&quot;fun&quot;</span><span class="tok-o">;</span>
<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Location: &quot;</span> <span class="tok-o">+</span> <span class="tok-n">text</span><span class="tok-o">.</span><span class="tok-na">indexOf</span><span class="tok-o">(</span><span class="tok-n">search</span><span class="tok-o">,</span> <span class="tok-mi">4</span><span class="tok-o">));</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This code will output <code>Location: 7</code> since the first occurrence of
<code>&quot;fun&quot;</code> from index <code>4</code> or later starts at index <code>7</code>. If there are no
more occurrences of the substring beyond the starting index, the method
will return <code>-1</code>. Rewrite the solution to the DNA searching problem,
replacing the inner searching <code>for</code> loop with the <code>indexOf()</code> method.</p>
</div>
</li>
<li>
<p><a id="exercise5.9"></a> Write a program that reads a number \(n\) from a user and
then prints all possible DNA sequences of length \(n\). Be
careful not to supply too large of a value when you run this program.
Hint: Represent the sequence as a <code>String</code>. On each iteration, focus on
the last <code>char</code> in the <code>String</code>. If it is an <code>'A'</code>, change it to a
<code>'C'</code>. If it is a <code>'C'</code>, change it to a <code>'G'</code>. If it is a <code>'G'</code>, change
it to a <code>'T'</code>. If it is a <code>'T'</code>, change it back to an <code>'A'</code>, but
“carry” the increment over to the next <code>char</code>, like a rolling
odometer. You will have to design loops that can deal with carries that
cascade across multiple indexes.</p>
</li>
<li>
<p><a id="exercise5.10"></a> Re-implement the solution to the DNA searching program given in
<a href="#_solution_dna_searching">Section 5.4</a> using <code>JOptionPane</code> to generate GUIs
for input and output.</p>
<div class="paragraph">
<p><strong>Experiments</strong></p>
</div>
</li>
<li>
<p><a id="exercise5.11"></a> Using a <code>for</code> loop, record the Monty Hall simulation so that you can
run it 100 times, always choosing to switch doors. Keep a record of how
many times you win. Change your code again to run the Monty Hall
simulation 100 more times, always choosing to keep your initial choice.
Again, keep a record of how many times you win. Compare the two records.
Choosing to switch should perform roughly twice as well as keeping the
first door. Increase the number of iterations to 1,000 and then 10,000
times. Does the performance of switching get closer to twice the
performance of not switching?</p>
</li>
<li>
<p><a id="exercise5.12"></a> Write three nested <code>for</code> loops, each of which run 1,000 times.
Increment a counter in the innermost <code>for</code> loop. If that counter starts
at 0, its final value should be 1,000,000,000. Time how long your
program takes to run to completion using either a stopwatch or, if you
are on a Unix or Linux system, the <code>time</code> command. Feel free to increase
and decrease the amount that each loop runs to see the effect on the
time. However, if you increase the values of all three loops too much,
you may have to wait longer than you want.</p>
</li>
<li>
<p><a id="exercise5.13"></a> In <a href="#_common_pitfalls">Section 5.3.5</a>, one of the common loop
mistakes we discuss is an almost infinite loop. Create your own almost
infinite loop that runs from <code>10</code> to <code>0</code>, incrementing instead of
decrementing. Time the execution of your program. Unlike our example, do
not use an output statement or your code will take too long to run. How
much longer would your code take to run if you used a <code>long</code> instead of
an <code>int</code>?</p>
</li>
<li>
<p><a id="exercise5.14"></a> In <a href="#primalityTestingExample">Example 58</a>, we gave three programs to
test a number for primality. Run each of these prime testers on a large
prime such as 982,451,653 and time them. Is there a significant
difference in the running time of <code>PrimalityTester0</code> and
<code>PrimalityTester1</code>? What about <code>PrimalityTester1</code> and
<code>PrimalityTester2</code>?</p>
</li>
<li>
<p><a id="exercise5.15"></a> In <a href="#parallelismWithoutThreadsExample">Example 61</a>, we ran four programs at the same time to solve a
problem in parallel. Use the same framework (combined with your
knowledge of primes from <a href="#primalityTestingExample">Example 58</a>) to write
a program that can see how many prime numbers are in a user specified
range of integers. Then, use it to find the total number of primes
between 2 and 500,000,000. Now, run two copies of the program with one
starting at 2 and going up to 250,000,000 and the other starting at
250,000,001 and going up to 500,000,000. If you add the numbers
together, do you get the same answer? (If not, there is a bug in your
program.) Now, divide the work into four pieces. How much quicker, if at
all, is running all four programs instead of one? Does one of the four
pieces run significantly faster or slower than the others?</p>
</li>
</ol>
</div>
</div>
</div>
</div></div>
<div id="footer">
<div id="footer-text">
Last updated 2018-08-16 13:36:09 EDT
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>